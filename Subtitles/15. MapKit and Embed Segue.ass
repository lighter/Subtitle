[Script Info] 
; Script generated by Aegisub 3.2.0 
; http://www.aegisub.org/ 
Title: Default Aegisub file 
ScriptType: v4.00+ 
WrapStyle: 0 
ScaledBorderAndShadow: yes 
YCbCr Matrix: None

[Aegisub Project Garbage] 
Last Style Storage: Default 
Active Line: 6

[V4+ Styles] 
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding 
Style: yin, 冬青黑体简体中文 W3,20,&H00FFFFFF,&HF0000000,&H00000000,&H32000000,0,0,0,0,100,100,0,0,1,1,0,2,5,5,5,134

[Events] 
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text 
Dialogue: 0,0:00:05.32,0:00:09.06,yin,,0,0,0,, 斯坦福大学 \N{\fs12}> Stanford University. 
Dialogue: 0,0:00:09.06,0:00:15.05,yin,,0,0,0,, 欢迎来到 CS193P 课程 2013-14 秋季第 15 讲 \N{\fs12}> Okay. Well, welcome to lecture 15 of CS193p for fall of 2013/14. 
Dialogue: 0,0:00:15.05,0:00:18.31,yin,,0,0,0,, 今天的主要内容将是 MapKit\N{\fs12}And our primary topic today is going to be the map kit, 
Dialogue: 0,0:00:18.31,0:00:22.01,yin,,0,0,0,, 也就是我们周一讨论的那种 UI\N{\fs12}which is kind of the UI on what we talked about on Monday. 
Dialogue: 0,0:00:22.01,0:00:24.79,yin,,0,0,0,, 作为这个的一部分 特别是在演示中 \N{\fs12}As part of that, though, especially in the demonstration 
Dialogue: 0,0:00:24.79,0:00:27.75,yin,,0,0,0,, 我会展示关于 segue 的两点重要内容 \N{\fs12}that I do, I'm going to show you two things about segue's that are pretty important. 
Dialogue: 0,0:00:27.75,0:00:30.86,yin,,0,0,0,, 一是如何从代码中发起 segue\N{\fs12}One is how to fire off a segue from code. 
Dialogue: 0,0:00:30.86,0:00:32.89,yin,,0,0,0,, 之前 我们一直都是通过 \N{\fs12}So far all the time that we've made a segue go, 
Dialogue: 0,0:00:32.89,0:00:35.59,yin,,0,0,0,, 从故事板的一处 control 拖动到 \N{\fs12}we just control, dragged from something in a storyboard 
Dialogue: 0,0:00:35.59,0:00:38.10,yin,,0,0,0,, 另一个故事板 然后我们再点击它 \N{\fs12}to another storyboard, and then we clicked on that something. 
Dialogue: 0,0:00:38.10,0:00:42.20,yin,,0,0,0,, 得到 segue 下面我们将考虑从代码中发起 segue\N{\fs12}It would segue, so now we're going to able to fire off a segue from in code. 
Dialogue: 0,0:00:42.20,0:00:44.82,yin,,0,0,0,, 然后我今天还会讲到一种新的 segue\N{\fs12}And then I'm also going to teach you a new kind of segue today, 
Dialogue: 0,0:00:44.82,0:00:48.47,yin,,0,0,0,, 也就是 embed segue 这个我也会演示 \N{\fs12}which is the embed segue, and I'm going to demo that, as well, 
Dialogue: 0,0:00:48.47,0:00:50.67,yin,,0,0,0,, 我有一个大的 demo 演示各种地图方面的内容 \N{\fs12}in a big demo that shows you all the map stuff 
Dialogue: 0,0:00:50.67,0:00:53.49,yin,,0,0,0,, 还有手动 segue 和 embed segue\N{\fs12}and manual segue and the embed segue. 
Dialogue: 0,0:00:53.49,0:00:58.61,yin,,0,0,0,, 以上就是今天的内容 \N{\fs12}So that's what's on tap for today. 
Dialogue: 0,0:00:58.61,0:00:59.93,yin,,0,0,0,, 来看 MapKit\N{\fs12}And, so, map kit. 
Dialogue: 0,0:00:59.93,0:01:01.08,yin,,0,0,0,,MapKit 是什么 \N{\fs12}So what is map kit? 
Dialogue: 0,0:01:01.08,0:01:05.90,yin,,0,0,0,,MapKit 也就是位置的用户界面 \N{\fs12}Map kit is basically user interface for locations 
Dialogue: 0,0:01:05.90,0:01:11.42,yin,,0,0,0,, 它主要的类是这个 UIView 叫作 MKMapView\N{\fs12}and its primary class is this UI view, called an MK map view. 
Dialogue: 0,0:01:11.42,0:01:15.43,yin,,0,0,0,,MapView 这整个属于一个不同的框架 叫 MapKit 框架 \N{\fs12}The whole map view stuff is in a different framework, called a map kit framework. 
Dialogue: 0,0:01:15.43,0:01:17.58,yin,,0,0,0,, 想使用 MapKit 框架时 \N{\fs12}When you want to use the map kit framework you have 
Dialogue: 0,0:01:17.58,0:01:22.08,yin,,0,0,0,, 你需要明确到项目设置中进行关联 \N{\fs12}to actually explicitly go into your project settings and set it to be linked. 
Dialogue: 0,0:01:22.08,0:01:25.64,yin,,0,0,0,, 否则 MKMapView 这些类都不会有 \N{\fs12}Otherwise, all these classes like MK map view won't be there, 
Dialogue: 0,0:01:25.64,0:01:28.94,yin,,0,0,0,, 我会在 demo 中演示如何做到这个 \N{\fs12}and I'm going to show that in the demo, how you do that. 
Dialogue: 0,0:01:28.94,0:01:33.45,yin,,0,0,0,, 在 MapView 之内 有这些大头针 \N{\fs12}So, inside of the map view, you have these little pins. 
Dialogue: 0,0:01:33.45,0:01:35.93,yin,,0,0,0,, 这些大头针可以有不同颜色 \N{\fs12}They look a little red pin there, they can be different colors. 
Dialogue: 0,0:01:35.93,0:01:40.97,yin,,0,0,0,, 这些被叫作 AnnotationView\N{\fs12}These are called annotation views. 
Dialogue: 0,0:01:40.97,0:01:43.06,yin,,0,0,0,, 你可以自定义 可以创建 AnnotationView 的子类 \N{\fs12}So every annotation view in there, and you, 
Dialogue: 0,0:01:43.06,0:01:45.46,yin,,0,0,0,, 你可以自定义 可以创建 AnnotationView 的子类 \N{\fs12}you can customize this, you can subclass annotation view 
Dialogue: 0,0:01:45.46,0:01:47.80,yin,,0,0,0,, 你也可以让它不是一个大头针 \N{\fs12}to make it not look like a pin if you want. 
Dialogue: 0,0:01:47.80,0:01:51.21,yin,,0,0,0,, 反正 这些 AnnotationView 负责 \N{\fs12}But these annotation views are responsible 
Dialogue: 0,0:01:51.21,0:01:54.47,yin,,0,0,0,, 显示世界中的某个地点 \N{\fs12}for showing some place in the world, 
Dialogue: 0,0:01:54.47,0:01:56.19,yin,,0,0,0,, 除了大头针以外 \N{\fs12}and they have a pin, 
Dialogue: 0,0:01:56.19,0:01:58.14,yin,,0,0,0,, 这里还有一个对话框 \N{\fs12}but then they also have this little call out, if you click 
Dialogue: 0,0:01:58.14,0:02:00.81,yin,,0,0,0,, 点击时 这里会有一个白条 \N{\fs12}on them, you see that little white bar right there? 
Dialogue: 0,0:02:00.81,0:02:04.66,yin,,0,0,0,, 这个对话框也可以自定义 \N{\fs12}And that call out can be customized, a little bit. 
Dialogue: 0,0:02:04.66,0:02:07.66,yin,,0,0,0,, 可以设置标题和副标题 \N{\fs12}The title that's in it and it can have a little subtitle 
Dialogue: 0,0:02:07.66,0:02:10.48,yin,,0,0,0,, 它还可以有左侧和右侧的附属视图 \N{\fs12}and also it can have left and right accessory views, 
Dialogue: 0,0:02:10.48,0:02:13.40,yin,,0,0,0,, 这里有一个左附属视图 这是一个图像视图 \N{\fs12}so this one has a left accessory view, which is an image view, 
Dialogue: 0,0:02:13.40,0:02:17.13,yin,,0,0,0,, 还有一个右附属视图 这是一个按钮 你可以点它 \N{\fs12}and there's a right accessory view which is a little button that you can click on. 
Dialogue: 0,0:02:17.13,0:02:19.00,yin,,0,0,0,,demo 中 所有这些部分我们都会演示 \N{\fs12}So in our demo we're going to do all of this. 
Dialogue: 0,0:02:19.00,0:02:24.14,yin,,0,0,0,,demo 中 所有这些部分我们都会演示 \N{\fs12}And we're going to cover all of these various parts, what's going on. 
Dialogue: 0,0:02:24.14,0:02:26.66,yin,,0,0,0,, 主要需要理解的是 如何创建 MapView\N{\fs12}But the main thing to understand is how you create a map view 
Dialogue: 0,0:02:26.66,0:02:28.89,yin,,0,0,0,, 以及如何将这些东西放到地图上 \N{\fs12}and how you put these things on the map, so map view, 
Dialogue: 0,0:02:28.89,0:02:30.72,yin,,0,0,0,,MapView 可以 alloc init\N{\fs12}just alloc init, or more often 
Dialogue: 0,0:02:30.72,0:02:35.85,yin,,0,0,0,, 不过更常用的方法是从 Xcode 的面板中拖出 \N{\fs12}we drag it out, from the palette, in Xcode, 
Dialogue: 0,0:02:35.85,0:02:42.51,yin,,0,0,0,, 要想使用大头针 我们需要加上这些 Annotation\N{\fs12}and the way we put the pins on there is we add these things called annotations. 
Dialogue: 0,0:02:42.51,0:02:47.89,yin,,0,0,0,,Annotation 其实就是一个 id 响应这个协议 \N{\fs12}So an annotation is really just an ID, the response to this protocol. 
Dialogue: 0,0:02:47.89,0:02:50.07,yin,,0,0,0,, 这个 MKAnnotation 协议 \N{\fs12}See this MK annotation protocol up here. 
Dialogue: 0,0:02:50.07,0:02:55.86,yin,,0,0,0,, 应用程序中任何响应这个协议的对象 \N{\fs12}So any object in your entire application that responds to this protocol 
Dialogue: 0,0:02:55.86,0:02:58.35,yin,,0,0,0,, 都可以被放到 MapView 上 \N{\fs12}can just be dropped onto the map view. 
Dialogue: 0,0:02:58.35,0:03:00.07,yin,,0,0,0,, 这个协议中有什么呢 \N{\fs12}So what's in this protocol? 
Dialogue: 0,0:03:00.07,0:03:03.35,yin,,0,0,0,, 很简单 它有一些可选方法 标题和副标题 \N{\fs12}Very simple, it's got a couple optional methods, the title and subtitle, 
Dialogue: 0,0:03:03.35,0:03:05.19,yin,,0,0,0,, 我们看到的那个白色对话框 \N{\fs12}so in that little white call out that we saw, 
Dialogue: 0,0:03:05.19,0:03:06.76,yin,,0,0,0,, 那里有标题和副标题 \N{\fs12}that's going to be the title and subtitle there. 
Dialogue: 0,0:03:06.76,0:03:12.16,yin,,0,0,0,, 然后它有一个很重要的必须属性 也就是坐标 \N{\fs12}And then it's got a very important required property, which is the coordinate.
Dialogue: 0,0:03:12.16,0:03:14.58,yin,,0,0,0,, 坐标也就是经纬度 \N{\fs12}So the coordinate is just the latitude and longitude, 
Dialogue: 0,0:03:14.58,0:03:18.48,yin,,0,0,0,, 由 CLLocation 坐标指定 这是 C struct\N{\fs12}as specified by this CL location coordinate, C struct. 
Dialogue: 0,0:03:18.48,0:03:21.76,yin,,0,0,0,, 任何能够回答这些的对象 \N{\fs12}And so any object that can answer these, 
Dialogue: 0,0:03:21.76,0:03:23.99,yin,,0,0,0,, 其实主要也就是坐标这个问题 \N{\fs12}really just this one question of the coordinate, 
Dialogue: 0,0:03:23.99,0:03:27.98,yin,,0,0,0,, 不过通常 我们也需要标题和副标题 \N{\fs12}but usually we want title and subtitle too, 
Dialogue: 0,0:03:27.98,0:03:29.68,yin,,0,0,0,, 都能被放到地图上 \N{\fs12}can be thrown on a map, 
Dialogue: 0,0:03:29.68,0:03:31.75,yin,,0,0,0,, 例如 在我们的 demo 中 \N{\fs12}and, for example, in the demo that we're going to do, 
Dialogue: 0,0:03:31.75,0:03:33.46,yin,,0,0,0,, 我们会扩展 Photomania\N{\fs12}we're going to extend photo mania. 
Dialogue: 0,0:03:33.46,0:03:35.51,yin,,0,0,0,, 我会被照片对象放到那里 \N{\fs12}I'm just going to throw photo objects in there. 
Dialogue: 0,0:03:35.51,0:03:38.46,yin,,0,0,0,, 实际上 照片对象已经实现了标题和副标题 \N{\fs12}In fact, photo objects already implement title and subtitle, 
Dialogue: 0,0:03:38.46,0:03:41.82,yin,,0,0,0,, 我们只需要让照片对象成为 MKAnnotation\N{\fs12}so all we really need to do is make a photo object be an MK annotation 
Dialogue: 0,0:03:41.83,0:03:43.37,yin,,0,0,0,, 并响应那个协议 \N{\fs12}and respond to that protocol, 
Dialogue: 0,0:03:43.37,0:03:45.90,yin,,0,0,0,, 只需要实现坐标方法 \N{\fs12}is to implement the required coordinate method and that's what we're going to do 
Dialogue: 0,0:03:45.90,0:03:47.66,yin,,0,0,0,, 照片就能放到地图上了 \N{\fs12}and then we can just throw photos on the map. 
Dialogue: 0,0:03:47.66,0:03:50.84,yin,,0,0,0,, 这里不需要任何特殊的类 \N{\fs12}We don't have to make any other special classes or anything, 
Dialogue: 0,0:03:50.84,0:03:54.62,yin,,0,0,0,, 只需要把照片丢到地图上 \N{\fs12}just throw the photos themselves up there. 
Dialogue: 0,0:03:54.62,0:03:56.93,yin,,0,0,0,, 设定 Annotation 时 这个属性…\N{\fs12}When you're setting the annotations, this property, 
Dialogue: 0,0:03:56.93,0:04:00.77,yin,,0,0,0,,MKMapView 上有一个属性是 Annotation 的 NSArray\N{\fs12}there's a property on MK map view which is an NS array 
Dialogue: 0,0:04:00.77,0:04:03.66,yin,,0,0,0,, 数组中是所有 MapView 所显示的 Annotation\N{\fs12}of annotations, that's all the annotations that the map view is showing, 
Dialogue: 0,0:04:03.66,0:04:05.54,yin,,0,0,0,, 不过这是一个只读属性 \N{\fs12}but that's read only properties, 
Dialogue: 0,0:04:05.54,0:04:06.86,yin,,0,0,0,, 你不能那样设置数组 \N{\fs12}so you can't set the array that way, 
Dialogue: 0,0:04:06.86,0:04:09.40,yin,,0,0,0,, 你需要使用 addAnnotation 方法 \N{\fs12}you have to use these add annotation methods 
Dialogue: 0,0:04:09.40,0:04:11.64,yin,,0,0,0,, 或是 addAnnotations 删除也是一样 \N{\fs12}or add annotations, and same thing removing them. 
Dialogue: 0,0:04:11.64,0:04:13.93,yin,,0,0,0,, 添加和删除需要用到这些方法 \N{\fs12}So you add and remove them with these methods, 
Dialogue: 0,0:04:13.93,0:04:17.16,yin,,0,0,0,, 你不能直接对数组进行操作 \N{\fs12}you don't manipulate that array directly. 
Dialogue: 0,0:04:17.16,0:04:20.05,yin,,0,0,0,, 这其实是一个很好的主意 \N{\fs12}It's a pretty good idea, if you can, 
Dialogue: 0,0:04:20.05,0:04:21.60,yin,,0,0,0,, 如果你有信息 \N{\fs12}if you have the information, 
Dialogue: 0,0:04:21.60,0:04:24.95,yin,,0,0,0,, 你可以预先把所有 Annotation 加到 MapView\N{\fs12}to add all of your annotations up front to the map view. 
Dialogue: 0,0:04:24.95,0:04:27.96,yin,,0,0,0,, 实际上 添加 Annotation 开销很小 \N{\fs12}Adding an annotation is actually pretty low overhead, 
Dialogue: 0,0:04:27.96,0:04:30.96,yin,,0,0,0,, 特别是 Annotation 目前不在屏幕上的情况下 \N{\fs12}especially if that annotation is not on screen currently. 
Dialogue: 0,0:04:30.96,0:04:32.98,yin,,0,0,0,, 这是因为这些 MKAnnotationView\N{\fs12}And that's because those MK annotation views, 
Dialogue: 0,0:04:32.98,0:04:34.92,yin,,0,0,0,, 这些带有对话框的大头针 \N{\fs12}the little pin that does the call out, 
Dialogue: 0,0:04:34.92,0:04:38.44,yin,,0,0,0,, 这些东西会像表格视图的行一样被再利用 \N{\fs12}those things are reused like a table views rows. 
Dialogue: 0,0:04:38.44,0:04:42.94,yin,,0,0,0,, 如果你有数百个 Annotation 但屏幕上只显示五个 \N{\fs12}So if you have hundreds of annotations, but only five of them are on the screen, 
Dialogue: 0,0:04:42.94,0:04:46.04,yin,,0,0,0,, 这时你就只需要创建五个 MKAnnotationView\N{\fs12}you're only going to create 5 of those MK annotation views, 
Dialogue: 0,0:04:46.05,0:04:49.42,yin,,0,0,0,, 程序使用过程中 有些会从屏幕上消失 \N{\fs12}and as you kind of move around in the world and they go off-screen, 
Dialogue: 0,0:04:49.42,0:04:51.32,yin,,0,0,0,, 新的就可以再利用它们 \N{\fs12}they'll get reused for new ones. 
Dialogue: 0,0:04:51.32,0:04:55.66,yin,,0,0,0,, 预先把所有 Annotation 加到 MapView\N{\fs12}So letting the map view all the annotations up front, 
Dialogue: 0,0:04:55.66,0:04:59.83,yin,,0,0,0,, 对于管理内部性能非常有帮助 \N{\fs12}it's nice to help it manage its internal performance, or whatever. 
Dialogue: 0,0:04:59.83,0:05:02.20,yin,,0,0,0,, 一般这是推荐的 不过你并不总知道 \N{\fs12}So it's generally recommended, but you don't always know, 
Dialogue: 0,0:05:02.20,0:05:04.27,yin,,0,0,0,, 有时 你并不能预先知道所有 Annotation\N{\fs12}sometimes you don't know all the annotations up front, 
Dialogue: 0,0:05:04.27,0:05:07.87,yin,,0,0,0,, 它可能是实时发生的 \N{\fs12}it's happening in real time or something. 
Dialogue: 0,0:05:07.87,0:05:11.15,yin,,0,0,0,,Annotation 是怎么样的呢 \N{\fs12}So, what do annotations look like? 
Dialogue: 0,0:05:11.15,0:05:12.74,yin,,0,0,0,, 一般是一个大头针 \N{\fs12}They generally look like a pin, 
Dialogue: 0,0:05:12.74,0:05:16.21,yin,,0,0,0,, 不过在 MKAnnotationView 中有很多方法可以调用 \N{\fs12}but there's a lot of methods that you can call in MK annotation view 
Dialogue: 0,0:05:16.21,0:05:18.20,yin,,0,0,0,, 你还可以创建 MKAnnotationView 的子类 \N{\fs12}and you can also subclass MK annotation view 
Dialogue: 0,0:05:18.20,0:05:21.20,yin,,0,0,0,, 画一个不同于大头针的东西 \N{\fs12}to draw something different in a pin, and this call 
Dialogue: 0,0:05:21.20,0:05:24.76,yin,,0,0,0,, 而这个对话框则较难创建子类让其变得不同 \N{\fs12}out is a little more difficult to subclass and make different. 
Dialogue: 0,0:05:24.76,0:05:29.62,yin,,0,0,0,, 如果只用这种有左右视图的对话框就够了 \N{\fs12}So if you can get by with just doing this left and right call out business, 
Dialogue: 0,0:05:29.63,0:05:32.26,yin,,0,0,0,, 那将很好 毕竟这会很简单 \N{\fs12}then that's good because that's easy. 
Dialogue: 0,0:05:32.26,0:05:35.64,yin,,0,0,0,, 如果你还想做更多 那将不属于这门课的范畴 \N{\fs12}If you want to do more, then it's kind of beyond the scope of this class 
Dialogue: 0,0:05:35.65,0:05:37.38,yin,,0,0,0,, 你需要自己去查怎么做 \N{\fs12}and you're going to have to do some searching around. 
Dialogue: 0,0:05:37.38,0:05:42.05,yin,,0,0,0,, 可以是可以 不过要在基本对话框的标题 副标题 \N{\fs12}It's doable, but doing something different than that basic call out with title, subtitle, 
Dialogue: 0,0:05:42.05,0:05:45.29,yin,,0,0,0,, 左右附属视图之外做别的 会比较困难 \N{\fs12}left and right accessory view is a little more difficult. 
Dialogue: 0,0:05:45.29,0:05:50.12,yin,,0,0,0,, 对话框的内容很有趣 什么时候设置这些呢 \N{\fs12}What, the contents of that call out are kind of interesting, when do you set those up? 
Dialogue: 0,0:05:50.12,0:05:54.16,yin,,0,0,0,,MapView 有一个委托 我们会谈到 \N{\fs12}Well, there is a map, okay, the map view has a delegate we're going to talk about, 
Dialogue: 0,0:05:54.16,0:05:58.38,yin,,0,0,0,,MapView 委托的一个方法就是 \N{\fs12}and one of the map view delegate methods is essentially 
Dialogue: 0,0:05:58.38,0:06:01.38,yin,,0,0,0,, 为我创建这个 MKAnnotationView\N{\fs12}build this MK annotation view for me, 
Dialogue: 0,0:06:01.38,0:06:05.43,yin,,0,0,0,, 包括左右附属视图 把这些也 alloc init 了 \N{\fs12}including the left and right accessory views, you know, alloc init those, as well, 
Dialogue: 0,0:06:05.43,0:06:08.40,yin,,0,0,0,, 你可以在创建时加载这些 \N{\fs12}and you can load those up at the time you build it, 
Dialogue: 0,0:06:08.40,0:06:11.75,yin,,0,0,0,, 你也可以等到大头针被点时再加载这些 \N{\fs12}or you can wait until the pin is pressed to load those up. 
Dialogue: 0,0:06:11.75,0:06:16.38,yin,,0,0,0,, 为什么要等大头针被点时再加载 AnnotationView 呢 \N{\fs12}Now why would you want to wait till the pin is pressed to load up those annotation views? 
Dialogue: 0,0:06:16.38,0:06:17.83,yin,,0,0,0,, 看看这个例子 \N{\fs12}Well, let's look at this example right here. 
Dialogue: 0,0:06:17.83,0:06:19.16,yin,,0,0,0,, 你有一个缩略图 \N{\fs12}You've got that thumb nail. 
Dialogue: 0,0:06:19.16,0:06:23.01,yin,,0,0,0,, 如果缩略图需要 Flickr 取回 \N{\fs12}What if that thumb nail is, requires a Flickr fetch? 
Dialogue: 0,0:06:23.01,0:06:27.49,yin,,0,0,0,, 我们肯定不想对整个世界的所有大头针取回照片 \N{\fs12}Okay, well you don't want to fetch that photo for all the pins in the entire world, 
Dialogue: 0,0:06:27.49,0:06:30.45,yin,,0,0,0,, 仅仅对屏幕上可见的取回照片就够让人吃不消了 \N{\fs12}or even all of the pins that are visible on screen. 
Dialogue: 0,0:06:30.45,0:06:35.04,yin,,0,0,0,, 这时 你就只希望在大头针被点时再取回 Flickr 信息 \N{\fs12}You only want to load that Flickr, do that Flickr fetch, when a pin is clicked on. 
Dialogue: 0,0:06:35.04,0:06:36.87,yin,,0,0,0,,MapView 中有一个委托方法 \N{\fs12}So there's this delegate method in the map view 
Dialogue: 0,0:06:36.87,0:06:39.06,yin,,0,0,0,, 叫 mapView didSelectAnnotationView\N{\fs12}called map view did select annotation view, 
Dialogue: 0,0:06:39.06,0:06:41.06,yin,,0,0,0,, 点大头针时它会被调用 \N{\fs12}it'll get called when you click on a pin, that's a good place 
Dialogue: 0,0:06:41.06,0:06:42.83,yin,,0,0,0,, 这时再 Flickr 取回会更好 \N{\fs12}to like do that Flickr fetch. 
Dialogue: 0,0:06:42.83,0:06:44.56,yin,,0,0,0,, 加载对话框中的信息 \N{\fs12}Load up the callout. 
Dialogue: 0,0:06:44.56,0:06:48.00,yin,,0,0,0,, 我们会在 demo 中演示这是怎么做的 \N{\fs12}And we're going to do that in the demo and see how that works too. 
Dialogue: 0,0:06:48.00,0:06:50.88,yin,,0,0,0,, 我们有这些 MKAnnotationView\N{\fs12}So, we have these MK annotation views 
Dialogue: 0,0:06:50.88,0:06:53.69,yin,,0,0,0,, 来显示这些 id \N{\fs12}that are going to show these ID MK annotations, 
Dialogue: 0,0:06:53.69,0:06:56.65,yin,,0,0,0,, 两者如何关联起来呢 \N{\fs12}how do those two get connected up, and they get connected 
Dialogue: 0,0:06:56.65,0:07:00.48,yin,,0,0,0,, 这需要通过这个 MapView 委托方法 \N{\fs12}up by this map view delegate method 
Dialogue: 0,0:07:00.49,0:07:02.47,yin,,0,0,0,,mapView viewForAnnotation\N{\fs12}called map view, view for annotation, 
Dialogue: 0,0:07:02.47,0:07:03.95,yin,,0,0,0,, 它会返回一个 MKAnnotationView\N{\fs12}and it returns a view for annotation. 
Dialogue: 0,0:07:03.95,0:07:08.34,yin,,0,0,0,, 这同表格视图中的 cellForRowAtIndexPath 几乎一样 \N{\fs12}This is almost exactly the same as cellForRowAtIndexPath in table view. 
Dialogue: 0,0:07:08.34,0:07:10.99,yin,,0,0,0,,cellForRowAtIndexPath 你给它一个 section 和一个行 \N{\fs12}cellForRowAtIndexPath, you give it a section and a row, 
Dialogue: 0,0:07:10.99,0:07:12.58,yin,,0,0,0,, 它会返回一个 UITableViewCell\N{\fs12}it gives you back a UI table view cell, 
Dialogue: 0,0:07:12.58,0:07:14.67,yin,,0,0,0,, 一个视图 来显示那个行 \N{\fs12}which is a view to display that row. 
Dialogue: 0,0:07:14.67,0:07:15.54,yin,,0,0,0,, 这里也一样 \N{\fs12}Same thing here. 
Dialogue: 0,0:07:15.54,0:07:17.41,yin,,0,0,0,, 它会给你一个 Annotation\N{\fs12}It's going to give you an annotation, 
Dialogue: 0,0:07:17.41,0:07:20.00,yin,,0,0,0,, 你给它返回一个 MKAnnotationView\N{\fs12}and you're going to give it back an MK annotation view 
Dialogue: 0,0:07:20.00,0:07:21.84,yin,,0,0,0,, 来绘制那个 Annotation\N{\fs12}to draw that annotation. 
Dialogue: 0,0:07:21.84,0:07:25.17,yin,,0,0,0,,MapView 还有这个机制 \N{\fs12}Now, map view even has this mechanism. 
Dialogue: 0,0:07:25.17,0:07:28.28,yin,,0,0,0,,dequeueReusable…这个 同表格视图一样 \N{\fs12}The dequeue reusable thing, like table view has. 
Dialogue: 0,0:07:28.28,0:07:31.33,yin,,0,0,0,, 你可以说 sender 这里也就是 MapView\N{\fs12}Right? So you can say sender, which is the map view there, 
Dialogue: 0,0:07:31.33,0:07:33.38,yin,,0,0,0,,dequeueReusableAnnotationViewWithIdentifier\N{\fs12}dequeue reusable annotation view with identifier, 
Dialogue: 0,0:07:33.38,0:07:34.62,yin,,0,0,0,, 给一个标识符 \N{\fs12}you give an identifier, 
Dialogue: 0,0:07:34.62,0:07:38.28,yin,,0,0,0,, 如果它在 MKAnnotationView 上有一个大头针视图 \N{\fs12}and if it's got a pin view on MK annotation view that it 
Dialogue: 0,0:07:38.29,0:07:40.19,yin,,0,0,0,, 被丢到屏幕上 \N{\fs12}got thrown off the screen 
Dialogue: 0,0:07:40.19,0:07:43.99,yin,,0,0,0,, 而且它能再利用它 它就会把它引入 并在这里给你 \N{\fs12}and it can reuse it, it'll bring it in, and give it to you here. 
Dialogue: 0,0:07:43.99,0:07:46.05,yin,,0,0,0,, 但是如果没有 \N{\fs12}But if it doesn't have any, 
Dialogue: 0,0:07:46.05,0:07:48.00,yin,,0,0,0,, 想想在表格视图下 会发生什么 \N{\fs12}then in the table view case, what happens? 
Dialogue: 0,0:07:48.00,0:07:51.25,yin,,0,0,0,, 系统会自动复制原型 对吧 \N{\fs12}We, the system will automatically duplicate that prototype, right? 
Dialogue: 0,0:07:51.25,0:07:54.10,yin,,0,0,0,, 故事板中我们设置有原型单元格 \N{\fs12}You got the prototype cell that we set up in the storyboard, 
Dialogue: 0,0:07:54.10,0:07:56.02,yin,,0,0,0,, 复制它 但这里不会这样 \N{\fs12}and you'll duplicate it, but that doesn't happen here, 
Dialogue: 0,0:07:56.02,0:07:57.98,yin,,0,0,0,, 因为地图视图中没有这个 \N{\fs12}because we don't get to do that in the map view, 
Dialogue: 0,0:07:57.98,0:08:00.79,yin,,0,0,0,, 地图视图没有原型单元格这些 \N{\fs12}the map view doesn't have all this mechanism for prototype cells and everything. 
Dialogue: 0,0:08:00.79,0:08:04.66,yin,,0,0,0,, 如果这个返回 nil dequeueReusable…这个 \N{\fs12}So, if that comes back as nil, the dequeueReusable thing, 
Dialogue: 0,0:08:04.66,0:08:07.92,yin,,0,0,0,, 我们就需要自己来 alloc init MKAnnotationView\N{\fs12}then we have to alloc init the MK annotation view ourselves. 
Dialogue: 0,0:08:07.92,0:08:11.02,yin,,0,0,0,, 例如这里 我创建的是 MKPinAnnotationView\N{\fs12}So here, for example, I'm making an MK pin annotation view, 
Dialogue: 0,0:08:11.02,0:08:13.72,yin,,0,0,0,, 在 iOS 中 这能绘制一个红色大头针 \N{\fs12}which comes in iOS, it's the thing that can draw a red pin, 
Dialogue: 0,0:08:13.72,0:08:17.98,yin,,0,0,0,, 应该也可以是紫色或是别的颜色 我可以 alloc init\N{\fs12}I think you can do purple and one other color, and I just alloc init 
Dialogue: 0,0:08:17.98,0:08:21.49,yin,,0,0,0,, 使用 initWithAnnotation reuseIdentifier\N{\fs12}with init with annotation, reuse identifier. 
Dialogue: 0,0:08:21.49,0:08:25.04,yin,,0,0,0,, 这里在 alloc init 时传入 reuseIdentifier\N{\fs12}Now the fact that I passed that reuse identifier there when I alloc init, 
Dialogue: 0,0:08:25.05,0:08:27.84,yin,,0,0,0,, 意思是 如果它被丢出 \N{\fs12}it means that if it ever gets thrown out, 
Dialogue: 0,0:08:27.84,0:08:29.82,yin,,0,0,0,, 它就会回到再利用队列 \N{\fs12}it will come back in the reuse queue. 
Dialogue: 0,0:08:29.82,0:08:31.91,yin,,0,0,0,, 这就是将它同再利用队列关联起来的东西 \N{\fs12}So that's the thing that ties it to the reuse queue, 
Dialogue: 0,0:08:31.91,0:08:33.66,yin,,0,0,0,, 这些东西就是这样来回折腾的 \N{\fs12}so that's how things go back and forth. 
Dialogue: 0,0:08:33.66,0:08:36.96,yin,,0,0,0,, 然后这里面 我还要设置我的左右附属视图 \N{\fs12}And then, inside there, I might also set up my left and right accessory views, 
Dialogue: 0,0:08:36.96,0:08:38.64,yin,,0,0,0,, 或许不放内容 \N{\fs12}maybe not put the content in there, 
Dialogue: 0,0:08:38.64,0:08:41.63,yin,,0,0,0,, 例如图像 不过我要创建 UIImageView\N{\fs12}like the image, but I might create the UI image view, right, 
Dialogue: 0,0:08:41.63,0:08:43.61,yin,,0,0,0,, 将这设为左侧的 \N{\fs12}and set that to be the left one 
Dialogue: 0,0:08:43.61,0:08:45.97,yin,,0,0,0,, 然后将按钮设为右侧的 \N{\fs12}and then set the button to be the right one. 
Dialogue: 0,0:08:45.97,0:08:48.94,yin,,0,0,0,, 在这之外 如果不是视图 \N{\fs12}Outside of that, if not a view, okay, 
Dialogue: 0,0:08:48.94,0:08:51.29,yin,,0,0,0,, 现在我有了一个视图 要么出列 \N{\fs12}so now I have a view either that I DQ'd 
Dialogue: 0,0:08:51.29,0:08:52.51,yin,,0,0,0,, 要么我自己创建 \N{\fs12}or that I made myself, 
Dialogue: 0,0:08:52.52,0:08:56.70,yin,,0,0,0,, 这里我加载了加载代价小的东西 \N{\fs12}here's where I load up whatever is cheap to load up. 
Dialogue: 0,0:08:56.70,0:08:58.85,yin,,0,0,0,, 到 MKAnnotationView 中 \N{\fs12}Into that MK annotation view. 
Dialogue: 0,0:08:58.85,0:09:01.20,yin,,0,0,0,, 这里不要做代价大的事 \N{\fs12}You wouldn't want to do expensive things here, 
Dialogue: 0,0:09:01.20,0:09:03.12,yin,,0,0,0,, 代价大的要等被点时再加载 \N{\fs12}we're going to wait till it's clicked. 
Dialogue: 0,0:09:03.12,0:09:06.85,yin,,0,0,0,, 如果这里是马上要显示的关于大头针的信息 \N{\fs12}If this, if it's something that's going to be displayed immediately about the pin, 
Dialogue: 0,0:09:06.85,0:09:08.55,yin,,0,0,0,, 例如你要用大头针以外的别的图像 \N{\fs12}like you're using a different image than the pin, 
Dialogue: 0,0:09:08.55,0:09:09.98,yin,,0,0,0,, 那这里显然就需要设置 \N{\fs12}then obviously you would need to set that here, 
Dialogue: 0,0:09:09.98,0:09:13.47,yin,,0,0,0,, 你不能等到点击时再加载这个 \N{\fs12}you can't wait till it's clicked on to load that up. 
Dialogue: 0,0:09:13.47,0:09:18.09,yin,,0,0,0,,MKAnnotationView 有些什么属性 \N{\fs12}So what kind of properties are there on this MK annotation view, 
Dialogue: 0,0:09:18.09,0:09:20.24,yin,,0,0,0,, 从那个方法中返回的东西 \N{\fs12}the thing you're returning from that method? 
Dialogue: 0,0:09:20.24,0:09:23.20,yin,,0,0,0,, 显然有 annotation 有左右附属视图 \N{\fs12}There's obviously the annotation, there's the left and right call out accessory view, 
Dialogue: 0,0:09:23.20,0:09:26.03,yin,,0,0,0,, 这些都是你可以设置的 UIView\N{\fs12}you see those are just UI views that you can set. 
Dialogue: 0,0:09:26.03,0:09:27.70,yin,,0,0,0,, 还有是否启用 \N{\fs12}There's whether it's enabled, there's even, 
Dialogue: 0,0:09:27.70,0:09:29.48,yin,,0,0,0,, 甚至还有是否可拖动 \N{\fs12}there's even whether it's dragable. 
Dialogue: 0,0:09:29.48,0:09:33.16,yin,,0,0,0,, 如果 MKPin 是可拖动的 那么 annotation\N{\fs12}If the MK pin is dragable, then the annotation 
Dialogue: 0,0:09:33.16,0:09:35.56,yin,,0,0,0,, 就不仅需要实现坐标方法 \N{\fs12}has to not only implement that coordinate method, 
Dialogue: 0,0:09:35.56,0:09:38.08,yin,,0,0,0,, 它还需要实现设置坐标方法 \N{\fs12}it has to implement the set coordinate method. 
Dialogue: 0,0:09:38.08,0:09:39.76,yin,,0,0,0,, 因为你要把那个大头针拖着 \N{\fs12}Because you're going to pick that view up, pin up, 
Dialogue: 0,0:09:39.76,0:09:42.58,yin,,0,0,0,, 移动到别的地方 annotation 需要移动 \N{\fs12}and move it when it drops, the annotation has to be moved, 
Dialogue: 0,0:09:42.58,0:09:44.60,yin,,0,0,0,, 因此 这里需要有一个设置坐标的方法 \N{\fs12}so it has to have a set coordinate method. 
Dialogue: 0,0:09:44.60,0:09:48.69,yin,,0,0,0,, 否则可拖动属性就无法正常工作 \N{\fs12}Otherwise setting dragable here is not going to, to work. 
Dialogue: 0,0:09:48.69,0:09:51.35,yin,,0,0,0,, 然后这里还有一个 image 属性 \N{\fs12}And then the image that you see here, this property, 
Dialogue: 0,0:09:51.35,0:09:53.97,yin,,0,0,0,, 这是替代大头针的图像 \N{\fs12}that's the image that replaces the pin. 
Dialogue: 0,0:09:53.97,0:09:55.31,yin,,0,0,0,, 你不用大头针 \N{\fs12}That's instead of the pin. 
Dialogue: 0,0:09:55.31,0:09:57.47,yin,,0,0,0,, 这并不是对话框中的图像 \N{\fs12}That's not the image that's in the call out, that's, 
Dialogue: 0,0:09:57.47,0:10:03.17,yin,,0,0,0,, 并不是左附属对话框视图中的那个图像 \N{\fs12}we're going to put in the left accessory call out view, call out accessory view. 
Dialogue: 0,0:10:03.17,0:10:05.44,yin,,0,0,0,, 有一点很酷 如果你将 \N{\fs12}One thing that's kind of cool, if you set one 
Dialogue: 0,0:10:05.44,0:10:08.65,yin,,0,0,0,, 一个附属视图设置为 UIControl\N{\fs12}of the accessory views to be a UI control, 
Dialogue: 0,0:10:08.65,0:10:12.35,yin,,0,0,0,, 最好的例子是 UIButton 继承自 UIControl\N{\fs12}most notably a UI button, inherit from UI control, then, 
Dialogue: 0,0:10:12.35,0:10:15.74,yin,,0,0,0,, 那么你就可以将按钮放到对话框的附属视图中 \N{\fs12}yeah, you can put that button in the call out accessory view 
Dialogue: 0,0:10:15.74,0:10:17.43,yin,,0,0,0,, 你可以设置目标动作 \N{\fs12}and you can set up target action to it 
Dialogue: 0,0:10:17.43,0:10:20.27,yin,,0,0,0,, 这些都没问题 或许能够工作 \N{\fs12}and that would all be fine, that would probably work, 
Dialogue: 0,0:10:20.27,0:10:23.74,yin,,0,0,0,, 不过由于这在 MKAnnotationView 中非常常用 \N{\fs12}but since that's so common to do in a MK annotation view, 
Dialogue: 0,0:10:23.74,0:10:26.37,yin,,0,0,0,, 这里有一个很棒的地图视图委托方法叫 mapView\N{\fs12}there's a nice map view delegate method here called map view 
Dialogue: 0,0:10:26.37,0:10:29.31,yin,,0,0,0,,annotationView calloutAccessoryControlTapped\N{\fs12}annotation view call out accessory control tapped 
Dialogue: 0,0:10:29.31,0:10:31.96,yin,,0,0,0,, 在用户轻击时 它会被调用 \N{\fs12}that will get called if the person taps on it. 
Dialogue: 0,0:10:31.96,0:10:33.87,yin,,0,0,0,, 如果你将按钮放到对话框中 \N{\fs12}So if you put a button in that little call out, 
Dialogue: 0,0:10:33.87,0:10:35.93,yin,,0,0,0,, 用户轻击它 这个就会被调用 \N{\fs12}and someone taps on it, this will get called, 
Dialogue: 0,0:10:35.93,0:10:38.95,yin,,0,0,0,, 你会知道哪个 AnnotationView 被点击了 \N{\fs12}and you will know which annotation view was tapped on, 
Dialogue: 0,0:10:38.95,0:10:41.56,yin,,0,0,0,, 你不需要对按钮进行目标动作操作 \N{\fs12}right, and you won't have to do target action in that button. 
Dialogue: 0,0:10:41.56,0:10:43.84,yin,,0,0,0,, 我在 demo 中也会演示这个 \N{\fs12}So we'll do that in the demo, as well. 
Dialogue: 0,0:10:43.84,0:10:46.36,yin,,0,0,0,, 再看 didSelectAnnotationView\N{\fs12}So, did select annotation view. 
Dialogue: 0,0:10:46.36,0:10:48.66,yin,,0,0,0,, 这在地图视图委托中被调用 \N{\fs12}So this is the thing that gets called in the map view, 
Dialogue: 0,0:10:48.66,0:10:50.42,yin,,0,0,0,, 它叫 mapView\N{\fs12}delegate map view, its called map view, colon, 
Dialogue: 0,0:10:50.42,0:10:53.10,yin,,0,0,0,,didSelectAnnotationView 当大头针被点击时 \N{\fs12}deselect annotation view, when a pin is clicked on, okay, 
Dialogue: 0,0:10:53.10,0:10:55.09,yin,,0,0,0,, 当有人点击了红色大头针 \N{\fs12}when someone actually clicks on that red pin. 
Dialogue: 0,0:10:55.09,0:10:58.13,yin,,0,0,0,, 它会自动弹出对话框 \N{\fs12}Now, it's going to automatically put the call out up as long as 
Dialogue: 0,0:10:58.15,0:11:03.53,yin,,0,0,0,, 只要 MKAnnotationView 中设置了属性 canShowCallout\N{\fs12}you set the property can show call out in the MK annotation view, 
Dialogue: 0,0:11:03.53,0:11:06.64,yin,,0,0,0,, 顺便说下 如果你在创建视图时 \N{\fs12}by the way, if you don't implement that annotation view, 
Dialogue: 0,0:11:06.64,0:11:09.62,yin,,0,0,0,, 不实现 mapView viewForAnnotation 委托方法 \N{\fs12}view for annotation delegate method where you build the view, 
Dialogue: 0,0:11:09.62,0:11:11.36,yin,,0,0,0,, 它会自动给你创建一个 \N{\fs12}it'll automatically create one for you, 
Dialogue: 0,0:11:11.36,0:11:14.48,yin,,0,0,0,, 就只有一个大头针 没有左右对话框附属视图 \N{\fs12}it's just going to be a pin, it's going to have no left and right call out accessory, 
Dialogue: 0,0:11:14.50,0:11:17.09,yin,,0,0,0,, 不过对话框中有标题和副标题 \N{\fs12}but it will show the call out with the title and subtitle. 
Dialogue: 0,0:11:17.09,0:11:18.71,yin,,0,0,0,, 这就是不设置时的情况 \N{\fs12}That's what you get if you don't do anything. 
Dialogue: 0,0:11:18.71,0:11:20.29,yin,,0,0,0,,demo 中我也会演示这个 \N{\fs12}We'll do that in the demo too. 
Dialogue: 0,0:11:20.31,0:11:22.54,yin,,0,0,0,, 这里 在 didSelectAnnotationView 中 \N{\fs12}So, here in did select annotation view, 
Dialogue: 0,0:11:22.54,0:11:26.55,yin,,0,0,0,, 我点大头针 这里我可能就需要 Flickr 取回了 \N{\fs12}I clicked on the pin, here's where I might say oh, let's do that Flickr fetch. 
Dialogue: 0,0:11:26.55,0:11:29.13,yin,,0,0,0,, 至少在另一个线程中发起取回 \N{\fs12}You know, at least let's fire it off in another thread here. 
Dialogue: 0,0:11:29.13,0:11:31.71,yin,,0,0,0,, 我们甚至都不需要浪费时间去发起 \N{\fs12}We don't even want to waste our time firing it off, 
Dialogue: 0,0:11:31.71,0:11:33.80,yin,,0,0,0,, 但愿你们在作业中也学到了这个 \N{\fs12}and hopefully you're learning this in your homework too, 
Dialogue: 0,0:11:33.80,0:11:38.14,yin,,0,0,0,, 你不希望为不在屏幕上的行取回缩略图 \N{\fs12}you don't want to really fetch that thumb nail for a row that's not on screen, 
Dialogue: 0,0:11:38.14,0:11:39.53,yin,,0,0,0,, 这样做是浪费时间 \N{\fs12}it's kind of a waste of time to do that. 
Dialogue: 0,0:11:39.53,0:11:40.17,yin,,0,0,0,, 这里也一样 \N{\fs12}Same thing here. 
Dialogue: 0,0:11:40.17,0:11:41.76,yin,,0,0,0,, 在有人点大头针之前 \N{\fs12}Until someone clicks on that pin, 
Dialogue: 0,0:11:41.76,0:11:43.87,yin,,0,0,0,, 我们不希望发起 Flickr 取回 \N{\fs12}we probably don't want to fire this Flickr fetch off. 
Dialogue: 0,0:11:43.87,0:11:46.56,yin,,0,0,0,,Flickr 取回以后 就像表格视图一样 \N{\fs12}When the Flickr fetch comes back, just like the table view, 
Dialogue: 0,0:11:46.56,0:11:48.55,yin,,0,0,0,, 我们需要小心地确保 \N{\fs12}we're going to have to be careful to make sure 
Dialogue: 0,0:11:48.55,0:11:52.47,yin,,0,0,0,, 这个对话框还同这个 annotation 保持着关联 \N{\fs12}that this call out is still associated with this annotation 
Dialogue: 0,0:11:52.47,0:11:54.31,yin,,0,0,0,, 因为这些东西会被再利用 \N{\fs12}and all that because these things get reused, 
Dialogue: 0,0:11:54.31,0:11:57.38,yin,,0,0,0,, 同表格视图中行会被再利用一样 \N{\fs12}just like the table view rows get reused. 
Dialogue: 0,0:11:57.38,0:12:00.54,yin,,0,0,0,, 无论如何 这里你可以加载对话框附属视图 \N{\fs12}But anyway, so this is where you could load up your call out accessory views. 
Dialogue: 0,0:12:00.54,0:12:04.13,yin,,0,0,0,, 这里你或许还可以 segue\N{\fs12}You could also maybe segue here. This might be a place to segue, 
Dialogue: 0,0:12:04.13,0:12:08.67,yin,,0,0,0,, 不过 segue 需要在代码中进行 因为你没办法 \N{\fs12}but you would have to segue in code here, and, because there's no way 
Dialogue: 0,0:12:08.67,0:12:11.66,yin,,0,0,0,, 在故事板中从大头针进行 control 拖动 \N{\fs12}in storyboard to like control drag from the pins, 
Dialogue: 0,0:12:11.66,0:12:14.58,yin,,0,0,0,, 它们不在屏幕上 直到你开始添加 annotation\N{\fs12}they're not on screen, until you start adding annotations, 
Dialogue: 0,0:12:14.58,0:12:19.51,yin,,0,0,0,, 因此这里我们需要手动 segue 我会在 demo 中演示 \N{\fs12}so here we could manual segue and we'll do that in the demo. 
Dialogue: 0,0:12:19.52,0:12:21.65,yin,,0,0,0,, 你可以配置地图显示的方式 \N{\fs12}You could configure the way the map displays. 
Dialogue: 0,0:12:21.65,0:12:25.13,yin,,0,0,0,, 首先 地图的显示就像是地图 app\N{\fs12}Okay, first of all, the map's display is just like the maps app. 
Dialogue: 0,0:12:25.13,0:12:28.67,yin,,0,0,0,, 我不打算细讲所有地图配置方面的细节 \N{\fs12}So I'm not really going to go into all the things you can configure about the map, 
Dialogue: 0,0:12:28.67,0:12:30.78,yin,,0,0,0,, 不过任何你能在地图 app 中做的事 \N{\fs12}but pretty much anything you can do in the maps app, 
Dialogue: 0,0:12:30.78,0:12:34.57,yin,,0,0,0,, 包括 3D 旋转 缩放 \N{\fs12}including the 3D and rotating around, and zooming in and out, 
Dialogue: 0,0:12:34.57,0:12:37.42,yin,,0,0,0,, 都能在地图视图中做到 \N{\fs12}all of that you can do with the map view. 
Dialogue: 0,0:12:37.42,0:12:39.27,yin,,0,0,0,, 还包括混合模式 \N{\fs12}Also including hybrid mode, 
Dialogue: 0,0:12:39.27,0:12:43.00,yin,,0,0,0,, 卫星图和道路图覆盖在一起 这些都可以做到 \N{\fs12}where it's a satellite image overlaid with roads and all that, that's all doable. 
Dialogue: 0,0:12:43.00,0:12:45.44,yin,,0,0,0,, 你显然需要查阅 MKMapView API\N{\fs12}So you want to definitely check out the MK map view API 
Dialogue: 0,0:12:45.44,0:12:49.14,yin,,0,0,0,, 看你能做多少了不起的事情 \N{\fs12}to see all the incredible amount of things you can do. 
Dialogue: 0,0:12:49.15,0:12:51.64,yin,,0,0,0,, 你可以显示用户当前的位置 \N{\fs12}You can show the user's current location. 
Dialogue: 0,0:12:51.64,0:12:54.83,yin,,0,0,0,, 这会用到上次课我讲到的 Core Location 内容 \N{\fs12}So it'll go use that core location stuff we talked about in the last lecture, 
Dialogue: 0,0:12:54.83,0:12:57.48,yin,,0,0,0,, 使用 GPS 来知道用户当前在哪 \N{\fs12}find out where the user currently is using GPS, 
Dialogue: 0,0:12:57.48,0:13:00.05,yin,,0,0,0,, 它会在地图上显示这个 \N{\fs12}it'll show that on your map. 
Dialogue: 0,0:13:00.05,0:13:02.10,yin,,0,0,0,, 你还可以进行一些限制 \N{\fs12}You can also restrict things about it, 
Dialogue: 0,0:13:02.10,0:13:04.26,yin,,0,0,0,, 或许你不希望用户使用 3D 模式 \N{\fs12}maybe you don't want the user to go into 3D mode, 
Dialogue: 0,0:13:04.26,0:13:06.20,yin,,0,0,0,, 这时你可以关闭 pitchEnabled 属性 \N{\fs12}then you can turn the pitch-enabled off 
Dialogue: 0,0:13:06.20,0:13:07.42,yin,,0,0,0,, 这样它就会无法倾斜 \N{\fs12}and it won't be able to pitch. 
Dialogue: 0,0:13:07.42,0:13:11.44,yin,,0,0,0,, 倾斜可以通过两根手指的手势来做到 \N{\fs12}They pitch by doing kind of a little two-finger gesture there, 
Dialogue: 0,0:13:11.44,0:13:14.10,yin,,0,0,0,, 关闭后你就不能这样做了 旋转也是 \N{\fs12}they won't be able to do that if you turn this off, same thing with rotate, 
Dialogue: 0,0:13:14.10,0:13:17.55,yin,,0,0,0,, 也许你希望北一直往上 不希望用户旋转 \N{\fs12}maybe you'll always north up and you don't want them to be able to rotate around 
Dialogue: 0,0:13:17.56,0:13:19.99,yin,,0,0,0,, 你也可以这样做 \N{\fs12}to a different, then you can do that. 
Dialogue: 0,0:13:19.99,0:13:23.94,yin,,0,0,0,, 我简要讲讲地图的 3D\N{\fs12}So let's talk briefly about the 3D of the maps, 
Dialogue: 0,0:13:23.94,0:13:27.62,yin,,0,0,0,, 这个 3D 有一个很大的问题 它并不是真正的 3D\N{\fs12}and a big issue with this 3D, it's not really 3D, 
Dialogue: 0,0:13:27.62,0:13:29.19,yin,,0,0,0,, 而是一种 2.5D\N{\fs12}it's kind of 2 and a half D, right? 
Dialogue: 0,0:13:29.19,0:13:32.07,yin,,0,0,0,, 这是一个 2D 地图 不过它有一些信息 \N{\fs12}This is a 2D map, but, you know, it has some information 
Dialogue: 0,0:13:32.07,0:13:34.53,yin,,0,0,0,, 关于建筑及其 3D 表示 \N{\fs12}about buildings and their 3D representations, 
Dialogue: 0,0:13:34.53,0:13:38.58,yin,,0,0,0,, 因此在倾斜时 你就可以看到一种 3D 表示 \N{\fs12}so kind of when you pitch up, it can show you a bit of a 3D representation. 
Dialogue: 0,0:13:38.58,0:13:41.17,yin,,0,0,0,, 代码中同这交互的主要方式是 \N{\fs12}The main way you're going to interact with that in code is you're going to want to 
Dialogue: 0,0:13:41.17,0:13:43.55,yin,,0,0,0,, 指定摄像头在哪 \N{\fs12}specify where the camera is. 
Dialogue: 0,0:13:43.55,0:13:47.25,yin,,0,0,0,, 摄像头从哪里看街道 \N{\fs12}Where is the camera that's looking at the streets, 
Dialogue: 0,0:13:47.25,0:13:49.65,yin,,0,0,0,, 或是地图上别的什么 \N{\fs12}or whatever, that the person looking at the map, 
Dialogue: 0,0:13:49.65,0:13:54.30,yin,,0,0,0,, 你可以指定摄像头 通过设定摄像头在哪 \N{\fs12}and you can specify the camera via it, where a coordinate or where the camera is, 
Dialogue: 0,0:13:54.30,0:13:55.50,yin,,0,0,0,, 它指向哪里 \N{\fs12}and which way it's pointing, 
Dialogue: 0,0:13:55.50,0:13:57.79,yin,,0,0,0,, 倾斜了多少 处于什么高度 \N{\fs12}and how much is pitch, and what altitude it's at, 
Dialogue: 0,0:13:57.79,0:14:02.03,yin,,0,0,0,, 不过最简单的做法是使用这个类方法 \N{\fs12}but one of the easiest ways to do it is using this class method here, 
Dialogue: 0,0:14:02.03,0:14:03.92,yin,,0,0,0,,cameraLookingAtCenterCoordinate\N{\fs12}camera looking at center coordinate 
Dialogue: 0,0:14:03.92,0:14:06.54,yin,,0,0,0,,fromEyeCoordinate eyeAltitude\N{\fs12}from eye coordinate, eye altitude. 
Dialogue: 0,0:14:06.54,0:14:10.35,yin,,0,0,0,, 眼睛坐标和眼睛高度 这是摄像头的位置 \N{\fs12}So, the eye coordinate and the eye altitude, that's where your camera is. 
Dialogue: 0,0:14:10.35,0:14:14.51,yin,,0,0,0,, 使用经纬度 确定摄像头在世界上的坐标 \N{\fs12}Where in the world, okay, using the coordinates, latitude and longitude, 
Dialogue: 0,0:14:14.53,0:14:18.58,yin,,0,0,0,, 还有就是摄像头在多少米的高度上 \N{\fs12}your camera is how, what is the altitude of your camera, in meters, 
Dialogue: 0,0:14:18.58,0:14:20.94,yin,,0,0,0,, 然后是你在看哪个点 \N{\fs12}and then what point are you looking at? 
Dialogue: 0,0:14:20.94,0:14:24.83,yin,,0,0,0,, 明白了吗 这样就能设置摄像头了 \N{\fs12}You see how that's a way to set your camera? So you can do that to set your camera, 
Dialogue: 0,0:14:24.83,0:14:26.93,yin,,0,0,0,, 设置摄像头有一点很酷 \N{\fs12}one thing that's really cool about setting your camera, 
Dialogue: 0,0:14:26.93,0:14:28.97,yin,,0,0,0,, 当你从一个地方移到另一个地方 \N{\fs12}when you move from one place to another, you can kind 
Dialogue: 0,0:14:28.97,0:14:32.21,yin,,0,0,0,, 你可以将摄像头往上移到空中 这个会动画显示 \N{\fs12}of move your camera up into space and it'll animate that, 
Dialogue: 0,0:14:32.21,0:14:34.08,yin,,0,0,0,, 然后往下到新地方 \N{\fs12}and then come back down in the new place 
Dialogue: 0,0:14:34.08,0:14:37.49,yin,,0,0,0,, 这就对用户进行了定位定向 \N{\fs12}and it really orients your user where they are on the planet 
Dialogue: 0,0:14:37.49,0:14:41.38,yin,,0,0,0,, 随着他们从一个位置到另一个位置 \N{\fs12}as they go from thing, from location to location. 
Dialogue: 0,0:14:41.38,0:14:42.85,yin,,0,0,0,, 有问题吗 没有 \N{\fs12}Question? No. 
Dialogue: 0,0:14:42.85,0:14:46.61,yin,,0,0,0,, 好 再看区域 \N{\fs12}Okay. What about the region, 
Dialogue: 0,0:14:46.61,0:14:49.23,yin,,0,0,0,, 考虑我们正在看地图的哪里 \N{\fs12}what about where on the map we're, we're seeing? 
Dialogue: 0,0:14:49.23,0:14:53.54,yin,,0,0,0,, 区域的设置要使用这个 MKMapView 属性 region\N{\fs12}So the region is set with this property in MK map view called region. 
Dialogue: 0,0:14:53.54,0:14:55.20,yin,,0,0,0,, 这是一个 MKCoordinateRegion\N{\fs12}It's an MK coordinate region, 
Dialogue: 0,0:14:55.20,0:14:58.64,yin,,0,0,0,,MKCoordinateRegion 是中心坐标经纬度 \N{\fs12}an MK coordinate region is center-coordinate latitude and longitude, 
Dialogue: 0,0:14:58.64,0:15:00.26,yin,,0,0,0,, 和一个跨度 \N{\fs12}and then a span. 
Dialogue: 0,0:15:00.26,0:15:03.37,yin,,0,0,0,, 经纬度Δ 经度多少度 \N{\fs12}Latitude and longitude delta, how many degrees of longitude, 
Dialogue: 0,0:15:03.37,0:15:04.94,yin,,0,0,0,, 纬度多少度 \N{\fs12}how many degrees of latitude 
Dialogue: 0,0:15:04.94,0:15:10.21,yin,,0,0,0,, 这告诉了你 任何时刻地图上显示的是什么 \N{\fs12}that tells you what's showing in the map at any given time. 
Dialogue: 0,0:15:10.21,0:15:13.14,yin,,0,0,0,, 这是可写可读的 你可以设置地图给它 \N{\fs12}And this is writable and readable, so you can set the map 
Dialogue: 0,0:15:13.14,0:15:15.52,yin,,0,0,0,, 你也可以找到它现在在哪 \N{\fs12}to it and you can also find out where it is now 
Dialogue: 0,0:15:15.52,0:15:17.15,yin,,0,0,0,, 在用户采用捏拉或别的什么手势时 \N{\fs12}after the user is done pinching or whatever. 
Dialogue: 0,0:15:17.15,0:15:21.79,yin,,0,0,0,, 你还可以让地图维持它当前的缩放尺寸 \N{\fs12}You can also just have the map keep its current zoom 
Dialogue: 0,0:15:21.79,0:15:24.38,yin,,0,0,0,, 只通过设定中心坐标来移动 \N{\fs12}and just move around by setting the center coordinate. 
Dialogue: 0,0:15:24.38,0:15:28.92,yin,,0,0,0,, 这些你们应该都能预料到 这个地图类非常强大 \N{\fs12}This is all exactly what you would expect, is this map class is super powerful. 
Dialogue: 0,0:15:28.92,0:15:35.13,yin,,0,0,0,, 这是 iOS 中内容非常丰富的类之一 \N{\fs12}I mean, one of the more action-packed classes in all of iOS, which is what it can do. 
Dialogue: 0,0:15:35.13,0:15:38.09,yin,,0,0,0,, 还有很多 C 函数能够换算…\N{\fs12}And there's a ton of C functions to convert between. 
Dialogue: 0,0:15:38.09,0:15:41.56,yin,,0,0,0,, 这只是一个视图 地图视图是一个 UIView\N{\fs12}Okay, this is just a view, map view is a UI view, 
Dialogue: 0,0:15:41.56,0:15:44.23,yin,,0,0,0,, 显然你有经纬度计的地图坐标 \N{\fs12}and of course you've got map coordinates in latitude and longitude, 
Dialogue: 0,0:15:44.24,0:15:46.63,yin,,0,0,0,, 你还有 x 和 y 计的视图坐标 \N{\fs12}and then you've got view coordinates in X and Y. 
Dialogue: 0,0:15:46.63,0:15:48.50,yin,,0,0,0,, 有时 你希望在两者之间进行换算 \N{\fs12}So sometimes you want to convert between those two, 
Dialogue: 0,0:15:48.50,0:15:50.87,yin,,0,0,0,, 因此 它有很多 C 函数来做这个 \N{\fs12}so it's got a bunch of C functions for doing that 
Dialogue: 0,0:15:50.87,0:15:53.39,yin,,0,0,0,, 还有很多方法 这样你就能弄清 \N{\fs12}and a bunch of methods, as well, so that you can kind of find 
Dialogue: 0,0:15:53.39,0:15:55.23,yin,,0,0,0,, 发生了什么 他们在触碰哪里 \N{\fs12}out what's going on, where they're touching, 
Dialogue: 0,0:15:55.23,0:15:57.27,yin,,0,0,0,, 什么导致了事情的发生 等等 \N{\fs12}what's causing things, etc. 
Dialogue: 0,0:15:57.27,0:15:59.87,yin,,0,0,0,, 这在地图视图中有很多 \N{\fs12}So there's a lot, a lot in the map view there. 
Dialogue: 0,0:15:59.87,0:16:02.48,yin,,0,0,0,, 这个地图视图委托方法…\N{\fs12}This map view delegate method, 
Dialogue: 0,0:16:02.48,0:16:05.01,yin,,0,0,0,, 地图视图委托方法有大约 20 个 \N{\fs12}there's about 20 map view delegate methods, 
Dialogue: 0,0:16:05.01,0:16:07.11,yin,,0,0,0,, 我只能讲到其中很少几个 \N{\fs12}I can only cover a tiny few here, 
Dialogue: 0,0:16:07.11,0:16:11.63,yin,,0,0,0,, 像 viewForAnnotation 和 didSelectAnnotationView\N{\fs12}like view for annotation and did select annotation view, 
Dialogue: 0,0:16:11.63,0:16:13.91,yin,,0,0,0,, 不过还有一个很有趣 也就是 didChangeRegion\N{\fs12}but another interesting one is did change region. 
Dialogue: 0,0:16:13.91,0:16:16.27,yin,,0,0,0,, 说它有趣是因为 它会在 \N{\fs12}And the reason this is interesting, this gets called, 
Dialogue: 0,0:16:16.27,0:16:21.02,yin,,0,0,0,, 地图发生动画 四处移动 变换摄像头时被调用 \N{\fs12}if the map is animating, moving around, changing the camera or something, 
Dialogue: 0,0:16:21.04,0:16:24.21,yin,,0,0,0,, 完成后 它会显示一个新区域 \N{\fs12}when it's done, it'll be showing a new region, 
Dialogue: 0,0:16:24.21,0:16:25.86,yin,,0,0,0,, 它会发送这个消息给你 \N{\fs12}it'll send this message to you. 
Dialogue: 0,0:16:25.86,0:16:26.86,yin,,0,0,0,, 这有什么重要的呢 \N{\fs12}Why is that important? 
Dialogue: 0,0:16:26.86,0:16:27.87,yin,,0,0,0,, 为什么你要这样 \N{\fs12}Why would you want that? 
Dialogue: 0,0:16:27.87,0:16:29.54,yin,,0,0,0,, 因为如果你想有动画 \N{\fs12}Well, because if you're going to do animation, 
Dialogue: 0,0:16:29.54,0:16:33.22,yin,,0,0,0,, 例如现在显示的是旧金山 而用户想要看到纽约 \N{\fs12}like I'm showing San Francisco and the user now wants to see New York, 
Dialogue: 0,0:16:33.22,0:16:35.57,yin,,0,0,0,, 如果你只是设定纽约的坐标 \N{\fs12}if you just say set the coordinate New York, 
Dialogue: 0,0:16:35.57,0:16:37.69,yin,,0,0,0,, 它会呼地一下跳到纽约 \N{\fs12}it's going to go whoosh, over to New York, 
Dialogue: 0,0:16:37.69,0:16:40.53,yin,,0,0,0,, 整个国家会在半秒之内瞬间被掠过 \N{\fs12}and the whole country is going to rip by in about half a second. 
Dialogue: 0,0:16:40.53,0:16:43.41,yin,,0,0,0,, 这就没有任何动画 但是如果你想 \N{\fs12}So it's not going to be much of an animation, but if you want 
Dialogue: 0,0:16:43.41,0:16:47.36,yin,,0,0,0,, 将摄像头往上移到美国上方几千米的高空 \N{\fs12}to move your camera up over the United States a few thousand meters, 
Dialogue: 0,0:16:47.36,0:16:49.68,yin,,0,0,0,, 然后再回到下面 \N{\fs12}and then go back down. 
Dialogue: 0,0:16:49.68,0:16:52.44,yin,,0,0,0,, 你就需要知道你到上面以后 \N{\fs12}You'll need to know when you get up to the top 
Dialogue: 0,0:16:52.44,0:16:54.66,yin,,0,0,0,, 动画又会开始往下 \N{\fs12}so that you can start the animation going down, and so, 
Dialogue: 0,0:16:54.66,0:16:57.04,yin,,0,0,0,, 到上面时 区域动画会被调用 \N{\fs12}region to animated will get called when you get to the top, 
Dialogue: 0,0:16:57.04,0:16:59.79,yin,,0,0,0,, 动画会将摄像头移到上面去 \N{\fs12}you start the animation to move the camera to the top, 
Dialogue: 0,0:16:59.79,0:17:01.70,yin,,0,0,0,, 到上面 区域被设置 \N{\fs12}when it gets to the top and the region is set, 
Dialogue: 0,0:17:01.70,0:17:04.27,yin,,0,0,0,, 它会调用这个 区域将是整个美国 \N{\fs12}it'll call you this, and the region will be the whole United States, 
Dialogue: 0,0:17:04.29,0:17:06.69,yin,,0,0,0,, 然后动画就可以开始回到下面 \N{\fs12}and then you can start your animation and go back down. 
Dialogue: 0,0:17:06.69,0:17:10.03,yin,,0,0,0,, 优秀的 app 应该首先上升 \N{\fs12}And really, for nice apps, you might go up, 
Dialogue: 0,0:17:10.03,0:17:13.12,yin,,0,0,0,, 下降到纽约 然后沿街道移动 \N{\fs12}down to New York, and then drive down the street. 
Dialogue: 0,0:17:13.12,0:17:14.44,yin,,0,0,0,, 这是一个很酷的动画 \N{\fs12}It's kind of really cool animation, 
Dialogue: 0,0:17:14.44,0:17:17.79,yin,,0,0,0,, 每一步 你都希望使用这个转到下一步 \N{\fs12}that each of those steps, you want to use this to go to the next step, 
Dialogue: 0,0:17:17.79,0:17:20.81,yin,,0,0,0,, 而不是用动画的完成处理器 \N{\fs12}not the completion handlers of the animation things, 
Dialogue: 0,0:17:20.81,0:17:23.50,yin,,0,0,0,, 这个更好 因为这里会有各种东西 \N{\fs12}this is much better, because this is going to have all, 
Dialogue: 0,0:17:23.50,0:17:25.55,yin,,0,0,0,, 它会进行旋转等等 \N{\fs12}it's going to do all the rotation, when everything settled down, 
Dialogue: 0,0:17:25.55,0:17:26.98,yin,,0,0,0,, 将一切安排妥帖 \N{\fs12}it's almost like the settle down, 
Dialogue: 0,0:17:26.99,0:17:30.31,yin,,0,0,0,, 几乎就像是动态动画器中的 didPause\N{\fs12}the did pause we had in the dynamic animator. 
Dialogue: 0,0:17:30.31,0:17:34.48,yin,,0,0,0,, 这对于好的地图动画是非常重要的方法 \N{\fs12}So that's an important method to know if you're going to do good map animation. 
Dialogue: 0,0:17:34.48,0:17:38.27,yin,,0,0,0,, 除了地图视图之外 我们还有搜索 \N{\fs12}Alright, so in addition to the map view, we also have searching. 
Dialogue: 0,0:17:38.27,0:17:43.76,yin,,0,0,0,, 局部搜索同 GeoCoder 很像 但强大很多 \N{\fs12}So local search, kind of like a geo coder, but lots more powerful. 
Dialogue: 0,0:17:43.76,0:17:46.19,yin,,0,0,0,, 这能让你的用户指定 \N{\fs12}This basically lets you have, specify, 
Dialogue: 0,0:17:46.19,0:17:48.46,yin,,0,0,0,, 一个自然语言查询 \N{\fs12}let's your user specify a natural language query, 
Dialogue: 0,0:17:48.46,0:17:51.78,yin,,0,0,0,, 例如这里我可以创建一个搜索 Ike's 的请求 \N{\fs12}like here I might create a search request for'Ikes'. 
Dialogue: 0,0:17:51.78,0:17:55.13,yin,,0,0,0,, 我可以在斯坦福校园的区域内进行搜索 \N{\fs12}And I might search in a region which is Stanford Campus, 
Dialogue: 0,0:17:55.13,0:17:58.73,yin,,0,0,0,, 然后我发送这个 当然 这个会经过网络 \N{\fs12}and then I fire this off, of course, this is going to go over the network, 
Dialogue: 0,0:17:58.73,0:18:00.69,yin,,0,0,0,, 并非所有信息都在设备上 \N{\fs12}not all this information is on your device. 
Dialogue: 0,0:18:00.69,0:18:01.94,yin,,0,0,0,, 它会经过网络 \N{\fs12}It's going to go over the network, 
Dialogue: 0,0:18:01.94,0:18:03.89,yin,,0,0,0,, 它会取回 会找到结果 \N{\fs12}it's going to do a fetch, going to figure this out, 
Dialogue: 0,0:18:03.89,0:18:05.33,yin,,0,0,0,, 它会返回给你 \N{\fs12}and it's going to return to you 
Dialogue: 0,0:18:05.33,0:18:06.87,yin,,0,0,0,, 并调用这个完成处理器 \N{\fs12}and call you to this completion handler 
Dialogue: 0,0:18:06.87,0:18:09.41,yin,,0,0,0,, 你说 startWithCompletionHandler\N{\fs12}so you do it with start, with completion, 
Dialogue: 0,0:18:09.41,0:18:11.30,yin,,0,0,0,, 它之后就会调用完成处理器 \N{\fs12}it'll call the completion handler later, 
Dialogue: 0,0:18:11.30,0:18:14.18,yin,,0,0,0,, 你会得到一个由 MKMapItem 组成的数组 \N{\fs12}and you're going to get an array of MK map items. 
Dialogue: 0,0:18:14.18,0:18:18.79,yin,,0,0,0,,MKMapItem 也就是描述地图上位置的项目 \N{\fs12}MK map items are basically things that describe a place on the map. 
Dialogue: 0,0:18:18.79,0:18:21.35,yin,,0,0,0,, 其中包含有 MKPlacemark\N{\fs12}And they have inside of them an MK place mark, 
Dialogue: 0,0:18:21.36,0:18:23.61,yin,,0,0,0,, 这是关于地图上位置的细节信息 \N{\fs12}which is detail about a place on the map, 
Dialogue: 0,0:18:23.61,0:18:27.13,yin,,0,0,0,, 例如邮编 或是所处区域 诸如此类 \N{\fs12}like the postal code or region it's in, things like that. 
Dialogue: 0,0:18:27.13,0:18:30.91,yin,,0,0,0,,MKMapItem 很酷 因为这里有一个方法 \N{\fs12}MK map item is kind of cool because it, there's a method 
Dialogue: 0,0:18:30.91,0:18:33.53,yin,,0,0,0,, 叫作 openInMapsWithLaunchOptions\N{\fs12}in there called open in map with launch options, 
Dialogue: 0,0:18:33.53,0:18:35.53,yin,,0,0,0,, 把这发送给一个 MKMapItem\N{\fs12}and if you send that to an MK map item, it will 
Dialogue: 0,0:18:35.53,0:18:38.39,yin,,0,0,0,, 它会离开你的 app 启动地图 app 并在那里显示 \N{\fs12}leave your app, launch the maps app and show it there. 
Dialogue: 0,0:18:38.39,0:18:40.53,yin,,0,0,0,, 就算你不想有一个地图视图以及所有这些 \N{\fs12}So if you don't want to have a map view and all that stuff, 
Dialogue: 0,0:18:40.53,0:18:43.08,yin,,0,0,0,, 你还是可以使用这个局部搜索 \N{\fs12}you can still use this local search and then switch 
Dialogue: 0,0:18:43.08,0:18:46.82,yin,,0,0,0,, 然后切换到地图 app 来显示特定位置 \N{\fs12}over to the maps app if you want to show them that particular location. 
Dialogue: 0,0:18:46.82,0:18:47.76,yin,,0,0,0,, 请讲 \N{\fs12}Yeah? 
Dialogue: 0,0:18:53.12,0:18:56.07,yin,,0,0,0,, 问题是 地图图块本身是怎样的 \N{\fs12}Yeah, so the question is what about the tiles of the map itself? 
Dialogue: 0,0:18:56.07,0:18:57.05,yin,,0,0,0,, 所有地图数据 \N{\fs12}All that map data? 
Dialogue: 0,0:18:57.05,0:19:00.62,yin,,0,0,0,, 这些显然也不在你的手机上 也需要下载 \N{\fs12}Yeah, that's clearly not on your phone as well, that's downloaded too. 
Dialogue: 0,0:19:00.62,0:19:03.29,yin,,0,0,0,, 最开始看地图上的位置时 它将是一个网格 \N{\fs12}So when you first look at a place on the map, it's just going to be like a grid, 
Dialogue: 0,0:19:03.29,0:19:05.82,yin,,0,0,0,, 就像是星际迷航中的空甲板 \N{\fs12}kind of like the hollow deck in Star Trek or whatever, 
Dialogue: 0,0:19:05.82,0:19:09.16,yin,,0,0,0,, 只是一个网格 然后再填入图块 \N{\fs12}like just a grid, and then it's going to fill in with the tiles. 
Dialogue: 0,0:19:09.16,0:19:12.68,yin,,0,0,0,, 下载有多快取决于你的网络有多快 \N{\fs12}And depending how fast your network is, that's how fast it's going to download it. 
Dialogue: 0,0:19:12.68,0:19:15.74,yin,,0,0,0,, 这些都会发生在后台 你甚至不知道 \N{\fs12}So yeah, that's all happening, though, in the background, you don't even know. 
Dialogue: 0,0:19:15.74,0:19:16.72,yin,,0,0,0,, 这些都会发生在后台 你甚至不知道 \N{\fs12}You have no idea what's going on. 
Dialogue: 0,0:19:16.72,0:19:18.64,yin,,0,0,0,, 你可以找到委托方法 \N{\fs12}You can find out there are delegate methods 
Dialogue: 0,0:19:18.64,0:19:21.90,yin,,0,0,0,, 说获取这个图块 如果你想知道 它会告诉你 \N{\fs12}that said got this tile, you know, it'll tell you if you want 
Dialogue: 0,0:19:21.90,0:19:23.94,yin,,0,0,0,, 但一般情况下你并不关心 \N{\fs12}to know, but generally you don't care. 
Dialogue: 0,0:19:23.94,0:19:28.61,yin,,0,0,0,, 还有办法能够获取从一个地方到另一个的方向 \N{\fs12}There's also a way to get directions from one place to another. 
Dialogue: 0,0:19:28.61,0:19:32.18,yin,,0,0,0,, 你只需要创建这个 MKDirection\N{\fs12}So, you just create this MK directions thing, 
Dialogue: 0,0:19:32.19,0:19:35.49,yin,,0,0,0,, 你一开始要指定一个 MKMapItem 到最后 \N{\fs12}you're going to specify an MK map item at the beginning, at the end, 
Dialogue: 0,0:19:35.49,0:19:38.33,yin,,0,0,0,, 它会异步地经过网络 \N{\fs12}and it's going to, again, go asynchronously over the network 
Dialogue: 0,0:19:38.33,0:19:41.31,yin,,0,0,0,, 给你返回一个可选路径的列表 \N{\fs12}and give you back a list of possible routes that you can take, 
Dialogue: 0,0:19:41.31,0:19:44.69,yin,,0,0,0,, 这些返回的路径将有文字描述 \N{\fs12}and these routes are going to come back with text descriptions, you know, 
Dialogue: 0,0:19:44.69,0:19:47.95,yin,,0,0,0,, 例如高速公路 101 走这么多 等等 \N{\fs12}take highway 101 for this much, or whatever, 
Dialogue: 0,0:19:47.95,0:19:52.20,yin,,0,0,0,, 此外 它们还会返回 MKPolyline\N{\fs12}and also they're going to come back with the MK polylines. 
Dialogue: 0,0:19:52.20,0:19:56.05,yin,,0,0,0,,MKPolyline 顾名思义 也就是一些直线 \N{\fs12}An MK polyline, exactly what you would think, it's a bunch of lines, 
Dialogue: 0,0:19:56.05,0:19:59.77,yin,,0,0,0,, 一条多段线 例如图中的蓝线 \N{\fs12}and this polyline, you can see the blue line here, 
Dialogue: 0,0:19:59.77,0:20:00.99,yin,,0,0,0,, 或是紫线 \N{\fs12}or the purple lines, 
Dialogue: 0,0:20:01.00,0:20:06.15,yin,,0,0,0,, 也就是如何对从地图上一处到另一处的描述 \N{\fs12}is basically a description of how to draw and go from place to place in the map, 
Dialogue: 0,0:20:06.15,0:20:07.43,yin,,0,0,0,, 这非常酷 \N{\fs12}which is really, really cool. 
Dialogue: 0,0:20:07.43,0:20:10.79,yin,,0,0,0,, 这绕过了一个问题 也就是 如果我有一条多段线 \N{\fs12}But it does beg the question if I got a polyline, in hand, how do I 
Dialogue: 0,0:20:10.79,0:20:13.33,yin,,0,0,0,, 那该如何画到地图上呢 \N{\fs12}put it on the map? How do I draw it on the map? 
Dialogue: 0,0:20:13.33,0:20:17.38,yin,,0,0,0,, 答案是 我们使用 overlay(覆盖图) 来画在地图上 \N{\fs12}And the answer is we draw on the map using overlays. 
Dialogue: 0,0:20:17.38,0:20:19.65,yin,,0,0,0,,overlay 也就是 \N{\fs12}So overlays are 
Dialogue: 0,0:20:19.65,0:20:24.05,yin,,0,0,0,, 一些你想画在地图上的形状 \N{\fs12}essentially descriptions of some shape that you want to draw on the map. 
Dialogue: 0,0:20:24.05,0:20:27.74,yin,,0,0,0,, 多段线是一种 不过这里也可以是圆形 \N{\fs12}So a polyline would be one, but you could also do circles, 
Dialogue: 0,0:20:27.74,0:20:30.62,yin,,0,0,0,, 任意多边形 等等 \N{\fs12}you know, arbitrary polygons, things like that, 
Dialogue: 0,0:20:30.62,0:20:34.79,yin,,0,0,0,, 做法是 你创建这个形状 \N{\fs12}and the way this mechanism works is you create this shape, 
Dialogue: 0,0:20:34.79,0:20:37.29,yin,,0,0,0,, 例如一条 MKPolyline 你添加一个 overlay\N{\fs12}like an MK polyline, you add an overlay, 
Dialogue: 0,0:20:37.29,0:20:39.80,yin,,0,0,0,, 使用 addOverlay 这里的 level 是说 \N{\fs12}you see that add overlay, the level there is whether it's 
Dialogue: 0,0:20:39.80,0:20:43.53,yin,,0,0,0,, 是高于道路 还是高于标签 \N{\fs12}above the roads or just above the, or above the labels, 
Dialogue: 0,0:20:43.53,0:20:45.10,yin,,0,0,0,, 在地图上的一切之上 \N{\fs12}which is kind of on top of everything in the map, 
Dialogue: 0,0:20:45.10,0:20:47.65,yin,,0,0,0,, 你可以让多段线高于道路 \N{\fs12}so you could have the polyline be on the roads 
Dialogue: 0,0:20:47.65,0:20:51.84,yin,,0,0,0,, 让 280 这些符号都在它之上 这会看起来很棒 \N{\fs12}and have things like 280 symbol be above it, which looks really cool. 
Dialogue: 0,0:20:51.84,0:20:56.92,yin,,0,0,0,, 之后 MKMapView 还会问你 \N{\fs12}But then, the MK map view is going to ask you later, okay, 
Dialogue: 0,0:20:56.92,0:21:01.53,yin,,0,0,0,, 要一个渲染器 来把这个画在地图上 \N{\fs12}now I need a renderer to draw this thing on the map. 
Dialogue: 0,0:21:01.53,0:21:03.00,yin,,0,0,0,,MKOverlayRenderer\N{\fs12}An MK overlay renderer, 
Dialogue: 0,0:21:03.00,0:21:05.32,yin,,0,0,0,, 有点像 MKAnnotationView\N{\fs12}which is a little bit like that MK annotation view, 
Dialogue: 0,0:21:05.32,0:21:08.11,yin,,0,0,0,, 只是 MKOverlayRenderer 并非视图 \N{\fs12}except for an MK overlay renderer is not a view, 
Dialogue: 0,0:21:08.11,0:21:11.11,yin,,0,0,0,, 它是一个在地图上绘制的机制 \N{\fs12}it's more of a mechanism for drawing on the map, 
Dialogue: 0,0:21:11.11,0:21:14.28,yin,,0,0,0,, 然后这个渲染器就会被用于渲染地图 \N{\fs12}and then that renderer will be used to render on the map. 
Dialogue: 0,0:21:14.28,0:21:17.54,yin,,0,0,0,, 这些渲染器来自于 iOS 种类有很多 \N{\fs12}Now, these renderers come with iOS, there's a whole bunch of them, 
Dialogue: 0,0:21:17.54,0:21:23.14,yin,,0,0,0,, 圆形渲染器 多段线渲染器 多边形 还有图块渲染器 \N{\fs12}circle renderer, polyline renderer, polygon, there's a tile renderer. 
Dialogue: 0,0:21:23.14,0:21:27.38,yin,,0,0,0,, 图块渲染器很酷 因为它只渲染位图 \N{\fs12}The tile renderer is cool because it just renders bit maps, okay, 
Dialogue: 0,0:21:27.38,0:21:29.92,yin,,0,0,0,, 你还可以用它来替换来自苹果的数据 \N{\fs12}and you can actually use it to replace the data, 
Dialogue: 0,0:21:29.92,0:21:32.14,yin,,0,0,0,, 你还可以用它来替换来自苹果的数据 \N{\fs12}instead of the data, that comes from Apple. 
Dialogue: 0,0:21:32.14,0:21:35.76,yin,,0,0,0,, 如果你有自定义的地图 你可以有这个图块 \N{\fs12}So if you had your own custom map, you could have this tile 
Dialogue: 0,0:21:35.76,0:21:38.16,yin,,0,0,0,, 这有些复杂 因为你需要 \N{\fs12}and it's a little bit involved, because you're talking 
Dialogue: 0,0:21:38.16,0:21:41.69,yin,,0,0,0,, 能够放大缩小 它需要这个的 API\N{\fs12}about being able to zoom in and out and it has an API for that, 
Dialogue: 0,0:21:41.69,0:21:43.74,yin,,0,0,0,, 不过你确实可以替换 \N{\fs12}but you could possibly replace, or you might just want 
Dialogue: 0,0:21:43.74,0:21:46.36,yin,,0,0,0,, 或许你想要世界上特定地方的图块 \N{\fs12}to tile some image over a certain place in the world. 
Dialogue: 0,0:21:46.36,0:21:48.02,yin,,0,0,0,, 所有这些都是内建的 \N{\fs12}And so all that stuff is built 
Dialogue: 0,0:21:48.02,0:21:52.57,yin,,0,0,0,, 都在 MKShape 和 MKOverlay 中 \N{\fs12}in with this MK shape stuff in, in MK overlay. 
Dialogue: 0,0:21:52.57,0:21:55.57,yin,,0,0,0,,overlay 非常酷 你可以用它们做很多事 \N{\fs12}So, overlays are really pretty cool and you can do a lot 
Dialogue: 0,0:21:55.57,0:21:58.52,yin,,0,0,0,, 因此 我建议你们去看看它们 \N{\fs12}of stuff with them, so I encourage you to kind of look at that. 
Dialogue: 0,0:21:59.75,0:22:01.37,yin,,0,0,0,, 好 以上是关于地图 \N{\fs12}Okay. So that's it for maps. 
Dialogue: 0,0:22:01.37,0:22:02.85,yin,,0,0,0,, 这方面我会有一个大 demo\N{\fs12}And I'm going to do a big demo of all this stuff 
Dialogue: 0,0:22:02.85,0:22:05.32,yin,,0,0,0,, 你可以看到这些的实际操作 不过演示前 \N{\fs12}so you can see all this stuff in action, but before I do that, 
Dialogue: 0,0:22:05.32,0:22:08.10,yin,,0,0,0,, 我还要讲另外一点会出现在 demo 中的内容 \N{\fs12}there's another thing I'm going to do in the demo that I want to talk about briefly, 
Dialogue: 0,0:22:08.10,0:22:09.65,yin,,0,0,0,, 也就是 embed segue\N{\fs12}which is embed segues. 
Dialogue: 0,0:22:09.65,0:22:13.00,yin,,0,0,0,,segue 方面 现在你们知道如何使用 push segue\N{\fs12}So, so far about segues, you know how to do push segues, 
Dialogue: 0,0:22:13.00,0:22:14.90,yin,,0,0,0,, 这是在导航控制器中 \N{\fs12}when you're in navigation controller, you know how 
Dialogue: 0,0:22:14.90,0:22:18.20,yin,,0,0,0,, 拆分视图中你们知道如何使用 replace segue\N{\fs12}to do replace segues in a split view, although 
Dialogue: 0,0:22:18.20,0:22:19.97,yin,,0,0,0,, 只是我没有演示 \N{\fs12}we didn't demo that and it's pretty rare 
Dialogue: 0,0:22:19.97,0:22:23.22,yin,,0,0,0,, 实际替换 detail 或 master 也很罕见 \N{\fs12}to actually replace the detail or the master. 
Dialogue: 0,0:22:23.22,0:22:25.70,yin,,0,0,0,,segue 中 我们通常会把 detail 留在那里 \N{\fs12}In a segue, we usually just leave the detail there 
Dialogue: 0,0:22:25.70,0:22:28.69,yin,,0,0,0,, 然后一直去找它 Photomania 中就是这样做的 \N{\fs12}and go look for it all the time, like we did in photo mania. 
Dialogue: 0,0:22:28.69,0:22:31.34,yin,,0,0,0,,popover segue 这是上次我们看到的 \N{\fs12}Pop over segues, we saw that last time, okay, 
Dialogue: 0,0:22:31.34,0:22:33.08,yin,,0,0,0,, 那里我们使用了弹窗 \N{\fs12}where we said we'll do a pop over. 
Dialogue: 0,0:22:33.08,0:22:35.03,yin,,0,0,0,, 这次我要讲的是 embed segue\N{\fs12}And here's another one called embed segues. 
Dialogue: 0,0:22:35.03,0:22:37.56,yin,,0,0,0,,embed segue 很酷 \N{\fs12}And an embed segue is really cool, 
Dialogue: 0,0:22:37.56,0:22:39.24,yin,,0,0,0,, 你创建一个 UIView\N{\fs12}you create a UI view 
Dialogue: 0,0:22:39.24,0:22:42.24,yin,,0,0,0,, 在某个视图控制器的视图层级内 \N{\fs12}inside the view hierarchy of some view controller, 
Dialogue: 0,0:22:42.24,0:22:44.57,yin,,0,0,0,, 在这个 UIView 之内 \N{\fs12}and inside that UI view, 
Dialogue: 0,0:22:44.57,0:22:48.56,yin,,0,0,0,, 是另一个视图控制器的 self.view\N{\fs12}is the self dot view of another view controller. 
Dialogue: 0,0:22:48.56,0:22:51.28,yin,,0,0,0,, 你将另一个视图控制器的 self.view\N{\fs12}So you basically take another view controller's self 
Dialogue: 0,0:22:51.28,0:22:55.17,yin,,0,0,0,, 作为 UIView 嵌入到了另一个里面 \N{\fs12}dot view and embed it as a UI view inside another one. 
Dialogue: 0,0:22:55.17,0:23:01.12,yin,,0,0,0,, 这让你能够创建非常复杂的视图 \N{\fs12}So, that allows you to build pretty complex views 
Dialogue: 0,0:23:01.12,0:23:07.94,yin,,0,0,0,, 同时仍能将矩形区域的职责划分到 MVC 中 \N{\fs12}and still divide up the responsibility for a rectangular area into MVCs. 
Dialogue: 0,0:23:07.96,0:23:09.91,yin,,0,0,0,, 我会在 demo 演示 \N{\fs12}And I'm going to do this in the demo 
Dialogue: 0,0:23:09.91,0:23:12.29,yin,,0,0,0,, 到时你们会明白我这里讲的是什么 \N{\fs12}so you get a little better idea of what I'm talking about here. 
Dialogue: 0,0:23:12.29,0:23:15.87,yin,,0,0,0,,Xcode 让这个非常非常容易做到 \N{\fs12}Xcode makes is really, really easy to do this. 
Dialogue: 0,0:23:15.87,0:23:17.75,yin,,0,0,0,, 你只需要到对象面板 \N{\fs12}You just go to the object palette and you're going 
Dialogue: 0,0:23:17.75,0:23:20.43,yin,,0,0,0,, 在下面找到所谓的 Container View(容器视图)\N{\fs12}to find something down there called container view, 
Dialogue: 0,0:23:20.43,0:23:23.76,yin,,0,0,0,, 你将 Container View 拖到你想要的视图中 \N{\fs12}you drag that container view into the view you want 
Dialogue: 0,0:23:23.76,0:23:26.87,yin,,0,0,0,, 然后就会自动创建一个视图控制器 \N{\fs12}and then it's going to actually automatically create a little 
Dialogue: 0,0:23:26.87,0:23:29.08,yin,,0,0,0,, 带有一个到它的 segue\N{\fs12}view controller with a segue to it, 
Dialogue: 0,0:23:29.08,0:23:31.89,yin,,0,0,0,, 不过你可以 control 拖动 从这个容器 \N{\fs12}but you can control, drag from this container 
Dialogue: 0,0:23:31.89,0:23:34.97,yin,,0,0,0,, 到任何你想嵌入的 VC\N{\fs12}to any VC you want to be embedded there. 
Dialogue: 0,0:23:34.97,0:23:38.85,yin,,0,0,0,,control 拖动后 它和其它 segue 没是区别 \N{\fs12}And then once you add control, drag, it's just like any other segue. 
Dialogue: 0,0:23:38.85,0:23:41.00,yin,,0,0,0,, 它是一个 segue 需要准备 \N{\fs12}It's just a segue. It has to be prepared, right? 
Dialogue: 0,0:23:41.00,0:23:43.51,yin,,0,0,0,, 因为它在这里需要显示一些东西 \N{\fs12}Because it's going to be displaying something in there, presumably. 
Dialogue: 0,0:23:43.51,0:23:45.21,yin,,0,0,0,, 其它方面 它完全一样 \N{\fs12}But otherwise, it's exactly the same. 
Dialogue: 0,0:23:45.21,0:23:48.25,yin,,0,0,0,, 不仅这个 segue 同其它 segue 很相似 \N{\fs12}And not only is that segue exactly like any other segue, 
Dialogue: 0,0:23:48.25,0:23:52.85,yin,,0,0,0,, 那个容器视图也和其它 UIView 很相似 \N{\fs12}the view, that container you see right there, that's just like any other UI view. 
Dialogue: 0,0:23:52.85,0:23:55.42,yin,,0,0,0,, 在主视图控制器中 \N{\fs12}So, in the host view controller, 
Dialogue: 0,0:23:55.42,0:23:58.48,yin,,0,0,0,, 如果你想隐藏 你可以设置它的.hidden\N{\fs12}you can set its dot hidden if you want to hide it. 
Dialogue: 0,0:23:58.48,0:24:00.49,yin,,0,0,0,, 你可以改变它的 frame\N{\fs12}You can change its frame, okay, 
Dialogue: 0,0:24:00.49,0:24:03.42,yin,,0,0,0,, 你可以动画展示它的 frame 变化和移动 \N{\fs12}you can animate its frame changing, moving around. 
Dialogue: 0,0:24:03.42,0:24:04.92,yin,,0,0,0,, 你可以做任何你想做的事 \N{\fs12}You can do anything you want, 
Dialogue: 0,0:24:04.92,0:24:07.20,yin,,0,0,0,, 这对你只是一个不透明的 UIView\N{\fs12}it's just kind of an opaque UI view to you, 
Dialogue: 0,0:24:07.20,0:24:08.54,yin,,0,0,0,, 它是视图层级的一部分 \N{\fs12}it's part of your view hierarchy, you can take it 
Dialogue: 0,0:24:08.54,0:24:11.00,yin,,0,0,0,, 你将它从中抽出 放回里面 \N{\fs12}out of the view hierarchy, put it back in, okay, 
Dialogue: 0,0:24:11.00,0:24:14.00,yin,,0,0,0,, 只是它的内容会被绘制为 \N{\fs12}it's just that its contents are going to be drawn 
Dialogue: 0,0:24:14.00,0:24:17.07,yin,,0,0,0,, 其它某个视图控制器的 self.view\N{\fs12}as the self dot view of some other view controller. 
Dialogue: 0,0:24:20.98,0:24:23.74,yin,,0,0,0,, 时机 这个需要小心 \N{\fs12}The timing this is little bit thing to be careful 
Dialogue: 0,0:24:23.74,0:24:25.84,yin,,0,0,0,, 这是进行设置的时机 \N{\fs12}of is the timing of setting things, 
Dialogue: 0,0:24:25.84,0:24:29.49,yin,,0,0,0,, 想想 这个嵌入发生在什么时候 \N{\fs12}because when does this embed happen. 
Dialogue: 0,0:24:29.49,0:24:32.15,yin,,0,0,0,, 它的 prepareForSegue 发生在什么时候 \N{\fs12}When does it's prepare for segue happen, basically? 
Dialogue: 0,0:24:32.15,0:24:35.64,yin,,0,0,0,, 相对于它嵌入到的视图控制器中发生的其它事情 \N{\fs12}Relative to other things happening in that view controller that it's embedded in, 
Dialogue: 0,0:24:35.64,0:24:38.16,yin,,0,0,0,, 例如 其 outlet 被设置等等 \N{\fs12}like that things outlets being set, etc. 
Dialogue: 0,0:24:38.18,0:24:40.80,yin,,0,0,0,, 答案是 这发生得很早 \N{\fs12}And the answer is it happens pretty early. 
Dialogue: 0,0:24:40.80,0:24:44.34,yin,,0,0,0,, 在 outlet 设置之前 就像其它 prepareForSegue 一样 \N{\fs12}Before outlet setting, just like all prepare for segues do. 
Dialogue: 0,0:24:44.34,0:24:45.73,yin,,0,0,0,, 很多时候 \N{\fs12}So a lot of times you're going to have 
Dialogue: 0,0:24:45.73,0:24:49.46,yin,,0,0,0,, 你需要在准备和 outlet 设置中写相同的代码 \N{\fs12}to do whatever code you do in the prepare also in your outlet setting, 
Dialogue: 0,0:24:49.46,0:24:51.27,yin,,0,0,0,, 如果它们相互依赖的话 \N{\fs12}if they depend on each other. 
Dialogue: 0,0:24:51.27,0:24:53.38,yin,,0,0,0,, 之前在 Photomania 中我们见过这个 \N{\fs12}And we've already seen this in photo mania before, 
Dialogue: 0,0:24:53.38,0:24:56.21,yin,,0,0,0,, 如果 prepareForSegue 依赖于一个 outlet\N{\fs12}anything you do in your prepare for segue that depends on an outlet, 
Dialogue: 0,0:24:56.21,0:24:57.88,yin,,0,0,0,, 你就需要在 prepareForSegue 中这样写 \N{\fs12}you're going to do it in prepare segue, 
Dialogue: 0,0:24:57.88,0:24:59.97,yin,,0,0,0,, 同时在 outlet 设置器中也这样写 \N{\fs12}you might also do it in the outlet setter. 
Dialogue: 0,0:24:59.97,0:25:03.94,yin,,0,0,0,, 这样一个发生时 另一个就会实际工作 \N{\fs12}So whichever one happens second will do the actual work. 
Dialogue: 0,0:25:03.94,0:25:06.85,yin,,0,0,0,, 大家都理解了我说的吗 \N{\fs12}Does everyone understand what I mean by that? 
Dialogue: 0,0:25:06.85,0:25:08.76,yin,,0,0,0,, 没有 还是理解了 \N{\fs12}No? Yes? 
Dialogue: 0,0:25:08.76,0:25:11.87,yin,,0,0,0,, 谁理解了我说的是什么意思 \N{\fs12}Who does understand what I mean by that? 
Dialogue: 0,0:25:11.87,0:25:13.42,yin,,0,0,0,, 没有人 好 \N{\fs12}Nobody. Okay, well. 
Dialogue: 0,0:25:13.42,0:25:16.72,yin,,0,0,0,, 不看演示可能有点难于理解 \N{\fs12}Okay, it's maybe a little hard to conceptualize without seeing it, 
Dialogue: 0,0:25:16.72,0:25:20.29,yin,,0,0,0,,demo 中我会讲到这个 但愿到时大家就懂了 \N{\fs12}so in the demo I'll talk about it again and hopefully it'll make sense. 
Dialogue: 0,0:25:20.29,0:25:22.12,yin,,0,0,0,, 好 让我们来做这个 demo\N{\fs12}Alright, so let's do this demo. 
Dialogue: 0,0:25:22.12,0:25:24.55,yin,,0,0,0,, 这个 demo 很大 \N{\fs12}This is a very big demo. 
Dialogue: 0,0:25:24.75,0:25:27.64,yin,,0,0,0,, 我应该有时间把它做完 \N{\fs12}I think I have enough time to do it all. 
Dialogue: 0,0:25:27.64,0:25:32.73,yin,,0,0,0,, 讲稿在这里 确保我没忘记什么 \N{\fs12}Notes here, make sure, in case I forget something. 
Dialogue: 0,0:25:32.73,0:25:34.87,yin,,0,0,0,, 我们打算做什么呢 \N{\fs12}Okay. So what are we going to do? 
Dialogue: 0,0:25:34.87,0:25:38.15,yin,,0,0,0,, 我们将从之前做到的地方开始考虑 Photomania\N{\fs12}We are going to start with photo mania where we left off, 
Dialogue: 0,0:25:38.15,0:25:43.10,yin,,0,0,0,, 这是之前我们已有的 Photomania\N{\fs12}so here's the exact photo mania we had before. 
Dialogue: 0,0:25:43.10,0:25:47.10,yin,,0,0,0,, 这次 我们打算在 iPhone 故事板中工作 \N{\fs12}Where we left off. This time we're going to work in this iPhone, 
Dialogue: 0,0:25:47.10,0:25:50.52,yin,,0,0,0,, 然后复制到 iPad 故事板 \N{\fs12}in the iPhone storyboard and then we'll copy it over to the iPad storyboard, 
Dialogue: 0,0:25:50.52,0:25:52.86,yin,,0,0,0,, 我们可以说是在两者之间来回切换 \N{\fs12}so we're kind of going back and forth working on each one. 
Dialogue: 0,0:25:52.86,0:25:55.42,yin,,0,0,0,, 今天我们打算考虑 iPhone 版 \N{\fs12}Today we're going to go work on the iPhone one. 
Dialogue: 0,0:25:55.42,0:25:56.64,yin,,0,0,0,, 怎么做呢 \N{\fs12}So, what are we going to do here? 
Dialogue: 0,0:25:56.64,0:25:58.54,yin,,0,0,0,, 但愿你们认识这个 \N{\fs12}So this, hopefully you recognize this. 
Dialogue: 0,0:25:58.54,0:26:02.07,yin,,0,0,0,, 这是我们的故事板 这里有一系列拍照者 \N{\fs12}Right? This is our storyboard, this is a bunch of photographers. 
Dialogue: 0,0:26:02.07,0:26:04.16,yin,,0,0,0,, 点击一个拍照者 我们得到该拍照者 \N{\fs12}We click on a photographer, we get all the photos 
Dialogue: 0,0:26:04.16,0:26:06.68,yin,,0,0,0,, 拍的所有照片 现在是在一个表格中 \N{\fs12}by that photographer currently in a table. 
Dialogue: 0,0:26:06.68,0:26:11.03,yin,,0,0,0,, 这里我要创建的 UI 几乎完全相同 \N{\fs12}So what I'm going to build is same UI here, almost exactly, 
Dialogue: 0,0:26:11.03,0:26:13.23,yin,,0,0,0,, 只是这里不再是照片的表格 \N{\fs12}except for that instead of a table of the photos, 
Dialogue: 0,0:26:13.23,0:26:15.87,yin,,0,0,0,, 而是照片的地图 \N{\fs12}I'm going to put a map of the photos up. 
Dialogue: 0,0:26:15.87,0:26:18.74,yin,,0,0,0,, 对于拍照者的每张照片将有一个大头针 \N{\fs12}With a pin for every photo by that photographer. 
Dialogue: 0,0:26:18.74,0:26:22.23,yin,,0,0,0,, 我需要一个 PhotosByPhotographer 地图视图控制器 \N{\fs12}So I'm going to need a photos by photographer map view controller,
Dialogue: 0,0:26:22.24,0:26:24.04,yin,,0,0,0,, 而不是一个 PhotosByPhotographer\N{\fs12}instead of a photos by photographer 
Dialogue: 0,0:26:24.04,0:26:25.59,yin,,0,0,0,,Core Data 表格视图控制器 \N{\fs12}core data table view controller. 
Dialogue: 0,0:26:25.59,0:26:28.30,yin,,0,0,0,, 这些还是需要从 Core Data 中取出 \N{\fs12}Okay, I'm still going to pull all of this out of core data and everything, 
Dialogue: 0,0:26:28.30,0:26:30.11,yin,,0,0,0,, 不过我们将不使用表格视图 \N{\fs12}but we're not going to be doing a table view. 
Dialogue: 0,0:26:30.11,0:26:32.94,yin,,0,0,0,, 我要做什么能理解吗 \N{\fs12}Does that make sense? What I'm going to do? 
Dialogue: 0,0:26:32.94,0:26:37.44,yin,,0,0,0,, 好 我们下面来拖动创建那个视图控制器 \N{\fs12}Alright, so let's go ahead and drag, create that view controller. 
Dialogue: 0,0:26:37.44,0:26:40.13,yin,,0,0,0,, 地图视图控制器也是视图控制器 \N{\fs12}So a map view controller is just a view controller, 
Dialogue: 0,0:26:40.13,0:26:41.68,yin,,0,0,0,, 我将拖出一个视图控制器 \N{\fs12}so I'm drag out a view controller here. 
Dialogue: 0,0:26:41.68,0:26:45.40,yin,,0,0,0,, 放在这下面 因为它将替换上面这个 \N{\fs12}We'll put it under here because it's going to be replacing this guy right here, 
Dialogue: 0,0:26:45.40,0:26:48.02,yin,,0,0,0,, 也就是表格视图控制器 \N{\fs12}which is the table view controller of it. 
Dialogue: 0,0:26:48.02,0:26:50.97,yin,,0,0,0,, 同任何视图控制器一样 这需要一个类 \N{\fs12}Now, as with any view controller, I need a class 
Dialogue: 0,0:26:50.97,0:26:54.25,yin,,0,0,0,, 现在这是 UIViewController\N{\fs12}for this, right now it's, you know, UI view controller, 
Dialogue: 0,0:26:54.25,0:26:57.16,yin,,0,0,0,, 我需要一个自定义子类 让我来创建一个 \N{\fs12}so I need a custom subclass, let's go create that. 
Dialogue: 0,0:26:57.16,0:27:02.41,yin,,0,0,0,, 这个自定义子类将是一个常规的 UIViewController\N{\fs12}And that custom subclass is going to be a regular, old UI view controller. 
Dialogue: 0,0:27:03.05,0:27:05.97,yin,,0,0,0,,UIViewController\N{\fs12}UI view, view controller, 
Dialogue: 0,0:27:05.97,0:27:08.90,yin,,0,0,0,, 和前面一致 我打算称其为 \N{\fs12}and I'm going to call it, to be consistent, 
Dialogue: 0,0:27:08.90,0:27:14.22,yin,,0,0,0,,PhotosByPhotographerMapViewController\N{\fs12}photos by photographer map view controller. 
Dialogue: 0,0:27:14.22,0:27:16.72,yin,,0,0,0,, 名字显得有点长 \N{\fs12}They're getting to be pretty long names here, but, 
Dialogue: 0,0:27:16.72,0:27:20.71,yin,,0,0,0,, 我也可以称它为 MapMVC 不过这会有些奇怪 \N{\fs12}I could call it map MVC, but that's kind of weird. 
Dialogue: 0,0:27:20.71,0:27:22.07,yin,,0,0,0,, 这里就写 MapViewController 吧 \N{\fs12}So we'll call it map view controller, alright? 
Dialogue: 0,0:27:22.07,0:27:25.22,yin,,0,0,0,,PhotosByPhotographerMapViewController\N{\fs12}So photos by photographer map view controller, we'll put it 
Dialogue: 0,0:27:25.22,0:27:29.57,yin,,0,0,0,, 和其它控制器放到一起 这里 \N{\fs12}where we put everything, we'll put it in with our controllers, right there. 
Dialogue: 0,0:27:29.57,0:27:31.00,yin,,0,0,0,, 我们得到这个 \N{\fs12}We got that. 
Dialogue: 0,0:27:31.00,0:27:36.34,yin,,0,0,0,, 在故事板中 让我们把这个设为地图视图控制器 \N{\fs12}In our storyboard, let's go ahead and set this thing to be a map view controller. 
Dialogue: 0,0:27:36.34,0:27:39.22,yin,,0,0,0,, 这里 PhotosByPhotographerMapViewController\N{\fs12}Here it is, photos by photographer map view controller. 
Dialogue: 0,0:27:39.22,0:27:42.31,yin,,0,0,0,, 让我们为这个创建 UI\N{\fs12}Let's build a UI for this thing. 
Dialogue: 0,0:27:42.31,0:27:43.79,yin,,0,0,0,, 在这之前 \N{\fs12}Actually, before we do that,
Dialogue: 0,0:27:43.79,0:27:47.65,yin,,0,0,0,, 我总喜欢为新类写公共 API\N{\fs12}I always like to do my public API for any new class. 
Dialogue: 0,0:27:47.65,0:27:51.17,yin,,0,0,0,, 这个类的公共 API 同 PhotosByPhotographer\N{\fs12}The public API for this class is exactly the same as the public API 
Dialogue: 0,0:27:51.17,0:27:54.48,yin,,0,0,0,,Core Data 表格视图控制器的公共 API 相同 \N{\fs12}for the photos by photographer core data table view controller. 
Dialogue: 0,0:27:54.48,0:27:59.16,yin,,0,0,0,, 这里我们其实只是复制粘贴 \N{\fs12}In fact, we just copy and paste it here to this thing. 
Dialogue: 0,0:28:01.49,0:28:03.95,yin,,0,0,0,, 当然 这里我们需要导入 \N{\fs12}And of course we need to be import here. 
Dialogue: 0,0:28:05.64,0:28:07.33,yin,,0,0,0,, 和原来一样 \N{\fs12}So it's the same thing. 
Dialogue: 0,0:28:07.33,0:28:10.10,yin,,0,0,0,, 你在地图视图控制器中设置这个拍照者 \N{\fs12}You set this photographer in our map view controller, 
Dialogue: 0,0:28:10.10,0:28:13.13,yin,,0,0,0,, 这里拍照者的照片不再显示在表格中 \N{\fs12}and instead of showing the photos by that photographer 
Dialogue: 0,0:28:13.13,0:28:15.20,yin,,0,0,0,, 而会显示在地图视图中 \N{\fs12}in a table, it's going to put them in a map view. 
Dialogue: 0,0:28:15.20,0:28:19.49,yin,,0,0,0,, 回到我们的故事板 创建这个的 UI\N{\fs12}So let's go back to our storyboard and build the UI for this thing. 
Dialogue: 0,0:28:19.49,0:28:22.56,yin,,0,0,0,, 这里腾出更多空间 \N{\fs12}And so, let's make a lot more space here. 
Dialogue: 0,0:28:22.56,0:28:24.63,yin,,0,0,0,, 像这样 \N{\fs12}And go like this. 
Dialogue: 0,0:28:24.63,0:28:27.32,yin,,0,0,0,, 把辅助编辑器弄出来 \N{\fs12}Get our assistant editor up here. 
Dialogue: 0,0:28:27.34,0:28:29.62,yin,,0,0,0,, 进入自动模式 \N{\fs12}Let's go to automatic mode. 
Dialogue: 0,0:28:29.62,0:28:30.59,yin,,0,0,0,, 到这里 \N{\fs12}Go here. 
Dialogue: 0,0:28:30.59,0:28:35.83,yin,,0,0,0,, 这是 PhotosByPhotographerMapViewController 的代码 \N{\fs12}So, here is the code for our map photos by photographer map view controller, 
Dialogue: 0,0:28:35.83,0:28:38.38,yin,,0,0,0,, 这些都不需要 \N{\fs12}we don't need any of this business. 
Dialogue: 0,0:28:38.38,0:28:40.10,yin,,0,0,0,, 删除掉 \N{\fs12}Clear that out. 
Dialogue: 0,0:28:40.10,0:28:42.13,yin,,0,0,0,, 我们需要一个地图视图 \N{\fs12}We're going to need a map view, so let's go ahead 
Dialogue: 0,0:28:42.13,0:28:45.68,yin,,0,0,0,, 下面抓取地图视图 它和文本视图这些很像 \N{\fs12}and grab a map view, that is just a view like text view 
Dialogue: 0,0:28:45.68,0:28:47.81,yin,,0,0,0,, 这里 这是地图视图 \N{\fs12}or any other view, here it is right here, map view. 
Dialogue: 0,0:28:47.81,0:28:51.27,yin,,0,0,0,, 拖出来放到这里 \N{\fs12}So I'm going to drag that out, put this in here. 
Dialogue: 0,0:28:51.27,0:28:56.72,yin,,0,0,0,, 这里我要考虑约束 点重置到建议约束 \N{\fs12}Maybe I want to do its constraints, so reset to suggested constraints. 
Dialogue: 0,0:28:56.72,0:28:58.06,yin,,0,0,0,, 看看这些 \N{\fs12}Let's go take a look at those 
Dialogue: 0,0:28:58.06,0:28:59.45,yin,,0,0,0,, 确保这里都很合理 \N{\fs12}and make sure it did something sensible. 
Dialogue: 0,0:28:59.45,0:29:02.33,yin,,0,0,0,, 看起来很合理 它会匹配大小 \N{\fs12}Oh. Yep, looks very sensible, so it's going to stick to the size, 
Dialogue: 0,0:29:02.33,0:29:05.78,yin,,0,0,0,, 无论 self.view 的大小是多少 它都会紧随它 \N{\fs12}so whatever size our self dot view is it's going to stick to it. 
Dialogue: 0,0:29:05.78,0:29:08.22,yin,,0,0,0,, 我们再为这个地图视图创建一个 outlet\N{\fs12}Let's create an outlet for this map view. 
Dialogue: 0,0:29:08.22,0:29:11.54,yin,,0,0,0,,control 拖动 起名为 mapView\N{\fs12}So I'm just control, dragging, I'll call it map view. 
Dialogue: 0,0:29:11.54,0:29:14.42,yin,,0,0,0,, 这里于是得到了一个 outlet\N{\fs12}Alright? So we got an outlet there. 
Dialogue: 0,0:29:14.42,0:29:19.78,yin,,0,0,0,, 注意到这里有错误和警告 \N{\fs12}Notice that we have this error and warning here. 
Dialogue: 0,0:29:19.78,0:29:20.98,yin,,0,0,0,, 问题在哪 \N{\fs12}What's the problem? 
Dialogue: 0,0:29:20.98,0:29:24.03,yin,,0,0,0,, 问题在于 我们需要导入 MKMapView\N{\fs12}The problem is we have to import MK map view. 
Dialogue: 0,0:29:24.03,0:29:25.30,yin,,0,0,0,, 让我们这样做 \N{\fs12}So let's do that. 
Dialogue: 0,0:29:25.30,0:29:28.78,yin,,0,0,0,,import \N{\fs12}Import map kit slash map kit. 
Dialogue: 0,0:29:28.78,0:29:32.44,yin,,0,0,0,, 我说过 MapKit 的导入和之前我们做的不一样 \N{\fs12}Now, I told you that map kit, it's not enough just to import map kit like you did 
Dialogue: 0,0:29:32.44,0:29:34.17,yin,,0,0,0,, 不能只是导入 MapKit\N{\fs12}for everything else we've done so far. 
Dialogue: 0,0:29:34.17,0:29:38.38,yin,,0,0,0,, 我们需要到上面这里进行项目设置 \N{\fs12}We have to go to our project settings, over here, at the top, 
Dialogue: 0,0:29:38.38,0:29:40.81,yin,,0,0,0,, 在上面的项目设置中 \N{\fs12}and in our project settings, along the top, you're going 
Dialogue: 0,0:29:40.81,0:29:43.33,yin,,0,0,0,, 你会看到这里的创建阶段 \N{\fs12}to see this thing here called build phases. 
Dialogue: 0,0:29:43.33,0:29:46.90,yin,,0,0,0,, 创建阶段指定了我们要关联的框架 \N{\fs12}And the build phases specifies what frameworks we link with. 
Dialogue: 0,0:29:46.90,0:29:48.95,yin,,0,0,0,, 关联二进制文件和库 \N{\fs12}Link binary with libraries. 
Dialogue: 0,0:29:48.95,0:29:51.09,yin,,0,0,0,, 不要忘记这一部分 否则在运行 app 时 \N{\fs12}So don't forget this part or when you run your app it's going 
Dialogue: 0,0:29:51.09,0:29:53.97,yin,,0,0,0,, 它会说 没有这个类 MKMapView\N{\fs12}to say oh, no such class, MK map view. 
Dialogue: 0,0:29:53.97,0:29:55.53,yin,,0,0,0,, 我们点加号 \N{\fs12}Alright? So we're just going to hit plus. 
Dialogue: 0,0:29:55.53,0:29:56.58,yin,,0,0,0,, 你会看到 \N{\fs12}Now when you do that you're going to see 
Dialogue: 0,0:29:56.58,0:30:02.16,yin,,0,0,0,,iOS7 有很多库和框架可供选择 \N{\fs12}that iOS 7 has a lot of libraries and frameworks that you can pick from here. 
Dialogue: 0,0:30:02.16,0:30:03.98,yin,,0,0,0,, 幸运的是 它支持搜索 \N{\fs12}And luckily it lets you search them, 
Dialogue: 0,0:30:03.98,0:30:06.26,yin,,0,0,0,, 我键入 map 这就得到了 MapKit\N{\fs12}so I'm just going to type map, and here I get map kit. 
Dialogue: 0,0:30:06.26,0:30:10.30,yin,,0,0,0,, 这就包含了 MapKit 将它关联到我的应用 \N{\fs12}So now I've included map kit, I'm linking it in with my application so 
Dialogue: 0,0:30:10.31,0:30:11.92,yin,,0,0,0,, 这就行了 \N{\fs12}it'll work. 
Dialogue: 0,0:30:13.08,0:30:15.82,yin,,0,0,0,, 我们有了这个地图视图 \N{\fs12}Alright, so we've got this map view. 
Dialogue: 0,0:30:15.82,0:30:19.70,yin,,0,0,0,, 这之后我就立刻需要将我自己设置为 \N{\fs12}One thing I want to do right off the bat is set myself 
Dialogue: 0,0:30:19.70,0:30:21.81,yin,,0,0,0,, 这个地图视图的委托 \N{\fs12}to be this map view's delegate. 
Dialogue: 0,0:30:21.81,0:30:24.35,yin,,0,0,0,, 因为我要使用所有这些地图视图委托方法 \N{\fs12}Because I'm going to use all those map view delegate methods 
Dialogue: 0,0:30:24.35,0:30:26.42,yin,,0,0,0,, 我在幻灯片中讲过 \N{\fs12}we talked about in the slides. 
Dialogue: 0,0:30:26.42,0:30:27.71,yin,,0,0,0,, 这里我有这个 \N{\fs12}So, I have this here. 
Dialogue: 0,0:30:27.71,0:30:29.73,yin,,0,0,0,, 这是地图视图的 setter\N{\fs12}So this is the setter for map view 
Dialogue: 0,0:30:29.73,0:30:31.85,yin,,0,0,0,, 我这里键入 _mapView = mapView\N{\fs12}and I'm just hitting underbar map view is map view, 
Dialogue: 0,0:30:31.85,0:30:34.38,yin,,0,0,0,, 然后这里将地图视图委托设为 self\N{\fs12}and here I'm setting the map views delegate to be myself, 
Dialogue: 0,0:30:34.38,0:30:36.21,yin,,0,0,0,, 这里它在警告我 \N{\fs12}of course it's warning me, because I have 
Dialogue: 0,0:30:36.21,0:30:39.44,yin,,0,0,0,, 因为我需要实现 MKMapViewDelegate 下面就来做这个 \N{\fs12}to implement MK map view delegate, so I will do that. 
Dialogue: 0,0:30:39.44,0:30:41.81,yin,,0,0,0,,MKMapViewDelegate\N{\fs12}MK map view delegate, 
Dialogue: 0,0:30:41.81,0:30:43.73,yin,,0,0,0,, 现在 警告没有了 \N{\fs12}and now the warning goes away 
Dialogue: 0,0:30:43.73,0:30:48.13,yin,,0,0,0,, 因为 MKMapViewDelegate 协议中没有必需方法 \N{\fs12}because there are no required methods in the MK map view delegate protocol. 
Dialogue: 0,0:30:48.13,0:30:49.85,yin,,0,0,0,, 所有方法都是可选的 \N{\fs12}All of them are optional. 
Dialogue: 0,0:30:51.10,0:30:54.14,yin,,0,0,0,, 这里我可能还要做一件事 \N{\fs12}Now, one other thing that I probably want 
Dialogue: 0,0:30:54.14,0:30:58.02,yin,,0,0,0,, 在我有一个设置模型的公共 API 时 \N{\fs12}to do here is what I always want to do when I have a 
Dialogue: 0,0:30:58.02,0:31:00.74,yin,,0,0,0,, 我总会做这件事 \N{\fs12}public API that kind of sets my model, 
Dialogue: 0,0:31:00.74,0:31:03.02,yin,,0,0,0,, 也就是键入如下这样的代码 \N{\fs12}which is to do things 
Dialogue: 0,0:31:03.02,0:31:07.87,yin,,0,0,0,,self.title = 拍照者的名字 这会很好 \N{\fs12}like self dot title equals the photographer's name, okay, that's a nice thing. 
Dialogue: 0,0:31:07.87,0:31:13.36,yin,,0,0,0,, 而且这里 每次我设置拍照者时 \N{\fs12}And I also, here, every time I set that photographer, 
Dialogue: 0,0:31:13.36,0:31:16.87,yin,,0,0,0,, 我都需要重置 PhotosByPhotographer\N{\fs12}I kind of need to reset the photos by photographer, right? 
Dialogue: 0,0:31:16.87,0:31:19.39,yin,,0,0,0,, 因为这里要做的就是显示拍照者的照片 \N{\fs12}Because the whole point here is that I show the photos 
Dialogue: 0,0:31:19.39,0:31:20.92,yin,,0,0,0,, 如果拍照者发生变化 \N{\fs12}by photographer, if you change the photographer, 
Dialogue: 0,0:31:20.92,0:31:22.48,yin,,0,0,0,, 照片也需要发生变化 \N{\fs12}I need to change those photos. 
Dialogue: 0,0:31:22.48,0:31:25.00,yin,,0,0,0,, 要做 PhotosByPhotographer 这些 \N{\fs12}So, to do the photos by photographer thing, 
Dialogue: 0,0:31:25.00,0:31:31.17,yin,,0,0,0,, 我需要创建一个新属性 \N{\fs12}I am going to create a new property. 
Dialogue: 0,0:31:31.17,0:31:34.23,yin,,0,0,0,, 名为 photosByPhotographer 加入这个 \N{\fs12}Called photos by photographer, so let's add that, 
Dialogue: 0,0:31:34.23,0:31:39.20,yin,,0,0,0,, 属性 非原子 强 这就是一个 NSArray\N{\fs12}property, nonatomic strong, it's just going to be an NS array, 
Dialogue: 0,0:31:39.20,0:31:45.74,yin,,0,0,0,,NSArray *photosByPhotographer\N{\fs12}NS array, start photos by photographer. 
Dialogue: 0,0:31:48.19,0:31:52.01,yin,,0,0,0,, 这将是照片对象的 \N{\fs12}Okay, and this is going to be of photo objects. 
Dialogue: 0,0:31:52.01,0:31:54.75,yin,,0,0,0,, 这里再导入 Photo\N{\fs12}So let's go ahead and import photo here too. 
Dialogue: 0,0:31:54.75,0:31:56.29,yin,,0,0,0,, 我们需要这个 \N{\fs12}We're going to need that. 
Dialogue: 0,0:31:56.29,0:31:59.58,yin,,0,0,0,, 这里是 photosByPhotographer 的 getter\N{\fs12}Okay, and, here's the getter for photos by photographer. 
Dialogue: 0,0:31:59.58,0:32:00.97,yin,,0,0,0,, 很简单 \N{\fs12}Very, very simple, alright? 
Dialogue: 0,0:32:00.97,0:32:03.33,yin,,0,0,0,, 这是 getter 因此我只需要说 \N{\fs12}It's the getter, so I'm just saying if the photographer, 
Dialogue: 0,0:32:03.33,0:32:05.25,yin,,0,0,0,, 如果 photosByPhotographer 还没设置 \N{\fs12}photos by photographer is not set yet, 
Dialogue: 0,0:32:05.25,0:32:07.61,yin,,0,0,0,, 那我就将从数据库中取回它们 \N{\fs12}then I'm going to go fetch them from the database. 
Dialogue: 0,0:32:07.61,0:32:10.67,yin,,0,0,0,, 我于是创建一个取回请求 用于照片 \N{\fs12}So I create a fetch request, it's for photos. 
Dialogue: 0,0:32:10.67,0:32:14.78,yin,,0,0,0,, 我创建了一个谓词 whoTook = self.photographer\N{\fs12}I create a predicate, who took equals self dot photographer, 
Dialogue: 0,0:32:14.78,0:32:16.75,yin,,0,0,0,, 而这里 在表格视图中 \N{\fs12}and here, we're in the table view, 
Dialogue: 0,0:32:16.75,0:32:18.44,yin,,0,0,0,, 我设置了取回结果控制器 \N{\fs12}I set the fetch results controller, 
Dialogue: 0,0:32:18.44,0:32:22.13,yin,,0,0,0,, 这里我打算在 context 中执行取回请求 \N{\fs12}here I'm actually going to execute the fetch request in the context. 
Dialogue: 0,0:32:22.13,0:32:26.30,yin,,0,0,0,, 这会返回一个数组 也就是这里我要存储的数组 \N{\fs12}And that returns an array, which is this array that I'm going to store right here, 
Dialogue: 0,0:32:26.31,0:32:28.50,yin,,0,0,0,, 然后我们返回它 \N{\fs12}and then we'll return it. 
Dialogue: 0,0:32:28.50,0:32:30.41,yin,,0,0,0,, 每次设置拍照者时 \N{\fs12}Now every time we set the photographer, 
Dialogue: 0,0:32:30.41,0:32:34.85,yin,,0,0,0,, 我都要将这个重置为 nil\N{\fs12}I better reset this thing to nil. 
Dialogue: 0,0:32:34.85,0:32:38.50,yin,,0,0,0,, 当有人想要时 它会惰性地进行这个取回 \N{\fs12}It's going to lazily do this fetch whenever someone actually wants it, 
Dialogue: 0,0:32:38.50,0:32:40.88,yin,,0,0,0,, 但每次拍照者变化时 我需要将其设为 nil\N{\fs12}but I better set it to nil every time the photographer changes, 
Dialogue: 0,0:32:40.88,0:32:44.61,yin,,0,0,0,, 否则它就不会进行这个惰性实例化 \N{\fs12}otherwise it's not going to do this lazy instantiation. 
Dialogue: 0,0:32:44.61,0:32:47.61,yin,,0,0,0,, 这个惰性实例化很棒 因为这是 Core Data 取回 \N{\fs12}This lazy instantiation is nice because this is core data fetch, 
Dialogue: 0,0:32:47.61,0:32:48.71,yin,,0,0,0,, 但它还在工作 \N{\fs12}but it's still work, 
Dialogue: 0,0:32:48.72,0:32:51.92,yin,,0,0,0,, 在有人想要这些 photosByPhotographer 机制之前 \N{\fs12}and I don't want to do this work until someone actually wants those photos by 
Dialogue: 0,0:32:51.92,0:32:54.90,yin,,0,0,0,, 我并不想要它在那工作 \N{\fs12}the photographer mechanism. 
Dialogue: 0,0:32:54.90,0:32:56.91,yin,,0,0,0,, 好 我们还需要做一件事 \N{\fs12}Alright. So the other thing we need to do is, 
Dialogue: 0,0:32:56.91,0:32:59.51,yin,,0,0,0,, 当地图视图被设置 或当模型被设置时 \N{\fs12}when our map view is set or when our model is set, 
Dialogue: 0,0:32:59.51,0:33:01.93,yin,,0,0,0,, 我们需要更新 annotation\N{\fs12}we need to update the annotations. 
Dialogue: 0,0:33:01.93,0:33:03.61,yin,,0,0,0,, 地图上有很多 annotation\N{\fs12}We've got all those annotations on the map 
Dialogue: 0,0:33:03.61,0:33:05.52,yin,,0,0,0,, 这将是 PhotosByPhotographer\N{\fs12}that are going to be the photos by photographer, 
Dialogue: 0,0:33:05.52,0:33:06.70,yin,,0,0,0,, 我们需要更新这些 \N{\fs12}so we got to update those. 
Dialogue: 0,0:33:06.70,0:33:08.89,yin,,0,0,0,, 我们这里将有一个方法叫 \N{\fs12}So we're going to have a method here called update 
Dialogue: 0,0:33:08.90,0:33:14.13,yin,,0,0,0,,updateMapViewAnnotations\N{\fs12}map view annotations. 
Dialogue: 0,0:33:14.13,0:33:21.06,yin,,0,0,0,, 这里设置地图视图时需要调用它 \N{\fs12}And we're going to have call this both from here, when we set the map view, 
Dialogue: 0,0:33:21.06,0:33:26.20,yin,,0,0,0,, 这里设置模型时也需要调用它 \N{\fs12}and also from here, when we 
Dialogue: 0,0:33:26.20,0:33:28.58,yin,,0,0,0,, 因为我们不知道发生顺序是怎样的 \N{\fs12}set our model. Because we don't know what order this is going to happen. 
Dialogue: 0,0:33:28.58,0:33:31.59,yin,,0,0,0,, 我们不知道是模型在地图视图之前设置 \N{\fs12}We don't know if our model is set before our map view 
Dialogue: 0,0:33:31.59,0:33:34.15,yin,,0,0,0,, 还是地图视图在模型之前设置 \N{\fs12}or if our map view is set before our model. 
Dialogue: 0,0:33:34.15,0:33:35.29,yin,,0,0,0,, 无论哪种顺序 \N{\fs12}Either way, this 
Dialogue: 0,0:33:35.29,0:33:38.11,yin,,0,0,0,,updateMapViewAnnotations 都需要做正确的事 \N{\fs12}update map view annotations better do the right thing. 
Dialogue: 0,0:33:39.07,0:33:41.45,yin,,0,0,0,, 这就是两处都要调用的原因 \N{\fs12}So that's why we're calling from both. 
Dialogue: 0,0:33:41.45,0:33:44.50,yin,,0,0,0,, 如何实现这个 updateMapViewAnnotations 呢 \N{\fs12}So, how are we going to implement this update map view annotations? 
Dialogue: 0,0:33:44.50,0:33:45.91,yin,,0,0,0,, 我其实讲过怎么做 \N{\fs12}Well, I told you what we're going to do, 
Dialogue: 0,0:33:45.91,0:33:49.44,yin,,0,0,0,, 我们要将照片对象设为 MKAnnotation\N{\fs12}we're going to make a photo object be an MK annotation 
Dialogue: 0,0:33:49.44,0:33:52.79,yin,,0,0,0,, 因此我们在更新地图视图 annotation 时 \N{\fs12}so that all we need to do to update that map view annotations 
Dialogue: 0,0:33:52.79,0:33:56.01,yin,,0,0,0,, 只需要将照片加到地图 \N{\fs12}is add the photos to the map. 
Dialogue: 0,0:33:56.01,0:34:01.34,yin,,0,0,0,, 如何将照片转化为 id MKAnnotation 呢 \N{\fs12}So how are we going to turn photo into an id MK annotation? 
Dialogue: 0,0:34:01.34,0:34:04.47,yin,,0,0,0,, 答案是 我们需要做两件事 \N{\fs12}And the answer is two-fold. There's two things we need to do. 
Dialogue: 0,0:34:04.47,0:34:08.65,yin,,0,0,0,, 一是 我们需要修正我们的 Core Data 数据库 \N{\fs12}One thing, we need to fix our model, or our, you know, core data database, 
Dialogue: 0,0:34:08.65,0:34:10.69,yin,,0,0,0,, 来得到经纬度 \N{\fs12}to have the latitude and longitude, 
Dialogue: 0,0:34:10.69,0:34:14.48,yin,,0,0,0,, 显然 不知道照片在哪就无法显示在某个地方 \N{\fs12}otherwise, if we don't where the photo is, we obviously can't show it on there. 
Dialogue: 0,0:34:14.48,0:34:17.27,yin,,0,0,0,, 因此 我要添加纬度 \N{\fs12}Right? So, I'm going to add latitude, 
Dialogue: 0,0:34:17.27,0:34:20.79,yin,,0,0,0,, 很幸运 Flickr 会提供这个信息 经度 \N{\fs12}luckily Flickr provides this information, longitude, 
Dialogue: 0,0:34:20.79,0:34:23.80,yin,,0,0,0,, 在这里 我还可以添加缩略图 URL\N{\fs12}and while I'm here I'm also going to add thumb nail URL, 
Dialogue: 0,0:34:23.82,0:34:26.11,yin,,0,0,0,, 等下我会讲 我们能用它做什么 \N{\fs12}and I'll show you what we can do with that in a moment too. 
Dialogue: 0,0:34:26.11,0:34:28.92,yin,,0,0,0,, 缩略图 URL 是一个字符串 本来应该是 URL\N{\fs12}So a thumb nail URL is a string, it's actually a URL, 
Dialogue: 0,0:34:28.92,0:34:30.45,yin,,0,0,0,, 不过我们只能存储字符串 \N{\fs12}but strings the best we can do. 
Dialogue: 0,0:34:30.45,0:34:36.03,yin,,0,0,0,, 而经纬度都是双精度浮点数 \N{\fs12}Whereas the latitude and longitude are doubles. Double precision float point numbers. 
Dialogue: 0,0:34:36.03,0:34:38.63,yin,,0,0,0,, 我把这个加到我的数据库 \N{\fs12}So I'm just adding this to my database. 
Dialogue: 0,0:34:38.64,0:34:39.76,yin,,0,0,0,, 到上面这里 \N{\fs12}I'm going to go up here 
Dialogue: 0,0:34:39.76,0:34:42.88,yin,,0,0,0,, 为 Photomania 创建 ManagedObject 子类 \N{\fs12}and create my managed object subclasses for photo mania, 
Dialogue: 0,0:34:42.88,0:34:46.78,yin,,0,0,0,, 我只改变了照片 那么这里就只重新生成照片 \N{\fs12}I only change photo, so let's just only regenerate photo. 
Dialogue: 0,0:34:46.78,0:34:49.64,yin,,0,0,0,, 这个还是放到老地方 \N{\fs12}We'll put this, same place, as we usually do, 
Dialogue: 0,0:34:49.64,0:34:52.50,yin,,0,0,0,, 它问我想不想替换 我当然想 \N{\fs12}it's asking if I want to replace the other ones, of course I do, 
Dialogue: 0,0:34:52.50,0:34:56.63,yin,,0,0,0,, 现在 我的照片就有了经纬度 \N{\fs12}and now our photo has a latitude and longitude. 
Dialogue: 0,0:34:56.63,0:34:59.03,yin,,0,0,0,, 注意 这里是 NSNumber\N{\fs12}Notice these are NS numbers here, 
Dialogue: 0,0:34:59.03,0:35:01.70,yin,,0,0,0,, 因为数据库中的一切都是对象 \N{\fs12}because everything in the database is an object. 
Dialogue: 0,0:35:01.70,0:35:04.34,yin,,0,0,0,, 当然 我们需要更新 Flickr 加载器 \N{\fs12}Of course we need to update Flickr's loader, 
Dialogue: 0,0:35:04.34,0:35:06.48,yin,,0,0,0,, 我们的 Photo+Flickr category\N{\fs12}our photo plus Flickr category, 
Dialogue: 0,0:35:06.48,0:35:09.12,yin,,0,0,0,, 这是加载所有这些东西用的 \N{\fs12}right, which does the loading of all this stuff, 
Dialogue: 0,0:35:09.12,0:35:13.12,yin,,0,0,0,, 加载纬度 这里有个东西用于这个 \N{\fs12}to load up the latitude, here I have a thing for that, 
Dialogue: 0,0:35:13.12,0:35:15.77,yin,,0,0,0,, 这是纬度被加载 这里是经度 \N{\fs12}so here's the latitude being loaded up, here's the longitude. 
Dialogue: 0,0:35:15.77,0:35:19.21,yin,,0,0,0,, 它会到照片字典去找经纬度 \N{\fs12}It's just looking at the photo dictionary for the latitude and longitude. 
Dialogue: 0,0:35:19.21,0:35:22.39,yin,,0,0,0,, 我这里将双精度值转换为 NSNumber\N{\fs12}I actually take the double value and then turn it into an NS number 
Dialogue: 0,0:35:22.39,0:35:25.46,yin,,0,0,0,, 以防这是一个字符串 \N{\fs12}just in case this is a string. 
Dialogue: 0,0:35:25.46,0:35:28.14,yin,,0,0,0,, 因为字符串也实现 doubleValue\N{\fs12}Cause strings implement double value too, 
Dialogue: 0,0:35:28.14,0:35:31.54,yin,,0,0,0,, 或是将自身解释为双精度值 这里我要双保险 \N{\fs12}or that'll interpret themselves as a double value, so I'm just going to be double safe. 
Dialogue: 0,0:35:31.54,0:35:33.43,yin,,0,0,0,, 我不确定我能从 Flickr 得回什么 \N{\fs12}I'm not quite sure what I'm going to get back from Flickr, 
Dialogue: 0,0:35:33.43,0:35:38.03,yin,,0,0,0,, 不知道 JSON 中是字符串还是数字 这里是为了保险 \N{\fs12}whether it's a string or a number in the JSON, so I'm just being safe there. 
Dialogue: 0,0:35:38.03,0:35:39.70,yin,,0,0,0,, 然后这里的缩略图 URL\N{\fs12}And then here at the thumb nail URL, 
Dialogue: 0,0:35:39.70,0:35:42.55,yin,,0,0,0,, 我抓取的是 FlickrPhotoFormatSquare\N{\fs12}I'm just grabbing the Flickr photo format square, 
Dialogue: 0,0:35:42.55,0:35:46.09,yin,,0,0,0,, 你们在作业中处理缩略图时也是用的这个 \N{\fs12}which is what you're using for your thumb nail also in your homework. 
Dialogue: 0,0:35:46.09,0:35:49.24,yin,,0,0,0,, 现在 我们的数据模型已经加载 \N{\fs12}So now we've got our data model being loaded 
Dialogue: 0,0:35:49.24,0:35:53.35,yin,,0,0,0,, 这是来自 Flickr 的照片 信息已经够了 \N{\fs12}up with photos from Flickr that have enough information. 
Dialogue: 0,0:35:53.35,0:35:57.38,yin,,0,0,0,, 然后我们要将照片设为 MKAnnotation 要做这个 \N{\fs12}Now we need to make photo be an MK annotation, and to do that, 
Dialogue: 0,0:35:57.38,0:36:00.04,yin,,0,0,0,, 我需要加另外一个 category\N{\fs12}I'm going to add another category. 
Dialogue: 0,0:36:00.04,0:36:02.55,yin,,0,0,0,, 我可以加入那个 Flickr category\N{\fs12}I could put in that Flickr category, 
Dialogue: 0,0:36:02.55,0:36:05.92,yin,,0,0,0,, 但实现 MKAnnotation 的并不是一个 Flickr 的东西 \N{\fs12}but it's not really a Flickr thing that it implements MK annotation. 
Dialogue: 0,0:36:05.92,0:36:10.08,yin,,0,0,0,, 因此 我要创建一个新的 category 叫 Annotation\N{\fs12}So I'm going to create a new category called the annotation category, 
Dialogue: 0,0:36:10.08,0:36:11.93,yin,,0,0,0,, 在照片上 \N{\fs12}on photo. 
Dialogue: 0,0:36:11.93,0:36:16.64,yin,,0,0,0,, 放到… 这仍然是模型的一部分 \N{\fs12}We'll put that, it's still part of our model. 
Dialogue: 0,0:36:16.64,0:36:20.00,yin,,0,0,0,, 这是 Annotation 的接口 \N{\fs12}Here's the annotation interface. 
Dialogue: 0,0:36:20.00,0:36:21.76,yin,,0,0,0,, 这个是空的 \N{\fs12}And, and this is, is empty.
Dialogue: 0,0:36:21.77,0:36:23.49,yin,,0,0,0,, 这里我要做什么呢 \N{\fs12}So, what am I going to do here? 
Dialogue: 0,0:36:23.49,0:36:28.83,yin,,0,0,0,, 这里我要说 Photo 是一个 MKAnnotation\N{\fs12}Actually, all I'm going to do is say photo is an MK annotation. 
Dialogue: 0,0:36:28.83,0:36:33.88,yin,,0,0,0,, 这里需要导入 MapKit\N{\fs12}And I'll have to import MapKit here. 
Dialogue: 0,0:36:33.88,0:36:36.85,yin,,0,0,0,, 我说了 Photo 是一个 MKAnnotation\N{\fs12}So I've said that photo is an annotation. 
Dialogue: 0,0:36:36.85,0:36:40.54,yin,,0,0,0,, 现在 我就能将照片放到照片视图中 \N{\fs12}Now I can put photos in that map view. 
Dialogue: 0,0:36:40.54,0:36:43.89,yin,,0,0,0,, 不过看这里的实现 \N{\fs12}But if I look at the implementation over here, 
Dialogue: 0,0:36:43.89,0:36:46.82,yin,,0,0,0,, 这里有一个警告 \N{\fs12}you're going to see that there's a warning. 
Dialogue: 0,0:36:46.82,0:36:49.78,yin,,0,0,0,, 这个警告是什么 \N{\fs12}What do you think this warning is? 
Dialogue: 0,0:36:49.78,0:36:50.74,yin,,0,0,0,, 没人知道吗 \N{\fs12}Nobody? 
Dialogue: 0,0:36:52.63,0:36:53.89,yin,,0,0,0,, 当然 请讲 \N{\fs12}Surely, yes? 
Dialogue: 0,0:36:55.03,0:36:56.49,yin,,0,0,0,, 对 缺少方法 \N{\fs12}Yes, missing methods. 
Dialogue: 0,0:36:56.49,0:36:58.24,yin,,0,0,0,, 因为我说了 这里 \N{\fs12}Because I said, here, 
Dialogue: 0,0:36:58.24,0:37:00.71,yin,,0,0,0,, 我实现了 MKAnnotation 协议 \N{\fs12}that I implement the MK annotation protocol, 
Dialogue: 0,0:37:00.71,0:37:03.01,yin,,0,0,0,, 但我没有实现坐标这些东西 \N{\fs12}but I don't implement that coordinate thing, so if I click 
Dialogue: 0,0:37:03.01,0:37:06.48,yin,,0,0,0,, 点这里 它告诉我 坐标属性需要定义 \N{\fs12}on this it says property coordinate has to be defined. 
Dialogue: 0,0:37:06.48,0:37:10.15,yin,,0,0,0,, 下面我们就来实现坐标 \N{\fs12}So let's implement coordinate here. 
Dialogue: 0,0:37:10.15,0:37:11.58,yin,,0,0,0,, 这很简单 \N{\fs12}It's really easy to do. 
Dialogue: 0,0:37:11.58,0:37:13.98,yin,,0,0,0,, 我们只需要返回一个 CLLocation 坐标 \N{\fs12}We just have to return a CL location coordinate. 
Dialogue: 0,0:37:13.98,0:37:18.40,yin,,0,0,0,, 我只需要获得经纬度双精度值就行了 \N{\fs12}I'm going to get it by just getting my latitude and longitude as double values. 
Dialogue: 0,0:37:18.40,0:37:22.29,yin,,0,0,0,, 这些是 NSNumber 这些是双精度 \N{\fs12}Remember, these are NS numbers, these are doubles. 
Dialogue: 0,0:37:22.29,0:37:24.34,yin,,0,0,0,, 这样警告就没了 \N{\fs12}So now I don't have that warning. 
Dialogue: 0,0:37:24.34,0:37:28.07,yin,,0,0,0,, 现在照片就是 id 了 \N{\fs12}Now a photo is an ID angle bracket MK annotation, 
Dialogue: 0,0:37:28.07,0:37:32.57,yin,,0,0,0,, 我于是可以把照片作为 MKAnnotation 放到地图视图中 \N{\fs12}and now I can just put a photo into a map view as an MK annotation. 
Dialogue: 0,0:37:32.57,0:37:34.24,yin,,0,0,0,, 下面我们来做这个 \N{\fs12}So let's go back and do that. 
Dialogue: 0,0:37:34.24,0:37:35.31,yin,,0,0,0,, 这是我的地图视图 \N{\fs12}There's my map view. 
Dialogue: 0,0:37:35.31,0:37:37.62,yin,,0,0,0,, 这是 updateMapViewAnnotations 方法 \N{\fs12}Here's the update map view annotations. 
Dialogue: 0,0:37:37.62,0:37:42.51,yin,,0,0,0,, 首先 我要删除所有已经存在的 annotation\N{\fs12}First, I'm going to remove all of our existing annotations. 
Dialogue: 0,0:37:44.52,0:37:48.52,yin,,0,0,0,, 我要删除地图视图中已有的所有 annotation\N{\fs12}Okay, so I'm just removing all the annotations that are currently in the map view, 
Dialogue: 0,0:37:48.52,0:37:52.85,yin,,0,0,0,, 然后 我要 addAnnotations\N{\fs12}and then I'm going to add annotations 
Dialogue: 0,0:37:52.85,0:37:55.64,yin,,0,0,0,,self.photosByPhotographer\N{\fs12}self dot photos by photographer. 
Dialogue: 0,0:37:55.64,0:37:57.75,yin,,0,0,0,, 这些都是 Photo *\N{\fs12}And I can, these are photo stars, 
Dialogue: 0,0:37:57.75,0:38:00.62,yin,,0,0,0,, 不过也是 id \N{\fs12}but they're also ID angle bracket MK annotations. 
Dialogue: 0,0:38:00.62,0:38:02.27,yin,,0,0,0,, 因此这里我可以调用它们 \N{\fs12}So I can call them here. 
Dialogue: 0,0:38:02.27,0:38:06.54,yin,,0,0,0,, 查阅说明文档看 addAnnotations 你会看到 \N{\fs12}If we look at the documentation for add annotations, you'll see 
Dialogue: 0,0:38:06.54,0:38:10.86,yin,,0,0,0,, 它取的是一个 MKAnnotation 的数组 照片就是这个 \N{\fs12}it takes an array of MK annotations, and a photo is that. 
Dialogue: 0,0:38:10.86,0:38:15.57,yin,,0,0,0,, 我还要做一个很酷的事 我要放大地图 \N{\fs12}I'm going to do another cool thing, which is I'm going to zoom the map in 
Dialogue: 0,0:38:15.58,0:38:19.23,yin,,0,0,0,, 显示这个拍照者的所有照片 \N{\fs12}to show all the photos by this photographer. 
Dialogue: 0,0:38:19.23,0:38:22.27,yin,,0,0,0,, 我将以一种动画的方式来做这个 \N{\fs12}Now I'm doing this in an animated way, but that just, 
Dialogue: 0,0:38:22.27,0:38:24.73,yin,,0,0,0,, 不过这并不是缩小然后放大回去 \N{\fs12}that's not really going to like zoom out and then zoom back 
Dialogue: 0,0:38:24.73,0:38:28.40,yin,,0,0,0,, 像我之前所说的 而是咻地转到要去的位置 \N{\fs12}in like I was talking about, it's not going to zoom on over to where it is, 
Dialogue: 0,0:38:28.40,0:38:29.58,yin,,0,0,0,, 这并不是很好的动画 \N{\fs12}so it's not great animation, 
Dialogue: 0,0:38:29.58,0:38:33.57,yin,,0,0,0,, 你们要做的东西应该比这更好 \N{\fs12}you're probably going to want to do something much better than this. 
Dialogue: 0,0:38:33.57,0:38:37.42,yin,,0,0,0,, 这就是我们需要做的 \N{\fs12}So that's really all we need to make this work. 
Dialogue: 0,0:38:37.42,0:38:40.51,yin,,0,0,0,, 有一点 我确定你们学过 \N{\fs12}One thing, which you've I'm sure learned, 
Dialogue: 0,0:38:40.51,0:38:44.30,yin,,0,0,0,, 也就是 我们改变了 Core Data 数据库模型 \N{\fs12}is that we've changed our core data base model, 
Dialogue: 0,0:38:44.30,0:38:48.10,yin,,0,0,0,, 这样一来 已经在设备或是模拟器上运行的 Photomania\N{\fs12}so the photo mania that's already on my device or my simulator, 
Dialogue: 0,0:38:48.10,0:38:49.58,yin,,0,0,0,, 就需要被删除 \N{\fs12}I'm going to want to delete that. 
Dialogue: 0,0:38:49.58,0:38:52.63,yin,,0,0,0,, 因为现在它的数据库是不兼容的 \N{\fs12}Because its database is now incompatible. 
Dialogue: 0,0:38:52.63,0:38:55.84,yin,,0,0,0,, 没有经纬度和缩略图 URL 在其中 \N{\fs12}It doesn't have latitude and longitude and thumb nail URL in there. 
Dialogue: 0,0:38:55.84,0:38:59.11,yin,,0,0,0,, 我们运行一下这个 \N{\fs12}So let's go ahead and run this. 
Dialogue: 0,0:38:59.11,0:39:05.13,yin,,0,0,0,, 但愿网络情况良好 我们能够获得 Flickr 信息 \N{\fs12}Hopefully our network is working and we can get stuff from Flickr. 
Dialogue: 0,0:39:05.13,0:39:06.93,yin,,0,0,0,, 有了 我们得到了一些东西 \N{\fs12}There it is, we got some stuff. 
Dialogue: 0,0:39:06.93,0:39:10.06,yin,,0,0,0,, 我们希望这里 当我们点击时 \N{\fs12}And now, what we'd like to have happen here is we click 
Dialogue: 0,0:39:10.06,0:39:15.22,yin,,0,0,0,, 看到的不是表格视图 而是地图 \N{\fs12}and instead of a table view here, right, we'd like to see this map. 
Dialogue: 0,0:39:15.22,0:39:17.85,yin,,0,0,0,, 如何做到这个 segue 呢 \N{\fs12}So how do we do that segue? 
Dialogue: 0,0:39:17.86,0:39:20.07,yin,,0,0,0,, 这里我们有这个 iPhone 的东西 \N{\fs12}Alright, we have this iPhone thing here. 
Dialogue: 0,0:39:20.07,0:39:22.50,yin,,0,0,0,, 这个地图视图的东西准备好了 \N{\fs12}We've got this nice map view thing ready to go, 
Dialogue: 0,0:39:22.50,0:39:25.67,yin,,0,0,0,, 我们希望 segue 到它 这个到这里的 segue\N{\fs12}we want to segue to it, so this segue that goes here, 
Dialogue: 0,0:39:25.67,0:39:28.44,yin,,0,0,0,, 我们希望它往下到这里 \N{\fs12}we want it to go down here. 
Dialogue: 0,0:39:28.44,0:39:29.72,yin,,0,0,0,, 很简单 \N{\fs12}Really easy to do. 
Dialogue: 0,0:39:29.72,0:39:33.99,yin,,0,0,0,, 我只需要把这些放到屏幕上 然后演示给你们 \N{\fs12}All we have to do is make sure it all fits on screen, so I can show it to you. 
Dialogue: 0,0:39:33.99,0:39:34.57,yin,,0,0,0,, 好了 \N{\fs12}Here we go. 
Dialogue: 0,0:39:34.57,0:39:36.84,yin,,0,0,0,, 我只需要通过 control 拖动 \N{\fs12}I'm just going to segue by control, dragging 
Dialogue: 0,0:39:36.84,0:39:42.34,yin,,0,0,0,, 从拍照者表格视图中这一行 segue 到下面新的这个 \N{\fs12}from this row in the photographer's table view, down to our new one. 
Dialogue: 0,0:39:42.34,0:39:44.21,yin,,0,0,0,, 这是 push 因为我们在导航控制器中 \N{\fs12}It's a push, because we're in the navigation controller, 
Dialogue: 0,0:39:44.21,0:39:46.43,yin,,0,0,0,, 注意到 上面这个 segue 没了 \N{\fs12}and notice it took away this segue because I can only segue 
Dialogue: 0,0:39:46.43,0:39:48.70,yin,,0,0,0,, 因为这一行只能 segue 到一个地方 \N{\fs12}from this row to one place, 
Dialogue: 0,0:39:48.70,0:39:52.23,yin,,0,0,0,, 现在 我 segue 到的是下面的地图视图 \N{\fs12}and now I'm segueing to our map view down here. 
Dialogue: 0,0:39:52.23,0:39:54.23,yin,,0,0,0,, 现在我们有了这个 segue\N{\fs12}So now we have this segue. 
Dialogue: 0,0:39:54.23,0:39:58.26,yin,,0,0,0,, 那拍照者的 Core Data 表格视图控制器呢 \N{\fs12}Now what about photographers control, core data table view controller? 
Dialogue: 0,0:39:58.26,0:40:00.91,yin,,0,0,0,, 它需要适当地为 segue 做准备 \N{\fs12}It has to prepare for segue properly, right? 
Dialogue: 0,0:40:00.91,0:40:02.77,yin,,0,0,0,, 这里是 prepareForSegue\N{\fs12}So here's where it's prepare for segue 
Dialogue: 0,0:40:02.78,0:40:04.30,yin,,0,0,0,, 对应 PhotosByPhotographer\N{\fs12}with the photos by photographer 
Dialogue: 0,0:40:04.30,0:40:06.75,yin,,0,0,0,,Core Data 表格视图控制器 \N{\fs12}core data table view controller, so, 
Dialogue: 0,0:40:06.75,0:40:13.25,yin,,0,0,0,, 这里我们要对地图视图控制做一样的事 \N{\fs12}we're going to do the same thing here with a map view controller. 
Dialogue: 0,0:40:14.04,0:40:17.23,yin,,0,0,0,, 这里代码几乎完全一样 只是这里我用 \N{\fs12}So here, this is almost exactly the same code, it's just that I'm doing photos 
Dialogue: 0,0:40:17.23,0:40:19.08,yin,,0,0,0,,PhotosByPhotographerMapViewController\N{\fs12}by photographer map view controller 
Dialogue: 0,0:40:19.08,0:40:20.91,yin,,0,0,0,, 代替 PhotosByPhotographer\N{\fs12}instead of photos by photographer 
Dialogue: 0,0:40:20.91,0:40:22.52,yin,,0,0,0,,Core Data 表格视图控制器 \N{\fs12}core data table view controller. 
Dialogue: 0,0:40:22.52,0:40:25.24,yin,,0,0,0,, 我们有这些 需要导入 \N{\fs12}And we have these because we have to import, 
Dialogue: 0,0:40:25.24,0:40:29.94,yin,,0,0,0,, 导入 PhotosByPhotographerMapViewController\N{\fs12}so let's go and import our photos by photographer map view controller. 
Dialogue: 0,0:40:29.94,0:40:32.92,yin,,0,0,0,, 这就解决掉了所有警告 很好 \N{\fs12}Hopefully it gets rid of all our warnings, that's good. 
Dialogue: 0,0:40:32.92,0:40:36.68,yin,,0,0,0,, 现在我们有了这个 segue 再试一次 \N{\fs12}So now we have this segue, so let's try again. 
Dialogue: 0,0:40:36.68,0:40:38.72,yin,,0,0,0,, 但愿我们的新 segue 能够工作 \N{\fs12}And hopefully our new segue will work. 
Dialogue: 0,0:40:38.72,0:40:42.85,yin,,0,0,0,, 我们有拍照者 点击 我们得到地图上的大头针 \N{\fs12}We got the photographers, we click, we got pins on the map. 
Dialogue: 0,0:40:42.85,0:40:46.82,yin,,0,0,0,, 显示该拍照者的所有照片 点击一个大头针 \N{\fs12}Showing all those photos by that photographer, and if we click on a pin, 
Dialogue: 0,0:40:46.82,0:40:50.67,yin,,0,0,0,, 它会显示出标题和副标题 \N{\fs12}it's actually going to show us the title and subtitle. 
Dialogue: 0,0:40:50.67,0:40:51.98,yin,,0,0,0,, 这些都没有副标题 \N{\fs12}None of these have subtitles, 
Dialogue: 0,0:40:51.98,0:40:54.98,yin,,0,0,0,, 看看能否找到一个有副标题的 \N{\fs12}let's see if we can find somebody who has subtitle. 
Dialogue: 0,0:40:54.98,0:40:57.76,yin,,0,0,0,, 这里 这里有一个人 从苏格兰 \N{\fs12}There we go, there's one, this person gets around, from Scotland all the way 
Dialogue: 0,0:40:57.76,0:41:00.87,yin,,0,0,0,, 一直跑到了非洲海岸 \N{\fs12}down to somewhere off the coast of Africa there. 
Dialogue: 0,0:41:00.87,0:41:06.08,yin,,0,0,0,, 这很酷 不过我们不能做到下一步的 segue\N{\fs12}So this is kind of cool, but we can't do our next step of our segue, 
Dialogue: 0,0:41:06.08,0:41:09.17,yin,,0,0,0,, 我们不能 segue 到照片显示 \N{\fs12}we can't segue to showing the photo, and also, 
Dialogue: 0,0:41:09.17,0:41:14.10,yin,,0,0,0,, 而且这里要是有个小的照片缩略图就好了 \N{\fs12}wouldn't it be cool if we had a little thumb nail of the photo in here? 
Dialogue: 0,0:41:14.10,0:41:15.32,yin,,0,0,0,, 让我们能够 \N{\fs12}So that we could kind of look 
Dialogue: 0,0:41:15.32,0:41:17.63,yin,,0,0,0,, 在这个人拍的多张照片中查找 \N{\fs12}around at the various photos taken by this guy 
Dialogue: 0,0:41:17.63,0:41:19.07,yin,,0,0,0,, 直到找到我们想要的 \N{\fs12}until we find the one we want, 
Dialogue: 0,0:41:19.07,0:41:20.84,yin,,0,0,0,, 然后我们点击这里 \N{\fs12}and then we'll click on something over here 
Dialogue: 0,0:41:20.84,0:41:25.36,yin,,0,0,0,,segue 到完整的照片显示 \N{\fs12}to segue over to our showing the photo in its grand, all its grandeur. 
Dialogue: 0,0:41:25.36,0:41:26.54,yin,,0,0,0,, 让我们来做这个 \N{\fs12}So let's do that. 
Dialogue: 0,0:41:26.54,0:41:28.80,yin,,0,0,0,, 把这些附属视图加进来 \N{\fs12}Let's put these accessory views in. 
Dialogue: 0,0:41:28.80,0:41:32.84,yin,,0,0,0,, 回到我们的地图视图控制器 \N{\fs12}Let's go back here to our map view controller. 
Dialogue: 0,0:41:32.84,0:41:34.51,yin,,0,0,0,, 腾出空间 \N{\fs12}Some space. 
Dialogue: 0,0:41:34.51,0:41:37.30,yin,,0,0,0,, 这是我们现有的地图视图控制器 \N{\fs12}Alright, so there's our map view controller, what we've done so far. 
Dialogue: 0,0:41:37.30,0:41:41.29,yin,,0,0,0,, 现在我们要用地图视图委托方法 这是我们的第一个 \N{\fs12}And now we're going to do that map view delegate method, this is our first one. 
Dialogue: 0,0:41:41.29,0:41:46.16,yin,,0,0,0,, 这个会返回 MKAnnotationView\N{\fs12}This is the one that returns an MK annotation view 
Dialogue: 0,0:41:46.16,0:41:49.48,yin,,0,0,0,, 给定一个特定的 annotation\N{\fs12}given a certain annotation. 
Dialogue: 0,0:41:49.48,0:41:52.51,yin,,0,0,0,, 这个是 mapView viewForAnnotation\N{\fs12}So this is called map view, view for annotation, 
Dialogue: 0,0:41:52.51,0:41:53.99,yin,,0,0,0,, 给定一个 annotation\N{\fs12}it's going to give an annotation, that's going 
Dialogue: 0,0:41:53.99,0:41:55.40,yin,,0,0,0,, 也就是我们的一张照片 \N{\fs12}to be one of our photos 
Dialogue: 0,0:41:55.40,0:41:59.98,yin,,0,0,0,, 它会要求我们返回一个视图对应那个 annotation\N{\fs12}and it's going to ask us to return a view for that annotation. 
Dialogue: 0,0:41:59.98,0:42:03.50,yin,,0,0,0,, 出于时间考虑 这里就直接这样做 \N{\fs12}I think for speed here I have something, yeah, let's do that. 
Dialogue: 0,0:42:03.50,0:42:06.16,yin,,0,0,0,, 这会完成幻灯片上我讲过的内容 \N{\fs12}Okay, so this is going to do what we saw on the slides 
Dialogue: 0,0:42:06.16,0:42:07.93,yin,,0,0,0,, 它会有一个再利用 ID\N{\fs12}where it's going to have a reuse ID. 
Dialogue: 0,0:42:07.93,0:42:10.38,yin,,0,0,0,, 顺便说下 这个代码片段非常好 \N{\fs12}I like, this, by the way, is a good code snippet to have. 
Dialogue: 0,0:42:10.38,0:42:12.43,yin,,0,0,0,, 可以看到 这是完全通用的 \N{\fs12}You can see this is kind of completely generic 
Dialogue: 0,0:42:12.43,0:42:14.82,yin,,0,0,0,, 用于在地图视图中做到 viewForAnnotation\N{\fs12}for doing a view for annotation in a map view. 
Dialogue: 0,0:42:14.82,0:42:18.69,yin,,0,0,0,, 我有时喜欢用类名作为再利用标识符 \N{\fs12}I like to use the name of my class sometimes as my reuse identifier, 
Dialogue: 0,0:42:18.69,0:42:22.76,yin,,0,0,0,, 这对于再利用有而言 具有很好的唯一性 \N{\fs12}that's pretty unique thing to do for reuse. 
Dialogue: 0,0:42:22.76,0:42:23.45,yin,,0,0,0,, 这是 dequeue\N{\fs12}Here's the DQ. 
Dialogue: 0,0:42:23.45,0:42:26.72,yin,,0,0,0,, 如果 dequeue 无法工作 我需要 alloc init 这个东西 \N{\fs12}If the DQ doesn't work, I have to alloc init this thing, 
Dialogue: 0,0:42:26.72,0:42:29.40,yin,,0,0,0,, 我还是想显示对话框 我希望有一个大头针 \N{\fs12}I still wanted to show a call out, I want it to be a pin 
Dialogue: 0,0:42:29.40,0:42:32.70,yin,,0,0,0,, 然后这里我设置好视图 带有我需要设置的那些 \N{\fs12}and then here I'm setting up the view with anything I need to set 
Dialogue: 0,0:42:32.70,0:42:35.31,yin,,0,0,0,, 它会设置 annotation\N{\fs12}up here, it's just setting the annotation. 
Dialogue: 0,0:42:35.31,0:42:40.93,yin,,0,0,0,, 这里面 就是我们设置左右附属视图的地方 \N{\fs12}So, inside here is where we want to set up the left and right accessory views. 
Dialogue: 0,0:42:40.93,0:42:42.17,yin,,0,0,0,, 我们来做这个 \N{\fs12}So, let's do that. 
Dialogue: 0,0:42:42.17,0:42:44.95,yin,,0,0,0,, 左边这个将是 UIImageView\N{\fs12}So the left one is going to be UI image view. 
Dialogue: 0,0:42:44.96,0:42:48.10,yin,,0,0,0,, 这里我要创建一个图像视图 \N{\fs12}So I'm going to create an image view here. 
Dialogue: 0,0:42:48.10,0:42:51.61,yin,,0,0,0,,UIImageView alloc init\N{\fs12}UI image view alloc init. 
Dialogue: 0,0:42:51.61,0:42:54.53,yin,,0,0,0,, 这里 alloc init 将使用 initWithFrame\N{\fs12}And I'm going to actually alloc init with frame 
Dialogue: 0,0:42:54.53,0:42:57.96,yin,,0,0,0,, 这是 iOS 中我很不喜欢的一个地方 \N{\fs12}and this is one of the places in iOS I really don't like. 
Dialogue: 0,0:42:57.96,0:43:04.00,yin,,0,0,0,, 没有 API 能够知道 对话框有多大 \N{\fs12}There is no way, no API, to find out how big is that call out? 
Dialogue: 0,0:43:04.00,0:43:06.20,yin,,0,0,0,, 而我需要知道对话框有多大 \N{\fs12}So I'd really like to know how big that call 
Dialogue: 0,0:43:06.20,0:43:10.12,yin,,0,0,0,, 这样我才能知道图像视图要多大才合适 \N{\fs12}out so I can make my image view be a good size to really fit there. 
Dialogue: 0,0:43:10.12,0:43:14.53,yin,,0,0,0,, 很不幸 这里你需要设置固定数字 \N{\fs12}So this is a place where you have to, unfortunately, put magic numbers. 
Dialogue: 0,0:43:14.53,0:43:16.55,yin,,0,0,0,, 我发现的固定数字 \N{\fs12}And the magic numbers I found 
Dialogue: 0,0:43:16.55,0:43:20.17,yin,,0,0,0,, 对于图像视图是 46 乘 46\N{\fs12}that really work is an image view that is 46 by 46, 
Dialogue: 0,0:43:20.17,0:43:25.25,yin,,0,0,0,, 这就能很好地匹配到左侧对话框附属视图中 \N{\fs12}that seems to really fit nicely in that left call out accessory view, right there. 
Dialogue: 0,0:43:25.25,0:43:28.95,yin,,0,0,0,, 这是这里很不幸的一点 \N{\fs12}So that's kind of an unfortunate piece of this. 
Dialogue: 0,0:43:28.95,0:43:33.21,yin,,0,0,0,, 现在 我将把这设置为左侧对话框附属视图 \N{\fs12}So now I'm just going to set that as the left call out accessory view, 
Dialogue: 0,0:43:33.21,0:43:37.39,yin,,0,0,0,, 然后右边将是一个按钮 我只想要一个按钮 \N{\fs12}and then the right one is going to be a button, I just want to do a button, 
Dialogue: 0,0:43:37.39,0:43:39.33,yin,,0,0,0,, 这个的代码我也有了 \N{\fs12}so I think I have a code for that one, yeah, 
Dialogue: 0,0:43:39.33,0:43:41.27,yin,,0,0,0,, 信息披露按钮 也就是这段代码 \N{\fs12}the disclosure button, so that's this code right here. 
Dialogue: 0,0:43:41.27,0:43:44.02,yin,,0,0,0,, 我要创建一个 UIButton 使用 alloc init\N{\fs12}So I'm just going to create a UI button, alloc init. 
Dialogue: 0,0:43:44.02,0:43:46.06,yin,,0,0,0,, 我要将它的背景图像 \N{\fs12}I'm going to set its background image 
Dialogue: 0,0:43:46.06,0:43:49.04,yin,,0,0,0,, 设为这里的这个信息披露图像 \N{\fs12}to be this disclosure image I have right here. 
Dialogue: 0,0:43:49.04,0:43:53.35,yin,,0,0,0,, 让我到下面这里的图像库中 \N{\fs12}So let me go down here to my image assets. 
Dialogue: 0,0:43:53.35,0:43:55.66,yin,,0,0,0,, 把这个拖进来 像这样 \N{\fs12}And let's drag this in, like that. 
Dialogue: 0,0:43:55.66,0:43:57.96,yin,,0,0,0,, 名为披露 我没有高清版的 不过没问题 \N{\fs12}Disclosure, I don't have a high-res version, but that's okay. 
Dialogue: 0,0:43:57.96,0:44:03.08,yin,,0,0,0,, 顺便说下 这并不是很好的图像解决方案 \N{\fs12}This is kind of, this is not a great solution, by the way, to do an image here, 
Dialogue: 0,0:44:03.09,0:44:07.52,yin,,0,0,0,, 因为我们需要尊重地图视图的着色风格 \N{\fs12}because really we want to respect the tint color of the map view 
Dialogue: 0,0:44:07.52,0:44:09.57,yin,,0,0,0,, 而这个箭头是蓝色的 \N{\fs12}and that arrow is blue. 
Dialogue: 0,0:44:09.57,0:44:10.76,yin,,0,0,0,, 这很糟糕 \N{\fs12}So that's bad. 
Dialogue: 0,0:44:10.76,0:44:13.37,yin,,0,0,0,, 更好的做法是绘制一个 \N{\fs12}It'd be much better to either draw it 
Dialogue: 0,0:44:13.37,0:44:16.13,yin,,0,0,0,, 就算要使用图像 你也应该来周五辅导课 \N{\fs12}or if we are going to use an image, you should come to Friday's section 
Dialogue: 0,0:44:16.13,0:44:19.35,yin,,0,0,0,, 理解如何使用 Core Image 改变图像颜色 \N{\fs12}and understand how to change the color of an image using core image. 
Dialogue: 0,0:44:19.35,0:44:22.24,yin,,0,0,0,, 这是本周五辅导课我们要讲的内容 \N{\fs12}That's what we're talking about in Friday's section this week. 
Dialogue: 0,0:44:22.24,0:44:23.78,yin,,0,0,0,, 一则小广告 \N{\fs12}Little plug for that. 
Dialogue: 0,0:44:23.78,0:44:26.22,yin,,0,0,0,, 无论如何 demo 中就用这个了 \N{\fs12}But anyway, for demo purposes I'll use this thing. 
Dialogue: 0,0:44:26.22,0:44:29.86,yin,,0,0,0,, 然后使用 sizeToFit 来调整按钮图像 \N{\fs12}Now I'm going to size to fit this button to fit that image that I just did, 
Dialogue: 0,0:44:29.86,0:44:34.21,yin,,0,0,0,, 然后我将它设为右对话框附属视图 \N{\fs12}and then I'm going to set it as the right call out accessory view right there. 
Dialogue: 0,0:44:34.21,0:44:35.51,yin,,0,0,0,, 有问题 \N{\fs12}Question? 
Dialogue: 0,0:44:39.29,0:44:43.68,yin,,0,0,0,, 你是说… 我不确定 \N{\fs12}You mean is the, the, you know, I'm not sure. 
Dialogue: 0,0:44:43.68,0:44:46.44,yin,,0,0,0,, 如果视图很大的话 \N{\fs12}I believe it will size if you make a big view in there, 
Dialogue: 0,0:44:46.44,0:44:49.12,yin,,0,0,0,, 它会变得更大 但看起来会很糟糕 \N{\fs12}it'll make it bigger, but it starts to not look very good, 
Dialogue: 0,0:44:49.12,0:44:52.04,yin,,0,0,0,, 因此你需要选择大小 让它保持相同大小 \N{\fs12}so you kind of want to pick sizes that make it stay the same size 
Dialogue: 0,0:44:52.04,0:44:53.50,yin,,0,0,0,, 由于标题和副标题 \N{\fs12}because of the title and subtitle. 
Dialogue: 0,0:44:53.50,0:44:56.49,yin,,0,0,0,, 对话框这整个 \N{\fs12}It's a little bit, the whole thing with the call out thing is a little bit, 
Dialogue: 0,0:44:56.49,0:45:00.92,yin,,0,0,0,, 你需要逐像素或是逐点调整 很不幸 \N{\fs12}kind of, you have to tweak it pixel by or point by point, unfortunately. 
Dialogue: 0,0:45:00.92,0:45:06.47,yin,,0,0,0,, 我们来看看 到目前为止 我们都做了些什么 \N{\fs12}So, let's go ahead and take a look at what we got so far. 
Dialogue: 0,0:45:06.47,0:45:09.60,yin,,0,0,0,, 现在 我们来看一张照片 点出对话框 \N{\fs12}Alright? So now if we look at a photo and we do the call out. 
Dialogue: 0,0:45:09.60,0:45:11.03,yin,,0,0,0,, 这里有了图像的空间 \N{\fs12}We have room for the image. 
Dialogue: 0,0:45:11.03,0:45:13.66,yin,,0,0,0,, 只是图像还没放进来 这里还有了按钮 \N{\fs12}We're not putting the image in there yet, and we have this little button, 
Dialogue: 0,0:45:13.66,0:45:15.57,yin,,0,0,0,, 现在点击 它还什么都做不了 \N{\fs12}which when we click on does nothing. 
Dialogue: 0,0:45:15.57,0:45:16.81,yin,,0,0,0,, 我们正在推进 \N{\fs12}So we're getting closer.
Dialogue: 0,0:45:16.81,0:45:22.01,yin,,0,0,0,, 让我们把图像放进来 同时点这个以后 segue\N{\fs12}So let's put this image in there, and let's make it so clicking on this segues. 
Dialogue: 0,0:45:22.01,0:45:25.94,yin,,0,0,0,, 那如何将图像放到这个图像视图中呢 \N{\fs12}Alright. So, how do we put this image into the image view? 
Dialogue: 0,0:45:25.94,0:45:30.42,yin,,0,0,0,, 这里我有一个方法 叫作… 叫什么来着 \N{\fs12}Well, I'm going to have a little method to do it here called, what did I call this? 
Dialogue: 0,0:45:30.42,0:45:32.27,yin,,0,0,0,,updateLeftCalloutAccessory\N{\fs12}Update left call accessory, yeah, 
Dialogue: 0,0:45:32.27,0:45:34.70,yin,,0,0,0,, 这是做这个的方法 \N{\fs12}so here's my method that does this. 
Dialogue: 0,0:45:34.70,0:45:37.11,yin,,0,0,0,, 看起来有很多代码 其实不然 \N{\fs12}This looks like maybe a lot of code, but it's actually not that much. 
Dialogue: 0,0:45:37.11,0:45:39.92,yin,,0,0,0,, 我做的大部分是内省 \N{\fs12}Mostly what I'm doing is introspection to find 
Dialogue: 0,0:45:39.92,0:45:44.74,yin,,0,0,0,, 弄清左对话框附属视图是不是图像视图 \N{\fs12}out if the left call out accessory view is, in fact, an image view. 
Dialogue: 0,0:45:44.74,0:45:48.31,yin,,0,0,0,, 因为我可能有多个大头针 使用不同的对话框 \N{\fs12}Because I might have multiple pins with different call outs. 
Dialogue: 0,0:45:48.31,0:45:49.74,yin,,0,0,0,, 有些可能会显示照片 \N{\fs12}Some of them might be showing photos, 
Dialogue: 0,0:45:49.74,0:45:51.61,yin,,0,0,0,, 但有些可能会显示别的 \N{\fs12}but some might be showing something else. 
Dialogue: 0,0:45:51.61,0:45:52.73,yin,,0,0,0,, 也许别的这些 \N{\fs12}And maybe those are something else 
Dialogue: 0,0:45:52.73,0:45:55.96,yin,,0,0,0,, 没有图像视图作为左对话框附属视图 \N{\fs12}they don't have an image view as a the left call out accessory view. 
Dialogue: 0,0:45:55.96,0:46:00.78,yin,,0,0,0,, 我这里既检查确保了左对话框是图像视图 \N{\fs12}Alright? So I'm both checking to make sure that my left call out is an image view, 
Dialogue: 0,0:46:00.78,0:46:03.66,yin,,0,0,0,, 我还检查确保了 annotation 是一张照片 \N{\fs12}I'm also checking to make sure my annotation is a photo, 
Dialogue: 0,0:46:03.66,0:46:05.31,yin,,0,0,0,, 而不是别的什么 \N{\fs12}right, and not something else. 
Dialogue: 0,0:46:05.31,0:46:07.95,yin,,0,0,0,, 毕竟地图上有别的 annotation 很正常 \N{\fs12}Because it's perfectly reasonable on a map to have annotations, 
Dialogue: 0,0:46:07.95,0:46:10.21,yin,,0,0,0,, 可能有些是照片 有些是别的 \N{\fs12}some of which are photos, some of which are something else. 
Dialogue: 0,0:46:10.21,0:46:12.77,yin,,0,0,0,, 例如拍照者的家乡或是别的什么 \N{\fs12}The hometown of the photographer or something like that. 
Dialogue: 0,0:46:12.77,0:46:17.26,yin,,0,0,0,, 这里大部分就是这种内省 \N{\fs12}So that's what mostly what this is it just is introspection of those things. 
Dialogue: 0,0:46:17.26,0:46:19.77,yin,,0,0,0,, 有了照片和图像视图之后 \N{\fs12}Once I have a photo and an image view, 
Dialogue: 0,0:46:19.77,0:46:22.51,yin,,0,0,0,, 我就只需要这个骇人的图像 \N{\fs12}then all I'm doing is this horrendous image 
Dialogue: 0,0:46:22.51,0:46:24.43,yin,,0,0,0,, 使用 imageWithData dataWithContentsOfURL\N{\fs12}with image data, data with contents URL, 
Dialogue: 0,0:46:24.43,0:46:25.94,yin,,0,0,0,, 为什么说骇人呢 \N{\fs12}and why is it horrendous? 
Dialogue: 0,0:46:25.94,0:46:27.61,yin,,0,0,0,, 显然因为我阻塞了主队列 \N{\fs12}Of course because I'm blocking the main queue, 
Dialogue: 0,0:46:27.61,0:46:29.28,yin,,0,0,0,, 这是 demo 我需要做这个 \N{\fs12}but this is a demo so I get to do it, 
Dialogue: 0,0:46:29.28,0:46:32.07,yin,,0,0,0,, 你们在作业中不需要 但我需要 \N{\fs12}you don't get to do it in your homework, but I do. 
Dialogue: 0,0:46:32.07,0:46:33.96,yin,,0,0,0,, 这会阻塞主队列 \N{\fs12}So, this is going to block the main thread 
Dialogue: 0,0:46:33.96,0:46:36.51,yin,,0,0,0,, 前往 Flickr 进行取回 \N{\fs12}for a short amount while it goes out to Flickr to fetch it, 
Dialogue: 0,0:46:36.51,0:46:38.37,yin,,0,0,0,, 不过 你们懂的 \N{\fs12}but you get the idea. 
Dialogue: 0,0:46:38.37,0:46:42.43,yin,,0,0,0,, 这里加个警告 我保证以后我会过来修正的 \N{\fs12}I put the warning in, I'm sure I'll go back and fix it some other day, yeah, sure. 
Dialogue: 0,0:46:42.43,0:46:46.15,yin,,0,0,0,, 这是这个 我们来看看 \N{\fs12}Okay. So that's that. Let's go ahead and look at that. 
Dialogue: 0,0:46:49.40,0:46:51.78,yin,,0,0,0,, 好 现在 如果我点击一个大头针 \N{\fs12}Alright, so now if we click on something and we click 
Dialogue: 0,0:46:51.78,0:46:54.03,yin,,0,0,0,, 这里应该有一个图像 \N{\fs12}on a pin, hopefully we'll get an image, 
Dialogue: 0,0:46:54.03,0:46:57.17,yin,,0,0,0,, 似乎无法工作 为什么呢 \N{\fs12}maybe that guy didn't have, oh, that's not working, why is that not working? 
Dialogue: 0,0:46:57.17,0:47:01.10,yin,,0,0,0,, 哦 不 不是这个原因 \N{\fs12}Oh! I, no, that's not why. 
Dialogue: 0,0:47:01.10,0:47:04.21,yin,,0,0,0,, 哦 我明白了 因为我们没有调用这个 \N{\fs12}Okay, so, oh, I see why, because we never called this. 
Dialogue: 0,0:47:04.21,0:47:06.73,yin,,0,0,0,, 显然应当调用 这样才行 \N{\fs12}Okay, it'd be nice to call that. It would probably work better. 
Dialogue: 0,0:47:06.73,0:47:08.79,yin,,0,0,0,, 在这里调用它 \N{\fs12}So let's call that from here. 
Dialogue: 0,0:47:08.79,0:47:13.57,yin,,0,0,0,, 这是 viewForAnnotation\N{\fs12}Okay, this is the view for annotation. 
Dialogue: 0,0:47:13.57,0:47:16.29,yin,,0,0,0,, 我从 viewForAnnotation 调用这个左对话框 \N{\fs12}So I'm calling this left call out here from view for annotation, right, 
Dialogue: 0,0:47:16.29,0:47:18.08,yin,,0,0,0,, 因为我要为 annotation 返回一个小视图 \N{\fs12}because I'm returning the little view for annotation, 
Dialogue: 0,0:47:18.08,0:47:20.56,yin,,0,0,0,, 这包含对话窗视图的创建 \N{\fs12}that includes building the call out view, 
Dialogue: 0,0:47:20.56,0:47:24.38,yin,,0,0,0,, 这样应该就行了 我猜 \N{\fs12}so that'll work a lot better, I'm going to guess. 
Dialogue: 0,0:47:24.38,0:47:26.29,yin,,0,0,0,, 到这里 \N{\fs12}Alright, so here we go here. 
Dialogue: 0,0:47:26.29,0:47:28.51,yin,,0,0,0,, 点击 看起来很棒 \N{\fs12}Click this up, nice, that looks pretty good, right? 
Dialogue: 0,0:47:28.51,0:47:30.83,yin,,0,0,0,, 点这每一个 都可以看到缩略图 \N{\fs12}So if we click on each one, we kind of get a little look at it 
Dialogue: 0,0:47:30.83,0:47:33.25,yin,,0,0,0,, 这能帮我们决定 我们要看哪个 \N{\fs12}and it kind of helps us decide which one we want to step on, 
Dialogue: 0,0:47:33.25,0:47:34.83,yin,,0,0,0,, 我们再点这个 \N{\fs12}press on, and we'll press on this one. 
Dialogue: 0,0:47:34.83,0:47:36.67,yin,,0,0,0,, 不过这样做有个问题 \N{\fs12}Now there's a problem with the way I've done this though. 
Dialogue: 0,0:47:36.67,0:47:38.96,yin,,0,0,0,, 找一个照片很多的人 \N{\fs12}Let's find somebody who has a lot of photos. 
Dialogue: 0,0:47:38.96,0:47:40.76,yin,,0,0,0,, 但愿有人拍了很多照片 \N{\fs12}Hopefully somebody has a lot of photos. 
Dialogue: 0,0:47:40.76,0:47:45.23,yin,,0,0,0,, 谁呢 看起来 15 或是 16 张已经很多了 \N{\fs12}Somebody, well, eh, looks like 15 photos is, or 16, alright. 
Dialogue: 0,0:47:45.23,0:47:46.38,yin,,0,0,0,, 选这个吧 \N{\fs12}So let's click on this guy. 
Dialogue: 0,0:47:46.38,0:47:48.66,yin,,0,0,0,, 点这个时 注意 耗时很长 \N{\fs12}When I click on this guy, look, it's taking a long time. 
Dialogue: 0,0:47:48.68,0:47:50.42,yin,,0,0,0,, 斯坦福的网还很快 \N{\fs12}And this is a fast Stanford network, so, 
Dialogue: 0,0:47:50.42,0:47:53.22,yin,,0,0,0,, 至少不慢 但它仍然阻塞了主线程 \N{\fs12}it's not too slow, but it still, it's blocking the main thread, 
Dialogue: 0,0:47:53.22,0:47:55.09,yin,,0,0,0,, 而且阻塞得还很多 \N{\fs12}but it's blocking the main thread a lot. 
Dialogue: 0,0:47:55.09,0:47:55.86,yin,,0,0,0,, 为什么呢 \N{\fs12}And why is that? 
Dialogue: 0,0:47:55.86,0:48:01.07,yin,,0,0,0,, 因为它在为所有这 16 张照片取回缩略图 \N{\fs12}That's because it's fetching the thumb nail image for all 16 of those photos. 
Dialogue: 0,0:48:01.07,0:48:02.48,yin,,0,0,0,, 预先一次性取回 \N{\fs12}All at once up front. 
Dialogue: 0,0:48:02.48,0:48:07.13,yin,,0,0,0,, 我们不希望这样做 我们只希望在点大头针时取回 \N{\fs12}So we do not want to do that, we only want to do this fetch when you click on the pin. 
Dialogue: 0,0:48:07.13,0:48:10.70,yin,,0,0,0,, 因此 这里我们要实现另一个地图视图委托方法 \N{\fs12}So we're going to implement another map view delegate 
Dialogue: 0,0:48:10.70,0:48:13.57,yin,,0,0,0,, 可以看到这里有多少委托方法 \N{\fs12}method, and you can see how many methods, delegate methods, 
Dialogue: 0,0:48:13.57,0:48:15.16,yin,,0,0,0,, 地图视图有很多 \N{\fs12}the map view has, quite a few. 
Dialogue: 0,0:48:15.16,0:48:19.50,yin,,0,0,0,, 我们要的是下面这个 didSelectAnnotationView\N{\fs12}We want this one down here, did select annotation view. 
Dialogue: 0,0:48:19.50,0:48:21.45,yin,,0,0,0,, 这在大头针被点时会被调用 \N{\fs12}That's get called when the pin gets clicked on, 
Dialogue: 0,0:48:21.45,0:48:25.77,yin,,0,0,0,, 把 updateLeftCalloutAccessory 这个移到下面来 \N{\fs12}so I'm just going to move this update left call out accessory view down to here. 
Dialogue: 0,0:48:25.77,0:48:30.12,yin,,0,0,0,, 现在运行时 哪怕有 16 张照片的人 \N{\fs12}So now, when we run, even the 16 guy 
Dialogue: 0,0:48:30.12,0:48:32.86,yin,,0,0,0,, 也会立刻加载 因为这里没有取回操作 \N{\fs12}is going to instantly come up, because you're not doing any fetching, 
Dialogue: 0,0:48:32.86,0:48:35.58,yin,,0,0,0,, 但点这个时 会有少许延时 \N{\fs12}but when we click on this, little delay. 
Dialogue: 0,0:48:35.58,0:48:38.23,yin,,0,0,0,, 现在我不能看到全部这 16 个 它们都堆在一起 \N{\fs12}Now I can't see all 16 of things because they're all stacked up, 
Dialogue: 0,0:48:38.23,0:48:39.96,yin,,0,0,0,, 这个 UI 有点小问题 \N{\fs12}it's a little problem with our UI, 
Dialogue: 0,0:48:39.96,0:48:42.46,yin,,0,0,0,, 或许我们应该有办法能够点其它的 \N{\fs12}we probably want to have some way to click other things, 
Dialogue: 0,0:48:42.47,0:48:46.27,yin,,0,0,0,, 这里要换照片似乎不那么容易 无论如何 \N{\fs12}you can kind of click other things one, but, anyway. 
Dialogue: 0,0:48:46.27,0:48:49.58,yin,,0,0,0,, 下面 在点这里时 我希望看到这张照片 \N{\fs12}But now we want to, if I click here, I want to see this image 
Dialogue: 0,0:48:49.58,0:48:51.81,yin,,0,0,0,, 在图像视图控制器中 看到完整大小的 \N{\fs12}in my image view controller, full-size. 
Dialogue: 0,0:48:51.81,0:48:54.27,yin,,0,0,0,, 下面来实现这个 \N{\fs12}So now let's implement this little thing. 
Dialogue: 0,0:48:54.27,0:48:58.74,yin,,0,0,0,, 这里 我们需要另外一个地图视图委托方法 \N{\fs12}And that it's going to do, we're going to do with another map view delegate method. 
Dialogue: 0,0:48:58.74,0:49:00.46,yin,,0,0,0,, 这个我讲过 \N{\fs12}This is the one I told you about, 
Dialogue: 0,0:49:00.46,0:49:03.86,yin,,0,0,0,,calloutAccessoryTouched 上面这个 看到了吗 \N{\fs12}the call out accessory touched, it's the one up here, see it? 
Dialogue: 0,0:49:03.86,0:49:06.93,yin,,0,0,0,,calloutAccessoryControlTapped\N{\fs12}Call out accessory control tapped. 
Dialogue: 0,0:49:06.93,0:49:11.62,yin,,0,0,0,, 这个在任何左 / 右附属视图中的 \N{\fs12}So this gets called whenever any left or right accessory view, 
Dialogue: 0,0:49:11.62,0:49:16.45,yin,,0,0,0,,UIControl 例如 UIButton 被点时 会被调用 \N{\fs12}that is a UI control, like UI button is, gets tapped. This gets called. 
Dialogue: 0,0:49:16.45,0:49:18.84,yin,,0,0,0,, 现在我只有一个 因为图像视图并不是 UIControl\N{\fs12}Now I only have one because the image view is not a UI control, 
Dialogue: 0,0:49:18.84,0:49:20.48,yin,,0,0,0,, 这个我不需要担心 \N{\fs12}so I don't have to worry about that. 
Dialogue: 0,0:49:20.48,0:49:23.58,yin,,0,0,0,, 这里面 我可以 segue\N{\fs12}So inside here, I can segue. 
Dialogue: 0,0:49:23.58,0:49:26.51,yin,,0,0,0,, 但如何 segue 呢 \N{\fs12}But now, how do I segue. 
Dialogue: 0,0:49:26.51,0:49:28.95,yin,,0,0,0,, 我从未演示过如何做这个 我在幻灯片中讲过 \N{\fs12}I've never shown you how to do this, we did cover it in the slides, 
Dialogue: 0,0:49:28.95,0:49:32.07,yin,,0,0,0,, 但我从未演示过 如何从这里 segue\N{\fs12}but I never showed you, how do I actually segue from here? 
Dialogue: 0,0:49:32.07,0:49:34.08,yin,,0,0,0,, 回到我的故事板 \N{\fs12}Because if I go back to my storyboard, 
Dialogue: 0,0:49:34.08,0:49:37.03,yin,,0,0,0,, 没有能够 control 拖动的大头针 \N{\fs12}there's no pins for me to control, drag from? 
Dialogue: 0,0:49:37.03,0:49:39.58,yin,,0,0,0,, 怎么办呢 \N{\fs12}How do I, what am I going to do? 
Dialogue: 0,0:49:39.58,0:49:43.46,yin,,0,0,0,, 这里我们只需要从代码中进行 segue\N{\fs12}So what we're going to do here is segue from code, 
Dialogue: 0,0:49:43.46,0:49:46.12,yin,,0,0,0,, 做法是这样的 \N{\fs12}and here's how you segue from code. 
Dialogue: 0,0:49:46.12,0:49:50.90,yin,,0,0,0,,control 拖动 从这个视图控制器 \N{\fs12}You control, drag from the from view controller 
Dialogue: 0,0:49:50.90,0:49:53.35,yin,,0,0,0,, 到要到的视图控制器 从整个视图控制器 \N{\fs12}to the to-view controller, just from the whole view controller, 
Dialogue: 0,0:49:53.35,0:49:55.72,yin,,0,0,0,, 而不是从任何按钮或是别的什么 \N{\fs12}not from any button in here or anything like that, 
Dialogue: 0,0:49:55.72,0:49:57.44,yin,,0,0,0,, 如果这里你有很多按钮 \N{\fs12}and if you had a lot of buttons in here, 
Dialogue: 0,0:49:57.44,0:49:59.41,yin,,0,0,0,, 你可以从这个栏 control 拖动 \N{\fs12}you could control, drag from this bar 
Dialogue: 0,0:49:59.41,0:50:01.47,yin,,0,0,0,, 这样你就不会意外地从一个按钮 control 拖动 \N{\fs12}so you don't accidentally control, drag from a button. 
Dialogue: 0,0:50:01.47,0:50:04.96,yin,,0,0,0,, 我这里不是从地图视图进行 control 拖动的 \N{\fs12}So I'm just going, and I'm not control, dragging from the map view here. 
Dialogue: 0,0:50:04.96,0:50:08.37,yin,,0,0,0,, 这里我将从下面这里 control 拖动 \N{\fs12}In fact, here I'm going to control, drag from down here. 
Dialogue: 0,0:50:08.37,0:50:13.38,yin,,0,0,0,, 这是我的 PhotosByPhotographer\N{\fs12}So here's my photos by photographer, here's the, 
Dialogue: 0,0:50:13.38,0:50:16.55,yin,,0,0,0,, 这是表示控制器本身的图标 \N{\fs12}the icon that represents the controller itself, so I'm going 
Dialogue: 0,0:50:16.55,0:50:19.94,yin,,0,0,0,, 我从这里 control 拖动到这个 \N{\fs12}to control drag from here up to this guy. 
Dialogue: 0,0:50:23.16,0:50:25.08,yin,,0,0,0,, 相信我 \N{\fs12}Oh well, trust me. 
Dialogue: 0,0:50:25.08,0:50:27.40,yin,,0,0,0,, 从这里 control 拖动到这里 \N{\fs12}I'm going to control drag from here to here. 
Dialogue: 0,0:50:27.77,0:50:28.63,yin,,0,0,0,, 好了 \N{\fs12}There we go. 
Dialogue: 0,0:50:28.63,0:50:30.88,yin,,0,0,0,, 不 这个到这里 \N{\fs12}No. This to here. 
Dialogue: 0,0:50:30.89,0:50:32.49,yin,,0,0,0,, 抱歉 好了 \N{\fs12}Sorry. There we go. 
Dialogue: 0,0:50:32.49,0:50:35.10,yin,,0,0,0,, 我从这个视图控制器 control 拖动到这个 \N{\fs12}Alright. So I'm going to control, drag from this view controller to this one. 
Dialogue: 0,0:50:35.10,0:50:38.80,yin,,0,0,0,, 我从这个视图控制器创建了一个 segue\N{\fs12}So, I'm creating a segue here from that view controller 
Dialogue: 0,0:50:38.80,0:50:39.79,yin,,0,0,0,, 到另一个 \N{\fs12}to the other one, 
Dialogue: 0,0:50:39.79,0:50:42.89,yin,,0,0,0,, 很通用 从一个控制器到另一个控制器 \N{\fs12}generically, from the controller to the other controller, 
Dialogue: 0,0:50:42.89,0:50:45.35,yin,,0,0,0,, 很重要的是 我需要给它取个名字 \N{\fs12}and it's very important here I have to give it a name. 
Dialogue: 0,0:50:45.35,0:50:47.57,yin,,0,0,0,, 我将它称作 Show Photo\N{\fs12}So I'm going to call it show photo, 
Dialogue: 0,0:50:47.57,0:50:50.41,yin,,0,0,0,, 这就是它的作用 显示这张照片 \N{\fs12}because that's what it does, it shows this photo. 
Dialogue: 0,0:50:50.41,0:50:52.47,yin,,0,0,0,, 为什么要取名呢 \N{\fs12}Why do I need to give it a name? 
Dialogue: 0,0:50:52.47,0:50:55.58,yin,,0,0,0,, 因为在代码中 我需要引用这个 segue\N{\fs12}Because from code, I have to refer to this segue, 
Dialogue: 0,0:50:55.58,0:50:57.62,yin,,0,0,0,, 引用需要用到名字 \N{\fs12}and I'm going to refer to it by name. 
Dialogue: 0,0:50:57.62,0:50:58.90,yin,,0,0,0,, 叫 Show Photo\N{\fs12}We'll call it show photo. 
Dialogue: 0,0:50:58.90,0:51:01.53,yin,,0,0,0,, 我们回头做这个 只需一行代码 \N{\fs12}So let's go back and do that. This is a one-liner. 
Dialogue: 0,0:51:01.53,0:51:02.80,yin,,0,0,0,, 我只需要说 self…\N{\fs12}I just say self, 
Dialogue: 0,0:51:02.80,0:51:05.77,yin,,0,0,0,, 我要调用 UIViewController 中的这个方法 \N{\fs12}and I'm going to call this method in UI view controller, 
Dialogue: 0,0:51:05.77,0:51:09.84,yin,,0,0,0,,performSegueWithIdentifier\N{\fs12}called perform segue with identifier. 
Dialogue: 0,0:51:09.84,0:51:12.28,yin,,0,0,0,, 这里 我指定 Show Photo\N{\fs12}And here I press, specify show photo. 
Dialogue: 0,0:51:12.28,0:51:14.87,yin,,0,0,0,, 注意 我要指定一个 sender\N{\fs12}And notice I get to specify a sender. 
Dialogue: 0,0:51:14.87,0:51:16.55,yin,,0,0,0,, 这个 sender 从哪进来 \N{\fs12}Okay, where does this sender come in? 
Dialogue: 0,0:51:16.55,0:51:19.80,yin,,0,0,0,, 我要在代码中执行的这个 segue\N{\fs12}Well, this segue that I'm going to perform, in code here, 
Dialogue: 0,0:51:19.80,0:51:24.20,yin,,0,0,0,, 还是需要 prepareForSegue 这是普通的 push segue\N{\fs12}still gets prepared for segue, it's a normal push segue 
Dialogue: 0,0:51:24.21,0:51:25.94,yin,,0,0,0,, 它有常规的 prepareForSegue\N{\fs12}so it has to prepare for segue 
Dialogue: 0,0:51:25.94,0:51:30.09,yin,,0,0,0,, 记得 prepareForSegue 吧 它需要一个 sender\N{\fs12}and if we remember prepare for segue, it takes a sender. 
Dialogue: 0,0:51:30.09,0:51:31.40,yin,,0,0,0,, 这个 sender 是什么呢 \N{\fs12}And what is that sender? 
Dialogue: 0,0:51:31.40,0:51:33.12,yin,,0,0,0,, 在表格视图控制器的情形中 \N{\fs12}Well, in the table view controller case, 
Dialogue: 0,0:51:33.12,0:51:36.87,yin,,0,0,0,,sender 是表格视图单元格 \N{\fs12}remember the sender is the table view cell. 
Dialogue: 0,0:51:36.87,0:51:39.90,yin,,0,0,0,, 这里 sender 是什么呢 \N{\fs12}So what would we want the, the sender to be here? 
Dialogue: 0,0:51:39.90,0:51:43.04,yin,,0,0,0,, 或许应该是这个 annotation 视图 \N{\fs12}Probably this annotation view. 
Dialogue: 0,0:51:43.04,0:51:45.92,yin,,0,0,0,, 这里的 annotation 视图 \N{\fs12}This annotation view, right here, 
Dialogue: 0,0:51:45.92,0:51:50.49,yin,,0,0,0,, 也就是附属视图的对话框所在的 annotation 视图 \N{\fs12}is the annotation view that has the call out that we tapped that accessory view in, 
Dialogue: 0,0:51:50.49,0:51:53.94,yin,,0,0,0,, 这就说明了 我们讨论的是哪个 annotation\N{\fs12}so that's going to tell us which annotation we're talking about, right?
Dialogue: 0,0:51:53.94,0:51:56.31,yin,,0,0,0,, 这就是我们在 prepareForSegue 时需要的 sender\N{\fs12}So that's the sender that we're going to see 
Dialogue: 0,0:51:56.31,0:51:59.25,yin,,0,0,0,, 这就是我们在 prepareForSegue 时需要的 sender\N{\fs12}when we go do prepare for segue for this thing. 
Dialogue: 0,0:52:00.35,0:52:03.92,yin,,0,0,0,, 好 下面来看 prepareForSegue 因为这是普通的 segue\N{\fs12}Alright, so let's do the prepare for segue because this is a normal segue. 
Dialogue: 0,0:52:03.94,0:52:07.46,yin,,0,0,0,, 它需要准备 同其它 segue 一样 \N{\fs12}It has to be prepared, just like all the rest of the segues 
Dialogue: 0,0:52:07.46,0:52:11.32,yin,,0,0,0,, 要做到这个 我打算做表格视图中类似的事 \N{\fs12}that we have, and to do that, I'm going, just like I did 
Dialogue: 0,0:52:11.32,0:52:14.91,yin,,0,0,0,, 这里我有一小段准备代码 \N{\fs12}in table view, I'm, I have a little prepare here, 
Dialogue: 0,0:52:14.91,0:52:18.86,yin,,0,0,0,, 在这里 这个准备 \N{\fs12}which is right here, and this prepare kind 
Dialogue: 0,0:52:18.86,0:52:23.24,yin,,0,0,0,, 会准备这个地图视图控制器 \N{\fs12}of generally will prepare this map view controller 
Dialogue: 0,0:52:23.24,0:52:27.44,yin,,0,0,0,, 让它能 segue 到一个图像视图控制器 \N{\fs12}to segue to an image view controller. 
Dialogue: 0,0:52:27.44,0:52:30.01,yin,,0,0,0,, 同另外一个很类似 \N{\fs12}And it looks a lot like the other one, okay, here I'm going 
Dialogue: 0,0:52:30.01,0:52:33.67,yin,,0,0,0,, 这里我要检查我们要准备的 annotation 是否…\N{\fs12}to find out if the annotation that we're going to prepare, 
Dialogue: 0,0:52:33.67,0:52:35.68,yin,,0,0,0,, 我们要为视图控制器做准备 \N{\fs12}so we're going to prepare for view controller, this is going 
Dialogue: 0,0:52:35.68,0:52:37.16,yin,,0,0,0,, 这是图像视图控制器 \N{\fs12}to be an image view controller, 
Dialogue: 0,0:52:37.16,0:52:40.35,yin,,0,0,0,, 进行特定 segue 显示特定 annotation\N{\fs12}to do a certain segue to show a certain annotation. 
Dialogue: 0,0:52:40.35,0:52:43.86,yin,,0,0,0,, 这个应该是 Photo 我只能处理 Photo\N{\fs12}And this had better be a photo, because that's all I know how to do. 
Dialogue: 0,0:52:43.86,0:52:46.04,yin,,0,0,0,, 这里检查确保它是 Photo\N{\fs12}So I'm checking here to make sure it's a photo. 
Dialogue: 0,0:52:46.04,0:52:49.14,yin,,0,0,0,, 如果是 然后我再检查标识符 \N{\fs12}And if it is a photo, then I'm going to check the identifier, 
Dialogue: 0,0:52:49.14,0:52:51.44,yin,,0,0,0,, 同表格视图一样 如果没有标识符 \N{\fs12}same thing with table view, if there's no identifier, 
Dialogue: 0,0:52:51.44,0:52:54.68,yin,,0,0,0,, 那么如果类是图像视图控制器类 \N{\fs12}then if the kind of class, is an image view controller class, 
Dialogue: 0,0:52:54.68,0:52:57.05,yin,,0,0,0,, 那么我就 segue 到它 \N{\fs12}then I'm going to segue to it. 
Dialogue: 0,0:52:57.05,0:53:00.65,yin,,0,0,0,, 我等下会在 prepareForSegue 中调用这个 \N{\fs12}So this, I'm going to call this from prepare for segue in a second. 
Dialogue: 0,0:53:00.65,0:53:02.77,yin,,0,0,0,, 让我导入图像视图控制器 \N{\fs12}Let me go ahead and import image view controller. 
Dialogue: 0,0:53:07.25,0:53:09.64,yin,,0,0,0,, 这样就不会有警告了 \N{\fs12}Just so you don't have the warnings there. 
Dialogue: 0,0:53:09.64,0:53:12.13,yin,,0,0,0,, 大家都理解这段代码是做什么的了吗 \N{\fs12}So, everyone understand what this code does? 
Dialogue: 0,0:53:12.13,0:53:13.82,yin,,0,0,0,, 出于时间考虑 这里我没有一行行敲 \N{\fs12}Well I do the code significance for speed, 
Dialogue: 0,0:53:13.82,0:53:17.89,yin,,0,0,0,, 但我需要确保你们理解了这里的所有代码 \N{\fs12}but I want to make sure you understand all the code that appeared there. 
Dialogue: 0,0:53:17.89,0:53:21.17,yin,,0,0,0,, 下面我们要做的是 prepareForSegue 这很简单 \N{\fs12}Alright, so now we can do the prepare for segue and it's going to be pretty easy. 
Dialogue: 0,0:53:21.17,0:53:23.81,yin,,0,0,0,,(void) prepareForSegue\N{\fs12}So void, prepare for segue. 
Dialogue: 0,0:53:23.83,0:53:29.59,yin,,0,0,0,,prepareForSegue 中 sender 是那个 MKAnnotationView\N{\fs12}And in prepare for segue, the sender is that MK annotation view. 
Dialogue: 0,0:53:29.59,0:53:32.73,yin,,0,0,0,, 我们从 MKAnnotationView 知道 \N{\fs12}Alright? So we know from that MK annotation view 
Dialogue: 0,0:53:32.73,0:53:33.93,yin,,0,0,0,, 它是哪个 \N{\fs12}which thing it is, 
Dialogue: 0,0:53:33.93,0:53:40.86,yin,,0,0,0,, 这里我只需要说 如果 sender 是一个 MKAnnotationView\N{\fs12}so I'm just going to say if the sender is an MK annotation view, 
Dialogue: 0,0:53:40.86,0:53:44.58,yin,,0,0,0,, 它显然应该是 那么我就 \N{\fs12}which it should be, okay, then I'm going 
Dialogue: 0,0:53:44.58,0:53:47.28,yin,,0,0,0,, 调用上面这里我写的准备代码 \N{\fs12}to call this prepare thing, that I did up here, 
Dialogue: 0,0:53:47.28,0:53:49.23,yin,,0,0,0,, 这个 prepareViewController\N{\fs12}this prepare view controller. 
Dialogue: 0,0:53:49.23,0:53:50.57,yin,,0,0,0,,prepareViewController\N{\fs12}Prepare view controller. 
Dialogue: 0,0:53:50.57,0:53:52.70,yin,,0,0,0,, 这里我要准备的视图控制器是 \N{\fs12}And the view controller I'm going to prepare is 
Dialogue: 0,0:53:52.70,0:53:55.01,yin,,0,0,0,,segue.destinationViewController\N{\fs12}segue dot destination view controller. 
Dialogue: 0,0:53:55.01,0:54:00.72,yin,,0,0,0,,forSegue 这里是 segue 的标识符 \N{\fs12}The segue is the segue's identifier. 
Dialogue: 0,0:54:02.05,0:54:04.92,yin,,0,0,0,, 而我们要显示的 annotation 是什么 \N{\fs12}And the annotation we're going to show is what? 
Dialogue: 0,0:54:04.92,0:54:07.22,yin,,0,0,0,,annotation 是这个 sender\N{\fs12}The annotation is this sender, 
Dialogue: 0,0:54:07.22,0:54:08.72,yin,,0,0,0,, 这是一个 MKAnnotationView\N{\fs12}which is an MK annotation view, 
Dialogue: 0,0:54:08.73,0:54:10.43,yin,,0,0,0,, 这是它的 annotation\N{\fs12}it's its annotation, 
Dialogue: 0,0:54:10.43,0:54:13.15,yin,,0,0,0,,MKAnnotationView 有一个属性叫 annotation\N{\fs12}so MK annotation view has a property called annotation, 
Dialogue: 0,0:54:13.15,0:54:16.19,yin,,0,0,0,, 返回的是 id MKAnnotation\N{\fs12}which returns to the ID MK annotation that, 
Dialogue: 0,0:54:16.19,0:54:17.53,yin,,0,0,0,, 也就是这里我们要的 \N{\fs12}which is we want here, 
Dialogue: 0,0:54:17.53,0:54:19.49,yin,,0,0,0,, 也就是 MKAnnotationView 所显示的 \N{\fs12}that that MK annotation view is showing. 
Dialogue: 0,0:54:19.49,0:54:24.19,yin,,0,0,0,, 因此我这里说 MKAnnotationView sender annotation\N{\fs12}So I'm going to say MK annotation view, sender, annotation. 
Dialogue: 0,0:54:27.77,0:54:28.74,yin,,0,0,0,, 理解吗 \N{\fs12}Make sense? 
Dialogue: 0,0:54:31.55,0:54:36.41,yin,,0,0,0,, 这样我们就能在对话框附属视图被点时执行 segue 了 \N{\fs12}So, we make it so we perform the segue, when we call out accessory is tapped, 
Dialogue: 0,0:54:36.41,0:54:39.32,yin,,0,0,0,, 那个发生时 prepareForSegue 会被调用 \N{\fs12}prepare for segue's going to get called when that happens, 
Dialogue: 0,0:54:39.32,0:54:42.23,yin,,0,0,0,, 我们会调用这个来做实际的准备 \N{\fs12}and we're going to call this thing to do the actual preparation, 
Dialogue: 0,0:54:42.23,0:54:44.32,yin,,0,0,0,, 检查确保我们考虑的是照片 \N{\fs12}checking to make sure we're talking about photos, 
Dialogue: 0,0:54:44.32,0:54:47.45,yin,,0,0,0,, 确保我们 segue 到的是图像视图控制器 \N{\fs12}making sure we're segueing into an image view controller. 
Dialogue: 0,0:54:48.67,0:54:50.45,yin,,0,0,0,, 大家都明白了吗 \N{\fs12}Everybody got that? 
Dialogue: 0,0:54:50.45,0:54:52.54,yin,,0,0,0,, 好 看看这能否工作 \N{\fs12}Alright, so let's see if that works. 
Dialogue: 0,0:54:55.45,0:54:58.35,yin,,0,0,0,, 好 点这个人 \N{\fs12}Okay, so let's go to this guy. 
Dialogue: 0,0:54:58.35,0:55:00.46,yin,,0,0,0,, 在世界地图上拖动 \N{\fs12}This is our world traveler here. 
Dialogue: 0,0:55:00.46,0:55:01.62,yin,,0,0,0,, 点下面这里 \N{\fs12}Let's go click down here. 
Dialogue: 0,0:55:01.62,0:55:03.88,yin,,0,0,0,, 它有这个 这里有很漂亮的图像视图 \N{\fs12}It's got this, it's got a nice image view here. 
Dialogue: 0,0:55:03.88,0:55:06.20,yin,,0,0,0,, 点击这个 这就 segue 了 \N{\fs12}Let's try and click on this, and it segues. 
Dialogue: 0,0:55:07.51,0:55:11.07,yin,,0,0,0,, 这是同原来一样的 segue\N{\fs12}And we'll get the exact same kind of segue we got before. 
Dialogue: 0,0:55:11.07,0:55:13.04,yin,,0,0,0,, 理解了吗 \N{\fs12}Make sense? 
Dialogue: 0,0:55:13.04,0:55:15.09,yin,,0,0,0,, 这方面有问题吗 \N{\fs12}Questions about that? 
Dialogue: 0,0:55:15.09,0:55:18.52,yin,,0,0,0,, 好 这非常棒 体现在 \N{\fs12}Alright. So that's really pretty awesome in, you know, 
Dialogue: 0,0:55:18.52,0:55:21.43,yin,,0,0,0,, 只花了 20-25 分钟的时间 \N{\fs12}about 20 minutes, or 25 minutes we were able 
Dialogue: 0,0:55:21.43,0:55:24.65,yin,,0,0,0,, 我们就将地图能力添加到了 iPhone 版程序 \N{\fs12}to add full map capability to our iPhone version. 
Dialogue: 0,0:55:24.65,0:55:28.13,yin,,0,0,0,,iPad 版又怎么样呢 \N{\fs12}But what about our iPad, our iPad version? 
Dialogue: 0,0:55:28.13,0:55:33.43,yin,,0,0,0,, 让我们把手机关闭 来做 iPad 版 \N{\fs12}Let's turn off my phone here, and go do the iPad version. 
Dialogue: 0,0:55:33.43,0:55:37.91,yin,,0,0,0,,iPad 应该会和这里有所不同 \N{\fs12}So the iPad probably wants to be slightly different than this. 
Dialogue: 0,0:55:37.91,0:55:40.90,yin,,0,0,0,, 不过最开始会非常类似 \N{\fs12}Although I'm going to start off having it be very similar. 
Dialogue: 0,0:55:40.90,0:55:43.31,yin,,0,0,0,,iPad 中 我将删除 \N{\fs12}What I'm going to do in the iPad is I'm going to get rid 
Dialogue: 0,0:55:43.31,0:55:47.11,yin,,0,0,0,, 这个拍照者表格和 PhotosByPhotographer 表格 \N{\fs12}of this photographer's table and photos by photographer table. 
Dialogue: 0,0:55:47.11,0:55:48.61,yin,,0,0,0,, 删除这个后 \N{\fs12}So I'm just going to delete that, 
Dialogue: 0,0:55:48.61,0:55:53.41,yin,,0,0,0,, 我将复制粘贴这里我做的这些 \N{\fs12}and I'm going to copy and paste what I just did, here, in this one. 
Dialogue: 0,0:55:53.41,0:55:57.45,yin,,0,0,0,, 复制 到这里 粘贴 \N{\fs12}Copy, over here, paste. 
Dialogue: 0,0:55:57.45,0:55:59.73,yin,,0,0,0,,control 拖动 \N{\fs12}Let's control, drag. 
Dialogue: 0,0:55:59.73,0:56:00.82,yin,,0,0,0,,push segue\N{\fs12}Push segue, 
Dialogue: 0,0:56:00.82,0:56:04.38,yin,,0,0,0,, 抱歉 这个拆分视图控制器的根视图 \N{\fs12}or sorry, root view of this split view controller. 
Dialogue: 0,0:56:04.38,0:56:06.38,yin,,0,0,0,, 让我们找到所有东西 \N{\fs12}Let's go find everything. 
Dialogue: 0,0:56:06.99,0:56:08.99,yin,,0,0,0,, 腾出更多空间 \N{\fs12}Make some more space. 
Dialogue: 0,0:56:08.99,0:56:10.43,yin,,0,0,0,, 这里 \N{\fs12}There it is. 
Dialogue: 0,0:56:10.43,0:56:12.93,yin,,0,0,0,, 下面我们要和原来做一样的事 \N{\fs12}So now we're going to do the exact same thing we did before. 
Dialogue: 0,0:56:12.93,0:56:15.35,yin,,0,0,0,, 这里有拍照者 这里还会有地图 \N{\fs12}We got the photographers here and we're going to have the maps here. 
Dialogue: 0,0:56:15.35,0:56:18.17,yin,,0,0,0,, 首先看看这是怎样的 \N{\fs12}So let's go see what that looks like, at first. 
Dialogue: 0,0:56:21.60,0:56:23.71,yin,,0,0,0,, 这个能工作吗 \N{\fs12}Is this working? 
Dialogue: 0,0:56:25.49,0:56:29.43,yin,,0,0,0,, 哦 等等 我们需要… 抱歉 \N{\fs12}Oh, wait, we're going to have to, sorry. 
Dialogue: 0,0:56:29.43,0:56:31.49,yin,,0,0,0,, 这里我们需要停下来 \N{\fs12}We're going to have to stop here 
Dialogue: 0,0:56:31.49,0:56:33.65,yin,,0,0,0,, 因为我们会崩溃 \N{\fs12}because we are going to crash 
Dialogue: 0,0:56:33.65,0:56:38.48,yin,,0,0,0,, 因为我们改变了我们的数据库 schema\N{\fs12}because we changed our database schema. 
Dialogue: 0,0:56:38.48,0:56:40.75,yin,,0,0,0,, 删掉这个 \N{\fs12}So let's get rid of that. 
Dialogue: 0,0:56:40.75,0:56:42.51,yin,,0,0,0,, 再次运行 \N{\fs12}Run again. 
Dialogue: 0,0:56:51.78,0:56:54.48,yin,,0,0,0,, 问题是 如果现实世界中 \N{\fs12}Okay, so the question is if I were in the real world 
Dialogue: 0,0:56:54.48,0:56:57.38,yin,,0,0,0,, 我在 App 商店中的 app 改变了 schema\N{\fs12}and I had apps on the app store here and I changed my schema 
Dialogue: 0,0:56:57.38,0:56:59.93,yin,,0,0,0,, 我的用户更新时如何处理这个 \N{\fs12}and my users upgrade, how would I handle that? 
Dialogue: 0,0:56:59.93,0:57:03.45,yin,,0,0,0,, 答案是 我们没有教这个 \N{\fs12}And the answer is, and we don't teach this because, you know, 
Dialogue: 0,0:57:03.45,0:57:05.71,yin,,0,0,0,, 因为时间有限 \N{\fs12}you know how it is, time constraints, 
Dialogue: 0,0:57:05.71,0:57:08.68,yin,,0,0,0,, 实际有一个机制能对 schema 进行版本控制 \N{\fs12}but there's actually a mechanism for versioning your schema 
Dialogue: 0,0:57:08.68,0:57:11.55,yin,,0,0,0,, 然后从之前版本能够自动迁徙 \N{\fs12}and then doing auto-migration from previous versions, 
Dialogue: 0,0:57:11.55,0:57:14.18,yin,,0,0,0,, 从之前版本获得数据 转给新 schema\N{\fs12}getting the data out of a previous version to the new schema. 
Dialogue: 0,0:57:14.18,0:57:16.22,yin,,0,0,0,,schema 需要以一种可兼容的方式进行变化 \N{\fs12}So you have to change your schema in a compatible way, 
Dialogue: 0,0:57:16.22,0:57:17.88,yin,,0,0,0,, 显然 你不希望失去所有用户信息 \N{\fs12}obviously you want to keep all your user information, 
Dialogue: 0,0:57:17.88,0:57:20.39,yin,,0,0,0,, 这种迁徙可以是自动的 \N{\fs12}but that migration can be automated. 
Dialogue: 0,0:57:20.39,0:57:22.87,yin,,0,0,0,, 这非常酷 \N{\fs12}So it's pretty cool actually. 
Dialogue: 0,0:57:22.87,0:57:26.05,yin,,0,0,0,, 具体的可以到 Core Data 说明文档中查看 \N{\fs12}So, check it out in the core data documentation, how to do it. 
Dialogue: 0,0:57:26.05,0:57:29.82,yin,,0,0,0,, 这是我们的拍照者 如果点击一位拍照者 \N{\fs12}Alright, so here's our photographers, and if I click on a photographer, 
Dialogue: 0,0:57:29.82,0:57:32.32,yin,,0,0,0,, 很好 我能得到地图 \N{\fs12}then awesome, I get the map. 
Dialogue: 0,0:57:32.32,0:57:36.46,yin,,0,0,0,, 如果点击这些 它还是能够很好地工作 \N{\fs12}And if I click on these, woo, that work, this is just awesome, it works great. 
Dialogue: 0,0:57:36.46,0:57:38.62,yin,,0,0,0,, 再来尝试展示照片 \N{\fs12}Let's try and show the photo. 
Dialogue: 0,0:57:38.62,0:57:41.14,yin,,0,0,0,, 啊哦 为什么无法工作 \N{\fs12}Uh oh. Why doesn't that work? 
Dialogue: 0,0:57:41.14,0:57:44.53,yin,,0,0,0,, 因为这里在它在执行 segue\N{\fs12}Because it's doing perform segue here. 
Dialogue: 0,0:57:44.53,0:57:46.78,yin,,0,0,0,, 而 iPad 上我们不使用 segue\N{\fs12}And we don't use a segue on the iPad, 
Dialogue: 0,0:57:46.78,0:57:51.75,yin,,0,0,0,, 我们只需要到 detail 中的图像视图控制器直接更新 \N{\fs12}we just go find the image view controller in our detail and update it directly, right? 
Dialogue: 0,0:57:51.75,0:57:56.00,yin,,0,0,0,, 这里对于地图 我们需要和之前处理表格时 \N{\fs12}So we have to do the same fix we did when we made this work on, 
Dialogue: 0,0:57:56.00,0:57:58.16,yin,,0,0,0,, 做相同的修正 \N{\fs12}with the tables, we got to do the same thing with the map. 
Dialogue: 0,0:57:58.16,0:58:02.08,yin,,0,0,0,, 回到我的地图视图控制器 \N{\fs12}So, I'm going to go back, back to my map view controller. 
Dialogue: 0,0:58:02.08,0:58:03.64,yin,,0,0,0,, 这里 \N{\fs12}Right here. 
Dialogue: 0,0:58:03.64,0:58:08.28,yin,,0,0,0,, 我将放一个属性到这里 \N{\fs12}And I'm going to put some, I'm going to put a property in here 
Dialogue: 0,0:58:08.28,0:58:12.94,yin,,0,0,0,, 找到我所处的拆分视图 detail 中的图像视图控制器 \N{\fs12}that finds an image view controller in the detail of a split view I'm in, 
Dialogue: 0,0:58:12.94,0:58:14.44,yin,,0,0,0,, 如果有一个的话 \N{\fs12}if there's one there. 
Dialogue: 0,0:58:14.44,0:58:16.83,yin,,0,0,0,, 调用这个图像视图控制器 \N{\fs12}Call this image view controller. 
Dialogue: 0,0:58:16.83,0:58:19.81,yin,,0,0,0,, 这是我要添加的属性 \N{\fs12}And here's the property I'm going to add. 
Dialogue: 0,0:58:19.81,0:58:22.70,yin,,0,0,0,, 这个属性将为 nil\N{\fs12}Right? So this property is going to be nil 
Dialogue: 0,0:58:22.70,0:58:27.03,yin,,0,0,0,, 如果拆分视图 detail 中不存在图像视图控制器 \N{\fs12}if I'm not in a split view controller where my detail is in image view controller. 
Dialogue: 0,0:58:27.03,0:58:30.32,yin,,0,0,0,, 否则 那就是那个图像视图控制器了 \N{\fs12}Right? Otherwise, it's going to be that image view controller. 
Dialogue: 0,0:58:30.32,0:58:32.83,yin,,0,0,0,, 这段代码在表格视图中有过 记得吧 \N{\fs12}Ya'll recognize this code from our table view, right? 
Dialogue: 0,0:58:32.83,0:58:35.55,yin,,0,0,0,, 拆分视图控制器最后一个对象 这是我们的 detail\N{\fs12}Split view controller last object, that's our detail. 
Dialogue: 0,0:58:35.55,0:58:36.88,yin,,0,0,0,, 如果它处在导航控制器中 \N{\fs12}If it's in a navigation controller, 
Dialogue: 0,0:58:36.88,0:58:39.45,yin,,0,0,0,, 我要看看它是不是根视图控制器 \N{\fs12}I'll look in to see if it's the root view controller. 
Dialogue: 0,0:58:39.45,0:58:43.77,yin,,0,0,0,, 如果它是一个图像视图控制器 我就会返回它 \N{\fs12}And then if it's a view controller, an image view controller, I'll return it. 
Dialogue: 0,0:58:43.77,0:58:45.11,yin,,0,0,0,, 否则 nil\N{\fs12}Otherwise nil. 
Dialogue: 0,0:58:45.11,0:58:46.57,yin,,0,0,0,, 在 iPhone 上 这将是 nil\N{\fs12}So on the iPhone this is going to be nil, 
Dialogue: 0,0:58:46.57,0:58:49.91,yin,,0,0,0,, 因为 iPhone 上不会有拆分视图 \N{\fs12}because it can't be a split view on the iPhone anyway, right? 
Dialogue: 0,0:58:49.91,0:58:51.10,yin,,0,0,0,, 这很酷 \N{\fs12}So this is cool. 
Dialogue: 0,0:58:51.10,0:58:53.92,yin,,0,0,0,, 现在我知道 是否有一个图像视图控制器 \N{\fs12}So now I know whether there is an image view controller, 
Dialogue: 0,0:58:53.92,0:58:57.29,yin,,0,0,0,, 我可以做点什么 例如在我做那个 segue 时 \N{\fs12}so I could do something, for example, when I'm doing that segue, 
Dialogue: 0,0:58:57.29,0:58:58.87,yin,,0,0,0,, 那个 segue 在哪里 \N{\fs12}where's that segue? 
Dialogue: 0,0:58:58.89,0:59:01.02,yin,,0,0,0,, 这里 这个执行 segue\N{\fs12}Right here, this perform segue. 
Dialogue: 0,0:59:01.04,0:59:04.70,yin,,0,0,0,, 我可以说 如果我有一个图像视图控制器 \N{\fs12}I could say if I have an image view controller, 
Dialogue: 0,0:59:04.70,0:59:07.35,yin,,0,0,0,, 那么就直接更新它 \N{\fs12}then just update it directly, directly, 
Dialogue: 0,0:59:07.36,0:59:09.93,yin,,0,0,0,, 否则 你可以尝试这个执行 segue\N{\fs12}otherwise, you can try this perform segue. 
Dialogue: 0,0:59:09.93,0:59:11.85,yin,,0,0,0,, 顺便说下 没有办法 \N{\fs12}By the way, there's really no way 
Dialogue: 0,0:59:11.85,0:59:14.36,yin,,0,0,0,, 在尝试这个执行 segue 时不崩溃 \N{\fs12}to try this perform segue without crashing. 
Dialogue: 0,0:59:14.36,0:59:17.86,yin,,0,0,0,, 你需要知道 你实际在 segue\N{\fs12}So you really got to know whether you're actually segueing. 
Dialogue: 0,0:59:17.86,0:59:20.41,yin,,0,0,0,, 很幸运 如果我有一个图像视图控制器 \N{\fs12}Luckily, here, if I have an image view controller around, 
Dialogue: 0,0:59:20.41,0:59:21.78,yin,,0,0,0,, 我知道我不会是在 segue\N{\fs12}I know I'm not going to be segueing, 
Dialogue: 0,0:59:21.78,0:59:23.87,yin,,0,0,0,, 如果我没有图像视图控制器 \N{\fs12}and if I don't have an image view controller around, 
Dialogue: 0,0:59:23.87,0:59:25.82,yin,,0,0,0,, 我可能就要 segue 了 \N{\fs12}I probably do want to be segueing, because I got 
Dialogue: 0,0:59:25.82,0:59:29.09,yin,,0,0,0,, 因为我需要设法展示照片 如果我要允许 \N{\fs12}to show the photos somehow, if I'm going to allow that, the, 
Dialogue: 0,0:59:29.09,0:59:30.96,yin,,0,0,0,, 那个小按钮在那里 \N{\fs12}that little button to be there. 
Dialogue: 0,0:59:30.96,0:59:32.84,yin,,0,0,0,, 如果我有这个 self.imageViewController\N{\fs12}So if I have this self-image view controller here, 
Dialogue: 0,0:59:32.84,0:59:34.35,yin,,0,0,0,, 我可以准备它 \N{\fs12}I can just prepare it. 
Dialogue: 0,0:59:34.35,0:59:36.11,yin,,0,0,0,, 我要准备控制器 \N{\fs12}So we've got this prepare controller, 
Dialogue: 0,0:59:36.11,0:59:39.89,yin,,0,0,0,, 我要准备图像视图控制器 segue 是 nil\N{\fs12}I'm going to prepare the image view controller, segue is nil. 
Dialogue: 0,0:59:39.89,0:59:43.08,yin,,0,0,0,,annotation 想要显示什么呢 \N{\fs12}The annotation, what, where does the annotation want to show, 
Dialogue: 0,0:59:43.08,0:59:45.56,yin,,0,0,0,, 还是一样 它在这里 \N{\fs12}again, it's right here. 
Dialogue: 0,0:59:45.56,0:59:47.68,yin,,0,0,0,,view.annotation\N{\fs12}View dot annotation. 
Dialogue: 0,0:59:52.35,0:59:53.85,yin,,0,0,0,, 这是这个 \N{\fs12}So there's that. 
Dialogue: 0,0:59:53.85,0:59:56.33,yin,,0,0,0,, 我要准备这个图像视图控制器 如果它在那里 \N{\fs12}Okay, so I'm just going to prepare that image view controller if it's there, 
Dialogue: 0,0:59:56.34,0:59:57.35,yin,,0,0,0,, 否则我们就 segue\N{\fs12}otherwise we'll segue. 
Dialogue: 0,0:59:57.35,0:59:58.51,yin,,0,0,0,, 都理解了吗 \N{\fs12}Everyone understand this? 
Dialogue: 0,0:59:58.51,1:00:00.19,yin,,0,0,0,, 我们来看看这个 \N{\fs12}So let's go look at this. 
Dialogue: 0,1:00:00.19,1:00:01.51,yin,,0,0,0,, 看这个如何工作 \N{\fs12}See how this works. 
Dialogue: 0,1:00:09.64,1:00:11.66,yin,,0,0,0,, 我们还是看看某些照片 \N{\fs12}Alright, so let's look at some photos again. 
Dialogue: 0,1:00:11.66,1:00:16.07,yin,,0,0,0,, 我要找一些照片 像是… 我不知道这里都有谁 \N{\fs12}I'll find some photos like, I don't know who we got here, 
Dialogue: 0,1:00:16.07,1:00:18.76,yin,,0,0,0,, 这个人吧 我们得到这些 \N{\fs12}this guy, so we got this. 
Dialogue: 0,1:00:18.76,1:00:19.88,yin,,0,0,0,, 点这个 \N{\fs12}Click this. 
Dialogue: 0,1:00:19.88,1:00:21.28,yin,,0,0,0,, 我们得到这个 \N{\fs12}We got this right here. 
Dialogue: 0,1:00:21.28,1:00:23.76,yin,,0,0,0,, 点这个小按钮 能行 \N{\fs12}If I click this little button, it worked. 
Dialogue: 0,1:00:25.60,1:00:28.94,yin,,0,0,0,, 它使用了那个东西 如果我到这里别处 \N{\fs12}So it uses the thing, if I go over here somewhere else, 
Dialogue: 0,1:00:28.94,1:00:31.81,yin,,0,0,0,, 我们来选这个 \N{\fs12}let's do this guy right here. 
Dialogue: 0,1:00:31.81,1:00:33.62,yin,,0,0,0,, 注意到这里重叠了 \N{\fs12}Notice that overlaps, I don't really 
Dialogue: 0,1:00:33.62,1:00:37.46,yin,,0,0,0,, 我不大喜欢这个 UI 不过它就是这样了 \N{\fs12}like that UI very much, but it is what it is. 
Dialogue: 0,1:00:37.46,1:00:40.01,yin,,0,0,0,, 这基本上就好了 \N{\fs12}So that's kind of okay. 
Dialogue: 0,1:00:40.01,1:00:44.48,yin,,0,0,0,, 这个 UI 已经不错了 只是还不那么完美 \N{\fs12}This is kind of okay, this UI, it's really not that great though because I'm showing 
Dialogue: 0,1:00:44.48,1:00:47.66,yin,,0,0,0,, 这里我们有个缩略图 我点它 \N{\fs12}that little thumb nail there and then I'm, I click on it, 
Dialogue: 0,1:00:47.66,1:00:49.28,yin,,0,0,0,, 再显示大图 \N{\fs12}I'm also showing the big one. 
Dialogue: 0,1:00:49.28,1:00:51.85,yin,,0,0,0,, 我们干嘛不干脆不要缩略图 \N{\fs12}Why don't I just not have a thumb nail, 
Dialogue: 0,1:00:51.85,1:00:56.49,yin,,0,0,0,, 不要蓝箭头 而是每次点大头针直接显示照片 \N{\fs12}not have the little blue arrow, and every time I click on a pin, just show the photo. 
Dialogue: 0,1:00:56.49,1:00:58.70,yin,,0,0,0,, 没有理由不直接显示照片 \N{\fs12}There's no reason not to just show the photo. 
Dialogue: 0,1:00:58.70,1:00:59.82,yin,,0,0,0,, 怎么做呢 \N{\fs12}So how would I do that? 
Dialogue: 0,1:00:59.82,1:01:01.92,yin,,0,0,0,, 忘掉这个蓝色小箭头吧 \N{\fs12}So just forget this whole thing with that little blue arrow, 
Dialogue: 0,1:01:01.92,1:01:03.71,yin,,0,0,0,, 我们不再需要它 \N{\fs12}you don't even need that blue arrow. 
Dialogue: 0,1:01:03.71,1:01:04.77,yin,,0,0,0,, 让我们这样做 \N{\fs12}Let's do that. 
Dialogue: 0,1:01:04.77,1:01:06.21,yin,,0,0,0,, 到上面这里 \N{\fs12}Let's go up here to, 
Dialogue: 0,1:01:06.21,1:01:09.78,yin,,0,0,0,, 这是我们创建左右附属视图的地方 \N{\fs12}this is where we build the left and right accessory views, right here. 
Dialogue: 0,1:01:09.79,1:01:14.37,yin,,0,0,0,, 这里我说 如果我没有一个图像视图控制器 \N{\fs12}So I'm going to say if I don't have an image view controller, 
Dialogue: 0,1:01:14.37,1:01:17.29,yin,,0,0,0,, 那就把那些对话框放到那里 \N{\fs12}then go ahead and put those call outs in there. 
Dialogue: 0,1:01:18.63,1:01:21.06,yin,,0,0,0,, 否则不要把它们放到那里 \N{\fs12}Otherwise don't put them there. 
Dialogue: 0,1:01:21.06,1:01:24.86,yin,,0,0,0,, 而且 现在对话框不在那里 \N{\fs12}And then also, now that the call outs are there, aren't there, 
Dialogue: 0,1:01:24.86,1:01:26.76,yin,,0,0,0,, 这个永远也不会被调用 \N{\fs12}this is never to get called, in here, 
Dialogue: 0,1:01:26.76,1:01:28.22,yin,,0,0,0,, 因为不会有对话框附属视图 \N{\fs12}because there's no call out accessory 
Dialogue: 0,1:01:28.22,1:01:29.77,yin,,0,0,0,, 如果我有图像视图控制器 \N{\fs12}if I have the image view controller. 
Dialogue: 0,1:01:29.77,1:01:33.03,yin,,0,0,0,, 让我们把这些剪切掉 \N{\fs12}So let's go ahead and cut this out of here, 
Dialogue: 0,1:01:33.03,1:01:36.38,yin,,0,0,0,, 把这些代码放到选择中 \N{\fs12}and let's put that code in select. 
Dialogue: 0,1:01:36.38,1:01:38.36,yin,,0,0,0,, 这是被选择的地方 \N{\fs12}So here's where it's selected. 
Dialogue: 0,1:01:38.36,1:01:42.26,yin,,0,0,0,, 被选择时 我们就要 \N{\fs12}So when it's selected, let's go ahead and 
Dialogue: 0,1:01:43.15,1:01:44.75,yin,,0,0,0,, 视图控制 更高一些 \N{\fs12}views control higher, 
Dialogue: 0,1:01:44.76,1:01:47.21,yin,,0,0,0,, 哦不 这个不行 \N{\fs12}woop, nope, that didn't work. 
Dialogue: 0,1:01:51.17,1:01:52.92,yin,,0,0,0,,control I 好了 \N{\fs12}Control I, there we go. 
Dialogue: 0,1:01:52.92,1:01:55.73,yin,,0,0,0,, 大头针被选中后 当我们点大头针时 \N{\fs12}Alright. So when the pin is selected, when we click on the pin, 
Dialogue: 0,1:01:55.73,1:01:57.94,yin,,0,0,0,, 如果我有一个图像视图控制器 \N{\fs12}if I have an image view control around, 
Dialogue: 0,1:01:57.94,1:01:59.21,yin,,0,0,0,, 我就会准备它 \N{\fs12}I'll just prepare it. 
Dialogue: 0,1:01:59.21,1:02:03.49,yin,,0,0,0,, 否则 我会更新对话框附属视图这些 \N{\fs12}Otherwise, I will update the call out accessory views and all 
Dialogue: 0,1:02:03.49,1:02:07.99,yin,,0,0,0,, 如果有图像视图控制器 这些我就都没有了 \N{\fs12}that stuff, which I don't have if I have an image view controller. 
Dialogue: 0,1:02:07.99,1:02:09.51,yin,,0,0,0,, 看看这是怎样的 \N{\fs12}So let's see what this looks like. 
Dialogue: 0,1:02:17.80,1:02:20.42,yin,,0,0,0,, 好 我们点击这里 \N{\fs12}Okay. So, no. Let's click again here. 
Dialogue: 0,1:02:20.42,1:02:24.21,yin,,0,0,0,, 这里将有多张照片 \N{\fs12}And it's going to be a multiple, oops, multiple photo. 
Dialogue: 0,1:02:24.21,1:02:27.03,yin,,0,0,0,, 我们点击一个 \N{\fs12}Okay, so, let's click on one here. 
Dialogue: 0,1:02:27.03,1:02:31.72,yin,,0,0,0,, 我一点 它就会立刻自动更新图像视图 \N{\fs12}Alright, automatically, as soon as I click on it, it's going to update the image view. 
Dialogue: 0,1:02:33.86,1:02:35.33,yin,,0,0,0,, 这很酷 \N{\fs12}So that's kind of cool. 
Dialogue: 0,1:02:35.33,1:02:38.04,yin,,0,0,0,, 这个 UI 更好 我不再需要缩略图 \N{\fs12}That's a nicer UI. I don't really need that thumb nail. 
Dialogue: 0,1:02:38.04,1:02:42.56,yin,,0,0,0,, 我也不需要其它东西 \N{\fs12}I don't need the, the other stuff on there. 
Dialogue: 0,1:02:42.56,1:02:43.57,yin,,0,0,0,, 这很酷 \N{\fs12}So that's cool. 
Dialogue: 0,1:02:43.57,1:02:46.17,yin,,0,0,0,, 不过这里有一点很奇怪 看这里 \N{\fs12}One thing though that's a little weird on it is watch this. 
Dialogue: 0,1:02:46.17,1:02:49.13,yin,,0,0,0,, 如果我到这里 \N{\fs12}So now if I go here. 
Dialogue: 0,1:02:49.13,1:02:52.49,yin,,0,0,0,, 现在我有了 deadmanjones 的照片 \N{\fs12}Now I've got dead man Jones, his photos, 
Dialogue: 0,1:02:52.49,1:02:54.79,yin,,0,0,0,, 但右边还有别人的照片 \N{\fs12}but I've got somebody else's photo on the right. 
Dialogue: 0,1:02:54.99,1:02:57.75,yin,,0,0,0,, 这很奇怪 这是糟糕的 UI\N{\fs12}That's kind of weird. Okay, that's kind of a bad UI. 
Dialogue: 0,1:02:57.75,1:03:00.86,yin,,0,0,0,, 每次显示某拍照者的照片时 \N{\fs12}So let's make it so that every time we show the photos 
Dialogue: 0,1:03:00.86,1:03:04.04,yin,,0,0,0,, 我们可以自动选一张 \N{\fs12}by a photographer, let's just autopick one. 
Dialogue: 0,1:03:04.04,1:03:05.69,yin,,0,0,0,, 怎么做呢 \N{\fs12}How would we do that? 
Dialogue: 0,1:03:05.69,1:03:06.91,yin,,0,0,0,, 很简单 \N{\fs12}Very simple. 
Dialogue: 0,1:03:06.91,1:03:11.84,yin,,0,0,0,, 在 updateMapViewAnnotations 这里 \N{\fs12}When we update our view, map view annotations here, 
Dialogue: 0,1:03:11.84,1:03:14.71,yin,,0,0,0,, 我只需要自动选择照片 \N{\fs12}I'm just going to autoselect a photo. 
Dialogue: 0,1:03:14.71,1:03:18.51,yin,,0,0,0,, 不过这只在周围有图像视图控制器的前提下才行 \N{\fs12}But only in the case where I have an image view controller lying around. 
Dialogue: 0,1:03:18.51,1:03:22.06,yin,,0,0,0,, 如果周围有图像视图控制器 那我就要自动选照片 \N{\fs12}If I have an image view controller lying around, then I'll autoselect a photo. 
Dialogue: 0,1:03:22.06,1:03:23.51,yin,,0,0,0,, 如何自动选择呢 \N{\fs12}And how am I autoselecting? 
Dialogue: 0,1:03:23.51,1:03:28.61,yin,,0,0,0,, 可以从 PhotosByPhotographer 数组中抓取第一个对象 \N{\fs12}Well, I'm just grabbing the first object out of our photos by photographer array. 
Dialogue: 0,1:03:28.61,1:03:33.20,yin,,0,0,0,, 如果有的话 我将选择那个 annotation\N{\fs12}And if there's any in there, then I'm going to select that annotation. 
Dialogue: 0,1:03:33.20,1:03:36.13,yin,,0,0,0,, 这会让对话框出现 \N{\fs12}That causes that call out to appear, but it doesn't, 
Dialogue: 0,1:03:36.13,1:03:38.47,yin,,0,0,0,, 但选择它时 它不会调用 \N{\fs12}when you select it with this, it doesn't call 
Dialogue: 0,1:03:38.47,1:03:41.65,yin,,0,0,0,, 上面这里的 didSelect 方法 \N{\fs12}that did select method up here to get called. 
Dialogue: 0,1:03:41.65,1:03:46.39,yin,,0,0,0,, 上面这个方法 didSelectAnnotationView\N{\fs12}This method, up here, did select annotation view, 
Dialogue: 0,1:03:46.39,1:03:49.63,yin,,0,0,0,, 这个只在用户选择时才会被调用 \N{\fs12}this only gets called when the user selects it. 
Dialogue: 0,1:03:49.63,1:03:52.26,yin,,0,0,0,, 这里用户没有选择它 我们选择了它 \N{\fs12}So the user didn't select it here, we selected it, 
Dialogue: 0,1:03:52.26,1:03:54.63,yin,,0,0,0,, 这样我们就仍然需要准备自身 \N{\fs12}so we still have to do that prepare ourself. 
Dialogue: 0,1:03:56.55,1:03:58.51,yin,,0,0,0,, 我们来看看这个 \N{\fs12}Let's take a look at that. 
Dialogue: 0,1:04:07.77,1:04:10.34,yin,,0,0,0,, 让我们选某个人 \N{\fs12}Alright. So let's pick somebody here. 
Dialogue: 0,1:04:10.34,1:04:13.34,yin,,0,0,0,, 点这个 摩托车这个是自动选的 \N{\fs12}Click on that, and you can see it autoselected the scooter one, 
Dialogue: 0,1:04:13.34,1:04:16.54,yin,,0,0,0,, 选择别的 到这里 还是自动选择 \N{\fs12}I picked something else, we'll go here, it autoselects one. 
Dialogue: 0,1:04:16.54,1:04:17.99,yin,,0,0,0,, 到这里 还是自动选择 \N{\fs12}It goes here and autoselect one. 
Dialogue: 0,1:04:17.99,1:04:22.51,yin,,0,0,0,, 这样我们就让左右两边保持同步了 \N{\fs12}So now we're kind of all in sync between the two, between what's 
Dialogue: 0,1:04:22.51,1:04:24.42,yin,,0,0,0,, 这样我们就让左右两边保持同步了 \N{\fs12}on the right and what's on the left. 
Dialogue: 0,1:04:24.42,1:04:27.61,yin,,0,0,0,, 点另一个 它就会变化 \N{\fs12}But if I click another one, it'll change it. 
Dialogue: 0,1:04:27.61,1:04:29.22,yin,,0,0,0,, 这个 UI 很不赖 \N{\fs12}So that's not a bad UI.
Dialogue: 0,1:04:29.25,1:04:30.64,yin,,0,0,0,, 我蛮喜欢它 \N{\fs12}I kind of, kind of like it, it's kind of okay, 
Dialogue: 0,1:04:30.64,1:04:33.88,yin,,0,0,0,, 不过我还打算讲另一种在 iPad 上做这个的方法 \N{\fs12}but I'm going to show you another way to do this on the iPad, 
Dialogue: 0,1:04:33.88,1:04:36.00,yin,,0,0,0,, 给你们展示 embed segue\N{\fs12}to show you the embed segues. 
Dialogue: 0,1:04:36.00,1:04:38.83,yin,,0,0,0,, 有人可能会争辩 是这个 UI 好 还是嵌入那个好 \N{\fs12}One could argue whether this is a better UI or the embedded one, 
Dialogue: 0,1:04:38.83,1:04:40.05,yin,,0,0,0,, 你可以都看看 \N{\fs12}you can kind of see them both 
Dialogue: 0,1:04:40.05,1:04:41.50,yin,,0,0,0,, 自己判断哪个更好 \N{\fs12}and you can tell me what you think is better. 
Dialogue: 0,1:04:41.50,1:04:42.81,yin,,0,0,0,, 这里我打算这样 \N{\fs12}But what I'm going to do is, 
Dialogue: 0,1:04:42.81,1:04:45.64,yin,,0,0,0,, 看到太阳在照片中的什么地方了吗 \N{\fs12}you see where the sun is right there, in that photo? 
Dialogue: 0,1:04:45.64,1:04:48.90,yin,,0,0,0,, 我打算取左侧的地图视图 \N{\fs12}I'm actually going to take this map view that's on the left, 
Dialogue: 0,1:04:48.90,1:04:51.77,yin,,0,0,0,, 把它嵌入到这个图像视图中 \N{\fs12}and I'm going to embed it inside this image view. 
Dialogue: 0,1:04:51.77,1:04:54.18,yin,,0,0,0,, 地图视图会被显示到这里 \N{\fs12}So this map view is going to showing there, 
Dialogue: 0,1:04:54.19,1:04:57.61,yin,,0,0,0,, 这一栏我们将只会看到拍照者 \N{\fs12}and so what we're going to see in this column is just the photographers, 
Dialogue: 0,1:04:57.61,1:04:59.31,yin,,0,0,0,, 这些会是拍照者 \N{\fs12}these will be photographers. 
Dialogue: 0,1:04:59.31,1:05:00.78,yin,,0,0,0,, 太阳所在的地方 \N{\fs12}Embedded where the sun is 
Dialogue: 0,1:05:00.78,1:05:03.15,yin,,0,0,0,, 将嵌入我们选择的拍照者所对应的地图 \N{\fs12}will be the map for whatever photographer we choose 
Dialogue: 0,1:05:03.15,1:05:04.43,yin,,0,0,0,, 然后是我们的照片 \N{\fs12}and then we'll have our photo, 
Dialogue: 0,1:05:04.43,1:05:06.70,yin,,0,0,0,, 我们还是能缩放和拖动 \N{\fs12}and we'll still be able to zoom in our photos, zoom around, 
Dialogue: 0,1:05:06.70,1:05:10.15,yin,,0,0,0,, 地图会在照片上 不过我们可以加一个按钮 \N{\fs12}it'll be occluded, right? It'll be covered up, although maybe we could add a button 
Dialogue: 0,1:05:10.15,1:05:12.11,yin,,0,0,0,, 方便隐藏地图或是重新显示 \N{\fs12}somewhere that would hide that map and reshow it, 
Dialogue: 0,1:05:12.11,1:05:14.51,yin,,0,0,0,, 放到 URL 旁边 因为那个地图 \N{\fs12}a little bar next to the URL, because that map, 
Dialogue: 0,1:05:14.51,1:05:17.49,yin,,0,0,0,, 只是一个 UIView 我们可以隐藏它 \N{\fs12}it's just going to be a UI view, in there, we can hide, 
Dialogue: 0,1:05:17.49,1:05:20.96,yin,,0,0,0,, 设置它为.hidden 我们可以采用动画 透明度 \N{\fs12}set it to dot hidden, we could animate it, transparency, 
Dialogue: 0,1:05:20.96,1:05:24.08,yin,,0,0,0,, 淡出 怎么做都行 因为它只是 UIView\N{\fs12}fading away, whatever we wanted to do because it's just going to be UI view. 
Dialogue: 0,1:05:24.08,1:05:26.47,yin,,0,0,0,, 但那个 UIView 的内容 \N{\fs12}But the contents of that UI view are going 
Dialogue: 0,1:05:26.47,1:05:30.84,yin,,0,0,0,, 将同这个地图视图中的内容完全相同 \N{\fs12}to be the same contents that are in this map view over here, exactly the same. 
Dialogue: 0,1:05:30.84,1:05:33.28,yin,,0,0,0,, 我将使用完全相同的视图控制器 \N{\fs12}I'm going to use that exact same view controller. 
Dialogue: 0,1:05:33.28,1:05:37.67,yin,,0,0,0,, 这里我们说的还是视图控制器再利用 \N{\fs12}And this is, again, we're talking about view controller reuse. 
Dialogue: 0,1:05:37.67,1:05:39.48,yin,,0,0,0,, 我们来做这个 \N{\fs12}So, let's go ahead and do that. 
Dialogue: 0,1:05:39.48,1:05:42.82,yin,,0,0,0,, 顺便说下 代码中有一个警告在这里 \N{\fs12}By the way, we noticed we have warnings back in the code here. 
Dialogue: 0,1:05:42.82,1:05:44.23,yin,,0,0,0,, 为什么会有警告呢 \N{\fs12}Why do we have this warning? 
Dialogue: 0,1:05:44.23,1:05:47.78,yin,,0,0,0,, 因为自动选择的照片是一个 Photo *\N{\fs12}That's because autoselected photo is a photo star, 
Dialogue: 0,1:05:47.78,1:05:52.16,yin,,0,0,0,, 我们没有导入任何东西来告诉这段代码 \N{\fs12}and we don't import anything here that tells this code 
Dialogue: 0,1:05:52.16,1:05:55.05,yin,,0,0,0,,Photo * 是 MKAnnotation\N{\fs12}that a photo star is an MK annotation. 
Dialogue: 0,1:05:55.05,1:05:58.27,yin,,0,0,0,, 因此 上面这里导入 Photo 的地方 \N{\fs12}So we have to go up here to where we import a photo, 
Dialogue: 0,1:05:58.27,1:06:03.24,yin,,0,0,0,, 需要改成导入 Photo+Annotation\N{\fs12}and instead import photo plus MK, or sorry, plus annotation. 
Dialogue: 0,1:06:03.24,1:06:05.52,yin,,0,0,0,, 因为这个才是 \N{\fs12}Because this is where, this is the file 
Dialogue: 0,1:06:05.52,1:06:11.02,yin,,0,0,0,, 我们声明 Photo 是 MKAnnotation 的文件 \N{\fs12}in which we declared that photos were MK annotations. 
Dialogue: 0,1:06:11.02,1:06:12.59,yin,,0,0,0,, 大家理解吗 \N{\fs12}Everyone understand that? 
Dialogue: 0,1:06:12.59,1:06:17.98,yin,,0,0,0,, 你需要导入定义了这个的接口 \N{\fs12}Okay, so you got to make sure you import whichever interface defines that. 
Dialogue: 0,1:06:18.98,1:06:21.54,yin,,0,0,0,, 好 如何做这个嵌入的东西呢 \N{\fs12}Okay. So how are we going to do this embed thing? 
Dialogue: 0,1:06:21.54,1:06:25.31,yin,,0,0,0,, 来到这里的 iPad 故事板 \N{\fs12}Let's go over here to our iPad, storyboard, all I'm going to do 
Dialogue: 0,1:06:25.31,1:06:30.29,yin,,0,0,0,, 我首先只需要拖动嵌入的东西到这里 \N{\fs12}to start is to drag an embedded thing in here, so let's do that. 
Dialogue: 0,1:06:30.29,1:06:33.76,yin,,0,0,0,, 屏幕空间有限 这是相当大的挑战 \N{\fs12}This is a bit of a challenge when it comes to screen real estates. 
Dialogue: 0,1:06:33.76,1:06:34.93,yin,,0,0,0,, 到这里 \N{\fs12}Let's go here. 
Dialogue: 0,1:06:34.93,1:06:37.81,yin,,0,0,0,, 嵌入的东西在很下面这里 \N{\fs12}So the embedded thing, it's down towards the bottom, here it is right here. 
Dialogue: 0,1:06:37.81,1:06:40.39,yin,,0,0,0,, 这里说是容器视图 定义了一个视图控制器区域 \N{\fs12}You see it says container view defines a region of view controller 
Dialogue: 0,1:06:40.39,1:06:43.85,yin,,0,0,0,, 能够包含一个子视图控制器 \N{\fs12}that can include a child view controller. 
Dialogue: 0,1:06:43.85,1:06:47.45,yin,,0,0,0,, 我要把它拖入到这里的视图控制器中 \N{\fs12}So I'm going to drag that into this view controller right here, 
Dialogue: 0,1:06:47.45,1:06:49.83,yin,,0,0,0,, 这是我们的图像视图控制器 \N{\fs12}this is our image view controller, 
Dialogue: 0,1:06:49.83,1:06:51.12,yin,,0,0,0,, 拖入进来 \N{\fs12}so let's drag that in. 
Dialogue: 0,1:06:51.12,1:06:54.33,yin,,0,0,0,, 拖入进来后 我们不大方便 \N{\fs12}Now when you drag this in, it's a bit of a pain in the neck 
Dialogue: 0,1:06:54.33,1:06:57.68,yin,,0,0,0,, 设置大小和位置这些 \N{\fs12}to size this to where you want and all those things, 
Dialogue: 0,1:06:57.68,1:06:59.29,yin,,0,0,0,, 不过我会展示另一种方式 \N{\fs12}but I'll show you another way, 
Dialogue: 0,1:06:59.29,1:07:02.04,yin,,0,0,0,, 当你有一个这样的大视图 你要拖入 \N{\fs12}when you have a big view like that, that you're dragging in 
Dialogue: 0,1:07:02.04,1:07:04.11,yin,,0,0,0,, 你希望把它放到什么地方 \N{\fs12}and you want to place it somewhere to do it, 
Dialogue: 0,1:07:04.11,1:07:06.26,yin,,0,0,0,, 你可以使用文档大纲 \N{\fs12}which is use the document online. 
Dialogue: 0,1:07:06.26,1:07:08.56,yin,,0,0,0,, 这是文档大纲 这是我的容器 \N{\fs12}So here's the document outline, here's my container. 
Dialogue: 0,1:07:08.56,1:07:11.21,yin,,0,0,0,, 注意到 它是作为滚动视图的子视图添加的 \N{\fs12}Notice it added it as a subview of my scroll view, 
Dialogue: 0,1:07:11.21,1:07:13.70,yin,,0,0,0,, 我不希望地图到处滚动 我希望它 \N{\fs12}but I don't want to scroll that map around, I want it to sit 
Dialogue: 0,1:07:13.70,1:07:15.74,yin,,0,0,0,, 定在滚动视图的顶部 \N{\fs12}on top of the scroll view, 
Dialogue: 0,1:07:15.74,1:07:18.76,yin,,0,0,0,, 我希望滚动视图在后面 然后是容器视图 \N{\fs12}I actually want the scroll view in the back, and then the container view, 
Dialogue: 0,1:07:18.76,1:07:20.24,yin,,0,0,0,, 然后再做活动指示器 \N{\fs12}and then we can do our activity indicator. 
Dialogue: 0,1:07:20.24,1:07:25.08,yin,,0,0,0,, 这是我可以做的一件事 也就是把它移出滚动视图 \N{\fs12}So that's one thing I can do is move it out from being a scroll view. 
Dialogue: 0,1:07:25.08,1:07:26.48,yin,,0,0,0,, 有没人能想到 \N{\fs12}And can anyone think of a way 
Dialogue: 0,1:07:26.48,1:07:30.01,yin,,0,0,0,, 如何把这个容器放到我想要的地方 \N{\fs12}that I can place this container where I want? 
Dialogue: 0,1:07:30.01,1:07:32.14,yin,,0,0,0,, 一个单词 用 A 开头 \N{\fs12}Magic word, begins with an A? 
Dialogue: 0,1:07:33.88,1:07:35.70,yin,,0,0,0,, 下面这里 \N{\fs12}Down here? 
Dialogue: 0,1:07:35.70,1:07:38.68,yin,,0,0,0,, 对 我们可以使用自动布局 \N{\fs12}Yes, we can use autolayout. 
Dialogue: 0,1:07:38.68,1:07:40.82,yin,,0,0,0,, 指定我们要的东西 \N{\fs12}Right? To specify exactly what we want. 
Dialogue: 0,1:07:40.82,1:07:42.23,yin,,0,0,0,, 修正它的宽度和高度 \N{\fs12}So let's fix its width and height. 
Dialogue: 0,1:07:42.23,1:07:45.34,yin,,0,0,0,, 这里我们需要一些固定的宽度和高度数字 \N{\fs12}This is a case where we would want some magic numbers of width 
Dialogue: 0,1:07:45.34,1:07:47.49,yin,,0,0,0,, 因为我们需要确定 \N{\fs12}and height, because we want to kind of decide how much 
Dialogue: 0,1:07:47.49,1:07:50.34,yin,,0,0,0,, 视图遮住地图上多大的区域 \N{\fs12}of that view we want to occlude with the map, 
Dialogue: 0,1:07:50.34,1:07:53.77,yin,,0,0,0,, 相对值是多少 然后我们还要把它固定在顶部 \N{\fs12}what the relative value is, and then let's also pin it to the top, 
Dialogue: 0,1:07:53.77,1:07:57.91,yin,,0,0,0,, 通过标准值 然后这边再固定到右边 \N{\fs12}by the standard value, and then let's pin it over here to the right, 
Dialogue: 0,1:07:57.91,1:08:00.27,yin,,0,0,0,, 这就把它放到了右上角 \N{\fs12}so we're going to put it in the upper right-hand corner. 
Dialogue: 0,1:08:00.27,1:08:03.12,yin,,0,0,0,, 先看看这是怎样的 \N{\fs12}And let's see what that looks like, first of all, 
Dialogue: 0,1:08:03.12,1:08:05.51,yin,,0,0,0,, 注意这里有个黄色的小东西 \N{\fs12}and notice we have the little yellow thing here. 
Dialogue: 0,1:08:05.51,1:08:09.82,yin,,0,0,0,, 因为我们错放了视图 我来修正一下这个错位 \N{\fs12}Because we have a misplaced view, and so I'm going to go ahead and fix that misplacement. 
Dialogue: 0,1:08:09.82,1:08:11.50,yin,,0,0,0,, 下面来看这是怎样的 \N{\fs12}And now let's go look and see how this looks like. 
Dialogue: 0,1:08:11.50,1:08:15.13,yin,,0,0,0,, 这同我要的还有点差距 因为这里 \N{\fs12}Eh, it just doesn't quite look like I want, because it's 
Dialogue: 0,1:08:15.13,1:08:18.57,yin,,0,0,0,, 它在这个栏下面 我不想要这样 \N{\fs12}under this bar, I don't really want it under this bar, 
Dialogue: 0,1:08:18.57,1:08:21.75,yin,,0,0,0,, 离顶部是标准宽度 不过却在栏下面 \N{\fs12}so it's a standard width from the top, but under this bar. 
Dialogue: 0,1:08:21.75,1:08:24.54,yin,,0,0,0,, 顺便说下 控制这些东西在不在栏下面 \N{\fs12}The way you can, by the way, control whether things are under the bar 
Dialogue: 0,1:08:24.54,1:08:27.52,yin,,0,0,0,, 可以选择整个控制器 进入检查器 \N{\fs12}is select your whole controller and inspect it. 
Dialogue: 0,1:08:27.52,1:08:31.02,yin,,0,0,0,, 下面这里可以看到扩展边缘 \N{\fs12}And you'll see down here, there's extend edges. 
Dialogue: 0,1:08:31.02,1:08:33.43,yin,,0,0,0,, 这里我可以把在顶栏下的勾勾去掉 \N{\fs12}So if I say under top bars, no, 
Dialogue: 0,1:08:33.43,1:08:35.28,yin,,0,0,0,, 这时 容器就可以移下来了 \N{\fs12}then it moves that container down. 
Dialogue: 0,1:08:35.28,1:08:37.29,yin,,0,0,0,, 这里创建了一些自动布局的东西 \N{\fs12}Now that created some autolayout things, 
Dialogue: 0,1:08:37.29,1:08:41.61,yin,,0,0,0,, 对这个小转轮和这个都是如此 我们修正一下 \N{\fs12}both for this little spinner guy and this, so let's fix those. 
Dialogue: 0,1:08:41.61,1:08:43.23,yin,,0,0,0,, 因为一切都往下移了一些 \N{\fs12}Right? Because we moved everything down a little bit, 
Dialogue: 0,1:08:43.23,1:08:47.20,yin,,0,0,0,, 这些需要被放回到应该的相对位置 \N{\fs12}so those need to be put back relatively to where they should be. 
Dialogue: 0,1:08:47.20,1:08:48.60,yin,,0,0,0,, 这是这个的做法 \N{\fs12}So that's a way to do it. Now, of course, 
Dialogue: 0,1:08:48.61,1:08:50.34,yin,,0,0,0,, 显然 图像视图不在这下面 \N{\fs12}now the image view is not under there, 
Dialogue: 0,1:08:50.34,1:08:52.33,yin,,0,0,0,, 我可能希望一者 而非另一者 \N{\fs12}and I might want one and not the other, 
Dialogue: 0,1:08:52.33,1:08:55.17,yin,,0,0,0,, 我们当然可以按自己的想法设置自动布局约束 \N{\fs12}and we can certainly set our autolayouts constraints to whatever we want, 
Dialogue: 0,1:08:55.17,1:08:57.06,yin,,0,0,0,, 这里我只想演示这个扩展边缘的东西 \N{\fs12}but I just wanted to show you this extend edges thing. 
Dialogue: 0,1:08:57.06,1:09:00.64,yin,,0,0,0,, 有些人之前在做作业时就发现了这个 \N{\fs12}Some of you discovered this when you were doing your homework before. 
Dialogue: 0,1:09:02.05,1:09:05.30,yin,,0,0,0,, 好 通过所有这些 \N{\fs12}So, okay. One thing that happened through all of this, 
Dialogue: 0,1:09:05.30,1:09:09.28,yin,,0,0,0,, 我们的得到了这个容器 我们还需要指定 \N{\fs12}we got this container, is we have to specify 
Dialogue: 0,1:09:09.28,1:09:10.94,yin,,0,0,0,, 容器中有些什么 \N{\fs12}what's in this container, 
Dialogue: 0,1:09:10.94,1:09:14.01,yin,,0,0,0,, 它实际会把某个东西放到这里 \N{\fs12}and it actually put something on here. 
Dialogue: 0,1:09:14.01,1:09:16.56,yin,,0,0,0,, 很难看到 移下来一些 \N{\fs12}It's hard to see, let's move it down. 
Dialogue: 0,1:09:16.56,1:09:19.37,yin,,0,0,0,, 这是一个通用 UIViewController\N{\fs12}It actually put this, this is a generic UI view controller, 
Dialogue: 0,1:09:19.37,1:09:21.95,yin,,0,0,0,, 在检查器中 可以看到它是通用 UIViewController\N{\fs12}if we inspect it, you can see it's a generic UI view controller. 
Dialogue: 0,1:09:21.95,1:09:25.46,yin,,0,0,0,, 这个视图控制器的 self.view 会出现在这里 \N{\fs12}So this view controller, self dot view, is going to appear in here. 
Dialogue: 0,1:09:25.46,1:09:28.47,yin,,0,0,0,, 但我不希望这个视图控制器的 self.view 在这里 \N{\fs12}But I don't want this view controller, self dot view, in here. 
Dialogue: 0,1:09:28.47,1:09:30.07,yin,,0,0,0,, 我打算删掉这个 \N{\fs12}So I'm going to delete that. 
Dialogue: 0,1:09:30.07,1:09:33.51,yin,,0,0,0,, 我想要这个视图控制器的 self.view\N{\fs12}Instead, I want this view controller's self dot view, 
Dialogue: 0,1:09:33.51,1:09:36.18,yin,,0,0,0,, 地图视图控制器 对吧 \N{\fs12}the map view controller, right? 
Dialogue: 0,1:09:36.18,1:09:37.41,yin,,0,0,0,, 怎么做呢 \N{\fs12}So how do I do that? 
Dialogue: 0,1:09:37.41,1:09:38.62,yin,,0,0,0,, 这是一个 segue\N{\fs12}This is a segue, 
Dialogue: 0,1:09:38.62,1:09:40.16,yin,,0,0,0,,control 拖动 \N{\fs12}control, drag. 
Dialogue: 0,1:09:40.16,1:09:43.34,yin,,0,0,0,, 从容器 control 拖动到这里 \N{\fs12}So I'm control, dragging from the container to here, 
Dialogue: 0,1:09:43.34,1:09:44.92,yin,,0,0,0,, 唯一的选项是嵌入 \N{\fs12}only option I'm going to have is embed, 
Dialogue: 0,1:09:44.92,1:09:47.04,yin,,0,0,0,, 因为来自这个容器 \N{\fs12}because the source of this is the container, 
Dialogue: 0,1:09:47.04,1:09:49.25,yin,,0,0,0,, 这样我就把那个嵌入到了这里 \N{\fs12}and now I've embedded that in there. 
Dialogue: 0,1:09:49.25,1:09:52.56,yin,,0,0,0,, 我不再需要这个 segue\N{\fs12}I don't want this segue anymore, 
Dialogue: 0,1:09:52.56,1:09:54.72,yin,,0,0,0,, 因为在选择拍照者时 \N{\fs12}because I don't want when, I choose the photographer, 
Dialogue: 0,1:09:54.72,1:09:57.62,yin,,0,0,0,, 我不希望加载这个表格 我们删掉它 \N{\fs12}I don't want to load this table up, so let's get rid of that. 
Dialogue: 0,1:09:57.62,1:10:02.42,yin,,0,0,0,, 现在我们有了这个 让我们把它移下来 \N{\fs12}And so now, we have this here, let's move it down again. 
Dialogue: 0,1:10:02.85,1:10:07.39,yin,,0,0,0,, 这个 PhotosByPhotographer 地图视图将出现在这里面 \N{\fs12}So this photos by photographer map view is going to appear inside here. 
Dialogue: 0,1:10:07.39,1:10:10.06,yin,,0,0,0,, 这是一个 segue\N{\fs12}Now this is a segue, okay, 
Dialogue: 0,1:10:10.06,1:10:13.43,yin,,0,0,0,, 或许我们可以称这个为 Embed Map\N{\fs12}maybe we would call this embed map 
Dialogue: 0,1:10:13.43,1:10:15.91,yin,,0,0,0,, 诸如此类 因为这就是 segue 的作用 \N{\fs12}or something like that, because that's what this segue does. 
Dialogue: 0,1:10:15.91,1:10:19.41,yin,,0,0,0,, 这个 segue 需要准备 同其它 segue 一样 \N{\fs12}This segue has to be prepared, just like any other segue, 
Dialogue: 0,1:10:19.41,1:10:20.92,yin,,0,0,0,, 这是一个常规的 segue\N{\fs12}this is a normal segue. 
Dialogue: 0,1:10:20.94,1:10:22.72,yin,,0,0,0,, 谁来做准备呢 \N{\fs12}Who's going to do the preparing? 
Dialogue: 0,1:10:22.72,1:10:26.59,yin,,0,0,0,, 做准备的是这个会嵌入到的视图控制器 \N{\fs12}Well, it's the view controller into which this is embedded. 
Dialogue: 0,1:10:26.59,1:10:28.98,yin,,0,0,0,, 也就是这个 \N{\fs12}That is this. 
Dialogue: 0,1:10:28.98,1:10:31.77,yin,,0,0,0,, 这是一个图像视图控制器 \N{\fs12}Which is an image view controller. 
Dialogue: 0,1:10:31.77,1:10:35.41,yin,,0,0,0,, 这个 PhotosByPhotographer 需要如何准备呢 \N{\fs12}How does this photos by photographer need to be prepared? 
Dialogue: 0,1:10:35.41,1:10:38.45,yin,,0,0,0,, 它需要拍照者 \N{\fs12}It needs the photographer, right? 
Dialogue: 0,1:10:38.45,1:10:42.39,yin,,0,0,0,, 这是它的公共 API 提醒一下你们 这里 \N{\fs12}That's its public API, just to remind you, over here, 
Dialogue: 0,1:10:42.39,1:10:44.44,yin,,0,0,0,,PhotosByPhotographerMapViewController\N{\fs12}photos by photographer map view controller, 
Dialogue: 0,1:10:44.44,1:10:45.75,yin,,0,0,0,, 需要一个拍照者 \N{\fs12}needs a photographer. 
Dialogue: 0,1:10:45.75,1:10:48.38,yin,,0,0,0,, 准备时 我们需要传入拍照者 \N{\fs12}So if we're going to prepare it, we need to pass the photographer. 
Dialogue: 0,1:10:48.38,1:10:52.73,yin,,0,0,0,, 这是一个问题 因为这个图像视图没有拍照者 \N{\fs12}Well, that's a problem, because this image view doesn't have the photographer. 
Dialogue: 0,1:10:52.73,1:10:55.43,yin,,0,0,0,, 图像视图只有图像 \N{\fs12}All the image view has is the image. 
Dialogue: 0,1:10:55.43,1:10:59.63,yin,,0,0,0,, 因此 我们需要创建一个图像视图控制器的子类 \N{\fs12}So we're going to have to create a little subclass of image view controller, 
Dialogue: 0,1:10:59.63,1:11:02.92,yin,,0,0,0,, 命名为 PhotosByPhotographerImageViewController\N{\fs12}which I'm going to call photos by photographer, image view controller, 
Dialogue: 0,1:11:02.92,1:11:05.82,yin,,0,0,0,, 它会将拍照者传过来 \N{\fs12}and it's going to pass the photographer on through. 
Dialogue: 0,1:11:06.66,1:11:08.66,yin,,0,0,0,, 我们将 segue 到它 \N{\fs12}So we're going to segue to it, 
Dialogue: 0,1:11:08.66,1:11:11.62,yin,,0,0,0,, 就像我们已经 segue… 这其实并不是真正的 segue\N{\fs12}like we are already segueing, it's not really segueing, 
Dialogue: 0,1:11:11.62,1:11:14.17,yin,,0,0,0,, 不过我们在设置这个 detail 视图控制器 \N{\fs12}but we're setting this detail view controller, 
Dialogue: 0,1:11:14.17,1:11:16.38,yin,,0,0,0,, 我们已经准备好了 \N{\fs12}we're preparing already, 
Dialogue: 0,1:11:16.38,1:11:20.68,yin,,0,0,0,, 不过准备需要用到这个拍照者 \N{\fs12}but we're going to have to prepare it with this photographers. 
Dialogue: 0,1:11:20.68,1:11:24.23,yin,,0,0,0,, 让我们创建这个控制器的子类 \N{\fs12}So let's create that subclass with this controller. 
Dialogue: 0,1:11:25.02,1:11:29.22,yin,,0,0,0,, 它是图像视图控制器的子类 \N{\fs12}Okay. It's a subclass of image view controller, 
Dialogue: 0,1:11:29.23,1:11:35.57,yin,,0,0,0,, 名为 PhotosByPhotographerImageViewController\N{\fs12}we're going to call it photos by photographer image view controller. 
Dialogue: 0,1:11:35.57,1:11:39.14,yin,,0,0,0,, 同其它控制器放到一起 \N{\fs12}Okay. We'll put it with our controllers. 
Dialogue: 0,1:11:39.14,1:11:43.74,yin,,0,0,0,, 现在仅在 iPad 中 我将修改这个 \N{\fs12}Now in the iPad only, I'm going to change this 
Dialogue: 0,1:11:43.74,1:11:45.83,yin,,0,0,0,, 让它不再是图像视图控制器 \N{\fs12}to not be an image view controller anymore, 
Dialogue: 0,1:11:45.83,1:11:50.93,yin,,0,0,0,, 而是 PhotosByPhotographerImageViewController\N{\fs12}I'm going to change it to be a photos by photographer image view controller. 
Dialogue: 0,1:11:50.93,1:11:53.71,yin,,0,0,0,, 现在 它是 PhotosByPhotographerImageViewController\N{\fs12}So now it's a photo by photographer image view controller, 
Dialogue: 0,1:11:53.71,1:11:54.78,yin,,0,0,0,, 也就是这个 \N{\fs12}which is this thing. 
Dialogue: 0,1:11:54.78,1:11:57.72,yin,,0,0,0,, 这个的公共 API 还是和 \N{\fs12}The public API of this, again, it's the same 
Dialogue: 0,1:11:57.72,1:12:00.97,yin,,0,0,0,, 所有其它 PhotosByPhotographer 一样 也就是这个 \N{\fs12}as all these other photos by photographer, it's this, 
Dialogue: 0,1:12:00.97,1:12:05.53,yin,,0,0,0,, 看这个 复制这个 粘贴过来 \N{\fs12}actually watch this, we'll copy this, and we'll paste that, 
Dialogue: 0,1:12:05.53,1:12:09.88,yin,,0,0,0,, 放到这里 放到这里 删掉这个 \N{\fs12}put that there, put that there, get rid of that, 
Dialogue: 0,1:12:09.88,1:12:11.84,yin,,0,0,0,, 这样就可以了 \N{\fs12}see it going back and forth too much. 
Dialogue: 0,1:12:11.84,1:12:14.65,yin,,0,0,0,, 它有一个拍照者 它是一个 PhotosByPhotographer\N{\fs12}So it has a photographer, it's a photos by photographer,
Dialogue: 0,1:12:14.65,1:12:17.58,yin,,0,0,0,, 不过这是一个图像视图控制器 因此它有一个拍照者 \N{\fs12}but this is an image view controller, so it has a photographer. 
Dialogue: 0,1:12:17.58,1:12:19.60,yin,,0,0,0,, 它在获得拍照者时会做什么呢 \N{\fs12}What does it do when it gets the photographer? 
Dialogue: 0,1:12:19.60,1:12:21.37,yin,,0,0,0,, 我们来看看 \N{\fs12}Well let's look at that. 
Dialogue: 0,1:12:21.37,1:12:25.29,yin,,0,0,0,, 实际上 在看这个之前 我们先谈谈那个 embed segue\N{\fs12}In fact, before we even look at that, let's talk about that embed segue and, 
Dialogue: 0,1:12:25.29,1:12:26.73,yin,,0,0,0,, 并为它做好准备 \N{\fs12}and having it prepare. 
Dialogue: 0,1:12:26.73,1:12:30.28,yin,,0,0,0,, 代码在这里 我们可以看看 \N{\fs12}So I got that code here so we can look at it. 
Dialogue: 0,1:12:31.86,1:12:35.38,yin,,0,0,0,, 放到这上面 马上我就会讲到 \N{\fs12}I'm going to put this up here, talk about all this in a second here, 
Dialogue: 0,1:12:35.38,1:12:40.61,yin,,0,0,0,, 导入 PhotosByPhotographerMapViewController\N{\fs12}and I'm going to import photos by photographer map view controller. 
Dialogue: 0,1:12:40.61,1:12:42.27,yin,,0,0,0,, 我们来看看这段代码 \N{\fs12}Alright, so let's look at this code that comes in. 
Dialogue: 0,1:12:42.27,1:12:45.52,yin,,0,0,0,, 这是 PhotosByPhotographerImageViewController\N{\fs12}So this is photos by photographer image view controller. 
Dialogue: 0,1:12:45.52,1:12:49.72,yin,,0,0,0,, 它现在正尝试处理那个嵌入的准备 \N{\fs12}It is, right now, trying to handle preparing that embed. 
Dialogue: 0,1:12:49.72,1:12:51.96,yin,,0,0,0,, 它准备的是这个 segue\N{\fs12}So it's preparing this segue right here. 
Dialogue: 0,1:12:51.96,1:12:54.36,yin,,0,0,0,, 它在对这个 segue 做准备 \N{\fs12}Its doing the prepare on this segue. 
Dialogue: 0,1:12:54.36,1:12:56.15,yin,,0,0,0,, 如何做到的呢 \N{\fs12}How is it doing that? 
Dialogue: 0,1:12:56.15,1:12:58.90,yin,,0,0,0,, 它会去检查 \N{\fs12}Well, it's looking to see 
Dialogue: 0,1:12:58.90,1:13:00.98,yin,,0,0,0,, 目标视图控制器是不是 \N{\fs12}if the destination view controller 
Dialogue: 0,1:13:00.98,1:13:03.18,yin,,0,0,0,,PhotosByPhotographerMapViewController\N{\fs12}is a photos by photographer map view controller, 
Dialogue: 0,1:13:03.18,1:13:05.52,yin,,0,0,0,, 这里应该是 因为这就是我们嵌入的 \N{\fs12}which it should be, that's what we're embedding. 
Dialogue: 0,1:13:05.52,1:13:07.64,yin,,0,0,0,,PhotosByPhotographerMapViewController\N{\fs12}Right? Photos by photographer map view controller, 
Dialogue: 0,1:13:07.64,1:13:10.91,yin,,0,0,0,, 如果是 那它就会设置拍照者 \N{\fs12}and if it is, then it's going to set the photographer. 
Dialogue: 0,1:13:10.91,1:13:12.80,yin,,0,0,0,, 很明显 \N{\fs12}Completely obvious, right? 
Dialogue: 0,1:13:12.80,1:13:14.79,yin,,0,0,0,, 它会把它设为 self.photographer\N{\fs12}And it's setting it to self dot photographer, 
Dialogue: 0,1:13:14.79,1:13:18.32,yin,,0,0,0,, 也就是 PhotosByPhotographerImageViewController\N{\fs12}that's this method right here in photos by photographer 
Dialogue: 0,1:13:18.32,1:13:19.46,yin,,0,0,0,, 的这个方法 \N{\fs12}image view controller. 
Dialogue: 0,1:13:19.46,1:13:20.32,yin,,0,0,0,, 这很好 \N{\fs12}That's all good. 
Dialogue: 0,1:13:20.32,1:13:22.22,yin,,0,0,0,, 不过注意 我还抓住了 \N{\fs12}But notice also I'm grabbing a hold 
Dialogue: 0,1:13:22.22,1:13:24.94,yin,,0,0,0,, 这个 PhotosByPhotographerMapViewController\N{\fs12}of this photos by photographer map controller. 
Dialogue: 0,1:13:24.94,1:13:26.98,yin,,0,0,0,, 为什么我要抓住这个不放 \N{\fs12}Why am I grabbing a hold of this thing? 
Dialogue: 0,1:13:26.98,1:13:29.13,yin,,0,0,0,, 抓住这个不放是因为 \N{\fs12}Well I'm grabbing a hold of this because 
Dialogue: 0,1:13:29.15,1:13:33.28,yin,,0,0,0,, 这个的调用可能会发生在 \N{\fs12}this might get called before 
Dialogue: 0,1:13:33.28,1:13:35.67,yin,,0,0,0,, 这个被调用之前 \N{\fs12}this gets called. 
Dialogue: 0,1:13:35.67,1:13:37.45,yin,,0,0,0,, 换言之 \N{\fs12}In other words, 
Dialogue: 0,1:13:37.45,1:13:41.37,yin,,0,0,0,, 在 PhotosByPhotographerMapViewController\N{\fs12}before my image view controllers, photos by photographer image view controller, 
Dialogue: 0,1:13:41.37,1:13:42.91,yin,,0,0,0,, 获得其拍照者之前 \N{\fs12}gets it photographer, 
Dialogue: 0,1:13:42.91,1:13:46.90,yin,,0,0,0,, 它可能被要求 segue 到嵌入的那个 \N{\fs12}it might be asked to segue to the embedded one, 
Dialogue: 0,1:13:46.90,1:13:49.03,yin,,0,0,0,, 它可能还没有这个拍照者 \N{\fs12}and it might not have this photographer yet. 
Dialogue: 0,1:13:49.03,1:13:53.27,yin,,0,0,0,, 因此我们需要到这里 在 setPhotographer 中 \N{\fs12}So we need to go here, in our set photographer, 
Dialogue: 0,1:13:53.28,1:13:55.24,yin,,0,0,0,, 这个我们总会做 \N{\fs12}which we always do this anyway, 
Dialogue: 0,1:13:55.24,1:14:02.13,yin,,0,0,0,, 写 self.title = photographer.name 这些东西 \N{\fs12}things like self dot title equals photographer dot name and stuff like that. 
Dialogue: 0,1:14:02.13,1:14:04.78,yin,,0,0,0,, 这里 我们需要…\N{\fs12}We, here, we need to,
Dialogue: 0,1:14:04.78,1:14:08.14,yin,,0,0,0,, 如果我们在嵌入后到这里 那么 \N{\fs12}if we get here after we've embedded, then we need 
Dialogue: 0,1:14:08.14,1:14:10.93,yin,,0,0,0,, 我们需要说 self 点地图视图控制器点拍照者 \N{\fs12}to say self dot map view controller photographer 
Dialogue: 0,1:14:10.93,1:14:13.67,yin,,0,0,0,, 等于我们的拍照者 \N{\fs12}equals our photographer. 
Dialogue: 0,1:14:13.67,1:14:15.40,yin,,0,0,0,, 这和之前我讲的一样 \N{\fs12}So this is the exact same thing we're talking 
Dialogue: 0,1:14:15.40,1:14:18.10,yin,,0,0,0,, 之前我说 准备可以发生在设置之前 \N{\fs12}about for prepare can happen before the setting, 
Dialogue: 0,1:14:18.10,1:14:20.66,yin,,0,0,0,, 设定可以发生在之后 如此往复 \N{\fs12}setting can happen after, you know, back and forth, so, 
Dialogue: 0,1:14:20.66,1:14:23.52,yin,,0,0,0,, 我需要在两个地方都这样做 \N{\fs12}but I have to do it in both of these places. 
Dialogue: 0,1:14:23.53,1:14:25.67,yin,,0,0,0,, 理解吗 \N{\fs12}Does that make sense? 
Dialogue: 0,1:14:25.67,1:14:27.94,yin,,0,0,0,, 好 这次我看到更多人点头了 这很好 \N{\fs12}Good, now I'm seeing more nodding heads this time and that's good. 
Dialogue: 0,1:14:27.94,1:14:29.75,yin,,0,0,0,, 我讲幻灯片时 很多人都一头雾水 \N{\fs12}Because when I talked about it in the slides you were like huh? 
Dialogue: 0,1:14:29.75,1:14:31.12,yin,,0,0,0,, 但现在你们懂了 \N{\fs12}Okay, but now you understood. 
Dialogue: 0,1:14:31.14,1:14:34.89,yin,,0,0,0,, 如果我们在被要求准备嵌入之后设置好模型 \N{\fs12}If we set our model after we are asked to prepare that embed, 
Dialogue: 0,1:14:34.89,1:14:39.56,yin,,0,0,0,, 那么我们就需要回头设置拍照者 \N{\fs12}then we have to go back and set the photographer. 
Dialogue: 0,1:14:39.56,1:14:46.13,yin,,0,0,0,, 最后 我们需要为这个做准备 \N{\fs12}Now the last thing we need to do is do the preparing of this guy now. 
Dialogue: 0,1:14:46.13,1:14:49.83,yin,,0,0,0,, 这个需要准备 它是 detail 视图控制器 \N{\fs12}This guy needs to be prepared, it's the detail view controller, 
Dialogue: 0,1:14:49.83,1:14:51.47,yin,,0,0,0,, 属于拆分视图 \N{\fs12}right, of this split view. 
Dialogue: 0,1:14:51.47,1:14:53.94,yin,,0,0,0,, 这时 我们点拍照者这里时 \N{\fs12}And so now when we click in the photographer's thing, 
Dialogue: 0,1:14:53.94,1:14:57.57,yin,,0,0,0,, 我们需要准备这个 通过将拍照者传递给它 \N{\fs12}we need to prepare this guy by passing him the photographers. 
Dialogue: 0,1:14:57.57,1:14:59.12,yin,,0,0,0,, 这也很简单 \N{\fs12}So that's really easy too. 
Dialogue: 0,1:14:59.12,1:15:00.73,yin,,0,0,0,, 这是我们准备的地方 \N{\fs12}Here's where we prepare, right? 
Dialogue: 0,1:15:00.73,1:15:05.75,yin,,0,0,0,, 在拍照者表格视图 我们知道如何准备 \N{\fs12}So right now, in our photographers table view, we know how to prepare 
Dialogue: 0,1:15:05.75,1:15:08.37,yin,,0,0,0,,PhotosByPhotographer Core Data 表格视图 \N{\fs12}the photos by photographer core data table view. 
Dialogue: 0,1:15:08.37,1:15:10.21,yin,,0,0,0,, 我们还知道如何准备 \N{\fs12}We know how to prepare the photos 
Dialogue: 0,1:15:10.21,1:15:12.34,yin,,0,0,0,,PhotosByPhotographerMapViewController\N{\fs12}by photographer map view controller, 
Dialogue: 0,1:15:12.34,1:15:15.28,yin,,0,0,0,, 现在我们又知道了如何准备 \N{\fs12}and now we know how to prepare the photos 
Dialogue: 0,1:15:15.28,1:15:18.07,yin,,0,0,0,,PhotosByPhotographerImageViewController\N{\fs12}by photographer image view controller, as well. 
Dialogue: 0,1:15:18.07,1:15:22.41,yin,,0,0,0,, 准备方式完全相同 \N{\fs12}We prepare them all exactly the same way, right? 
Dialogue: 0,1:15:22.41,1:15:25.98,yin,,0,0,0,, 不过目标视图控制器不同 \N{\fs12}But they're all different destination view controllers. 
Dialogue: 0,1:15:25.98,1:15:28.42,yin,,0,0,0,, 让我们导入 除掉这个 \N{\fs12}So let's import, make that go away, 
Dialogue: 0,1:15:28.42,1:15:32.90,yin,,0,0,0,,PhotosByPhotographerImageViewController\N{\fs12}photos by photographer image view controller, 
Dialogue: 0,1:15:32.90,1:15:35.51,yin,,0,0,0,, 现在就可以运行了 \N{\fs12}and now we can run. 
Dialogue: 0,1:15:47.25,1:15:49.93,yin,,0,0,0,, 好 可以看到美国的地图 \N{\fs12}Okay. So you can see our map, comes up the United States, 
Dialogue: 0,1:15:49.93,1:15:53.15,yin,,0,0,0,, 我们还没有选拍照者 因此这里没有照片 \N{\fs12}we haven't chosen a photographer, so there's, there's no photos in there. 
Dialogue: 0,1:15:53.15,1:15:54.70,yin,,0,0,0,, 让我们选一个拍照者 \N{\fs12}Let's pick a photographer. 
Dialogue: 0,1:15:54.70,1:15:56.06,yin,,0,0,0,, 这个人 \N{\fs12}This guy. 
Dialogue: 0,1:15:56.06,1:15:58.81,yin,,0,0,0,, 这是我们的地图 我们可以看到这在什么地方 \N{\fs12}Here's our map, we can kind of see where in the world we are. 
Dialogue: 0,1:15:58.81,1:16:01.21,yin,,0,0,0,, 看起来我们是在台北 \N{\fs12}Looks like we are in Taipei. 
Dialogue: 0,1:16:01.21,1:16:03.09,yin,,0,0,0,, 显示的是骑摩托车的人 \N{\fs12}And it's showing the scooter thing. 
Dialogue: 0,1:16:03.09,1:16:05.75,yin,,0,0,0,, 点另一个 我们得到这个 \N{\fs12}If I click on the other one, we get that one. 
Dialogue: 0,1:16:05.75,1:16:08.47,yin,,0,0,0,, 这是一个很不同的 UI\N{\fs12}So this is quite a different kind of UI, 
Dialogue: 0,1:16:08.47,1:16:12.51,yin,,0,0,0,, 这里还是可以放大缩小 地图还是可以到处拖动 \N{\fs12}I can still zoom in and out here, I can still move this map around, 
Dialogue: 0,1:16:12.51,1:16:16.41,yin,,0,0,0,, 我可以旋转 可以放大 \N{\fs12}I could rotate it around, I can zoom in. 
Dialogue: 0,1:16:17.56,1:16:22.01,yin,,0,0,0,, 我还可以点另一个拍照者 \N{\fs12}I can click on another photographer here. 
Dialogue: 0,1:16:25.32,1:16:27.76,yin,,0,0,0,, 理解这是怎么工作的吗 \N{\fs12}Make sense? How that's working? 
Dialogue: 0,1:16:27.76,1:16:31.06,yin,,0,0,0,, 你可以争辩哪个 UI 更好 \N{\fs12}So, I mean, again, you can argue which is the better UI. 
Dialogue: 0,1:16:31.06,1:16:31.93,yin,,0,0,0,, 这个很酷 \N{\fs12}This one's kind of cool. 
Dialogue: 0,1:16:31.93,1:16:34.45,yin,,0,0,0,, 如果能在 URL 旁边有一个小按钮 \N{\fs12}I think if I had a little button up next to URL that said map, 
Dialogue: 0,1:16:34.45,1:16:36.14,yin,,0,0,0,, 显示有 map 如果我点击 \N{\fs12}that was maybe a little map icon and I pressed it 
Dialogue: 0,1:16:36.14,1:16:39.19,yin,,0,0,0,, 地图就消失和出现 那就更好了 \N{\fs12}and the map would disappear and reappear, this might be kind of cooler because 
Dialogue: 0,1:16:39.21,1:16:41.60,yin,,0,0,0,, 看看这个 UI 拍照者 \N{\fs12}if you look at this UI, I have my photographers 
Dialogue: 0,1:16:41.60,1:16:45.41,yin,,0,0,0,, 选择的照片和地图都同时显示在屏幕上 \N{\fs12}and my photos and the selected photo all on screen at the same time. 
Dialogue: 0,1:16:45.41,1:16:48.18,yin,,0,0,0,, 我可以放大 看我想看的东西 \N{\fs12}Alright? So I can be zooming in, looking at anything I want, 
Dialogue: 0,1:16:48.18,1:16:49.65,yin,,0,0,0,, 在这里点另一张照片 \N{\fs12}clicking on another photo by this guy, 
Dialogue: 0,1:16:49.65,1:16:52.77,yin,,0,0,0,, 换到另一个拍照者 来回操作 \N{\fs12}switching to another photographer, back and forth, 
Dialogue: 0,1:16:52.77,1:16:56.08,yin,,0,0,0,, 动动指尖 这些尽在掌控 \N{\fs12}all, right at my fingertips so that I don't have to, you know, 
Dialogue: 0,1:16:56.08,1:17:00.59,yin,,0,0,0,, 我不需要 segue 来改变事物这些 \N{\fs12}be segueing and things changing and all that. 
Dialogue: 0,1:17:02.79,1:17:06.83,yin,,0,0,0,, 好 今天就这些了 周一再会 \N{\fs12}Okay. That's all I have for you today, and I will see you on Monday. 
Dialogue: 0,1:17:06.83,1:17:08.73,yin,,0,0,0,, 周五要交作业 祝大家好运 \N{\fs12}Good luck with your homework that's due on Friday 
Dialogue: 0,1:17:08.73,1:17:11.76,yin,,0,0,0,, 有问题的可以来问我 \N{\fs12}and I'll be here for any questions you have. 
Dialogue: 0,1:17:11.76,1:17:13.76,yin,,0,0,0,, 更多内容 请访问我校官网 stanford.edu\N{\fs12}> For more, please visit us at stanford.edu.