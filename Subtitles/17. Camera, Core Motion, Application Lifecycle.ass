[Script Info]
; Script generated by Aegisub 3.2.0
; http://www.aegisub.org/
Title: Default Aegisub file
ScriptType: v4.00+
WrapStyle: 0
ScaledBorderAndShadow: yes
YCbCr Matrix: None

[Aegisub Project Garbage]
Last Style Storage: Default
Active Line: 7

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: yin,冬青黑体简体中文 W3,20,&H00FFFFFF,&HF0000000,&H00000000,&H32000000,0,0,0,0,100,100,0,0,1,1,0,2,5,5,5,134

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:05.33,0:00:07.74,yin,,0,0,0,,斯坦福大学\N{\fs12}> Stanford University.
Dialogue: 0,0:00:07.74,0:00:14.52,yin,,0,0,0,,欢迎来到CS193P课程 2013-14秋季第17讲\N{\fs12}> Alright, well welcome to lecture 17 of CS193P, Fall 2013/14.
Dialogue: 0,0:00:14.52,0:00:17.44,yin,,0,0,0,,今天我将先花几分钟时间\N{\fs12}And today I'm going to spend just a couple minutes typing
Dialogue: 0,0:00:17.44,0:00:20.51,yin,,0,0,0,,对周一的demo进行一些查漏补缺\N{\fs12}up some loose ends from the demo we had on Monday,
Dialogue: 0,0:00:20.51,0:00:24.88,yin,,0,0,0,,然后再来讨论摄像头拍照\N{\fs12}and then I'm going to talk about taking pictures with the camera.
Dialogue: 0,0:00:24.88,0:00:28.69,yin,,0,0,0,,然后这方面也有一个demo\N{\fs12}And then we'll do a demo about that.
Dialogue: 0,0:00:28.69,0:00:33.23,yin,,0,0,0,,继续用Photomania 继续上次的demo来\N{\fs12}And that's basically PhotoMania, what we kind of set this all up for in our last demo.
Dialogue: 0,0:00:33.23,0:00:35.01,yin,,0,0,0,,然后我们会谈到Core Motion\N{\fs12}Then we'll talk about core motion,
Dialogue: 0,0:00:35.01,0:00:38.59,yin,,0,0,0,,也就是加速计 陀螺仪这些东西\N{\fs12}which is the accelerometer and the gyro and all that business,
Dialogue: 0,0:00:38.59,0:00:40.26,yin,,0,0,0,,然后我会演示这个\N{\fs12}and I'll have a demo of that.
Dialogue: 0,0:00:40.26,0:00:42.18,yin,,0,0,0,,最后如果时间允许\N{\fs12}And if time permitting at the end here,
Dialogue: 0,0:00:42.18,0:00:45.51,yin,,0,0,0,,我们还会简要讨论应用程序生命周期\N{\fs12}we'll talk a little bit about the application life cycle.
Dialogue: 0,0:00:45.51,0:00:48.24,yin,,0,0,0,,我们讨论过视图控制器生命周期\N{\fs12}We talked about the view controller life cycle
Dialogue: 0,0:00:48.24,0:00:50.30,yin,,0,0,0,,它什么时候出现 什么时候消失 等等\N{\fs12}where it appears and disappears and all those things,
Dialogue: 0,0:00:50.30,0:00:52.39,yin,,0,0,0,,应用程序也有生命周期\N{\fs12}well the application kind of, you know,
Dialogue: 0,0:00:52.39,0:00:55.04,yin,,0,0,0,,你到前台 你运行 然后你消失\N{\fs12}you come into the foreground, you run, then you go away,
Dialogue: 0,0:00:55.04,0:00:58.48,yin,,0,0,0,,你到后台 然后回来 这里也有生命周期\N{\fs12}then you go the background, you come back, so there's kind of a life cycle there too,
Dialogue: 0,0:00:58.48,0:01:00.58,yin,,0,0,0,,我们可以简要谈下这个\N{\fs12}which we can talk about briefly,
Dialogue: 0,0:01:00.58,0:01:04.97,yin,,0,0,0,,有时间的话 这个我也可以演示一下\N{\fs12}and I could even demo some of that if we have time.
Dialogue: 0,0:01:04.97,0:01:07.94,yin,,0,0,0,,先来看看上次的demo\N{\fs12}Alright, so let's talk about the demo.
Dialogue: 0,0:01:07.94,0:01:12.35,yin,,0,0,0,,我要快速看看这个demo 并讲两点\N{\fs12}I'm going to go back to the demo here real quick and talk about two things.
Dialogue: 0,0:01:12.35,0:01:15.75,yin,,0,0,0,,一是清理imageURL\N{\fs12}One was cleaning up image URLs
Dialogue: 0,0:01:15.75,0:01:19.76,yin,,0,0,0,,因为对于imageURL 我们有这个getter\N{\fs12}because the way we do our URLs is we have this "getter" for image URL,
Dialogue: 0,0:01:19.76,0:01:23.61,yin,,0,0,0,,只要有人想要图像视图中图像的URL\N{\fs12}and any time someone wants a URL for the image that's in our image view,
Dialogue: 0,0:01:23.61,0:01:26.59,yin,,0,0,0,,我们就会创建一个文件到磁盘上 并返回URL\N{\fs12}why we just create a file on disc and return the URL.
Dialogue: 0,0:01:26.59,0:01:28.25,yin,,0,0,0,,这是请求式的\N{\fs12}So it's kind of on-demand.
Dialogue: 0,0:01:28.25,0:01:31.16,yin,,0,0,0,,问题在于 如果拍了另外一张照片\N{\fs12}Well, the problem is, what if they then take a different photo
Dialogue: 0,0:01:31.16,0:01:35.17,yin,,0,0,0,,或者如果视图控制器离开屏幕然后回到屏幕\N{\fs12}or if this view controller goes off screen and back on screen,
Dialogue: 0,0:01:35.17,0:01:36.67,yin,,0,0,0,,有人选了别的什么\N{\fs12}and someone picked something else,
Dialogue: 0,0:01:36.67,0:01:39.44,yin,,0,0,0,,你不希望原来的URL还在那里\N{\fs12}you don't want any old URLs lying around.
Dialogue: 0,0:01:39.44,0:01:42.09,yin,,0,0,0,,我们需要清理那些老旧的URL\N{\fs12}So we need to clean up those old URLs.
Dialogue: 0,0:01:42.09,0:01:44.86,yin,,0,0,0,,另外我还要简单讲一点\N{\fs12}And the other thing I'm going to show you, just a brief bit more
Dialogue: 0,0:01:44.86,0:01:47.49,yin,,0,0,0,,关于在Core Location检查错误\N{\fs12}about checking for errors in core location.
Dialogue: 0,0:01:47.49,0:01:50.08,yin,,0,0,0,,我们已经做了一些错误检查\N{\fs12}Because we did some error checking already,
Dialogue: 0,0:01:50.08,0:01:51.53,yin,,0,0,0,,不过我们还可以做更多一些\N{\fs12}but we could do just slightly a bit more.
Dialogue: 0,0:01:51.53,0:01:56.19,yin,,0,0,0,,让我们回到Photomania\N{\fs12}So let's go back to PhotoMania.
Dialogue: 0,0:01:56.19,0:01:58.51,yin,,0,0,0,,看看这个\N{\fs12}And let's look at that.
Dialogue: 0,0:01:58.51,0:02:01.28,yin,,0,0,0,,imageURL的清理其实有两件事\N{\fs12}The cleaning up the image stuff is really two things.
Dialogue: 0,0:02:01.28,0:02:03.94,yin,,0,0,0,,一是在取消时\N{\fs12}One, when we cancel.
Dialogue: 0,0:02:03.94,0:02:08.18,yin,,0,0,0,,当我们取消 从模态视图控制器中退出时\N{\fs12}When we do our cancel to get out of our modal view controller,
Dialogue: 0,0:02:08.18,0:02:11.48,yin,,0,0,0,,我们会将图像设为nil 为什么要这样做呢\N{\fs12}we're going to set our image to nil, and why are we going to do that?
Dialogue: 0,0:02:11.48,0:02:15.09,yin,,0,0,0,,原因是这样 你可以看我们的设置图像方法 下面这里\N{\fs12}That's because if you look at our set image, down here,
Dialogue: 0,0:02:15.09,0:02:17.70,yin,,0,0,0,,我们会删除URL\N{\fs12}we delete the URLs, right?
Dialogue: 0,0:02:17.70,0:02:21.22,yin,,0,0,0,,只要图像视图中的图像改变了\N{\fs12}So whenever we change the image that's in our image view, right?
Dialogue: 0,0:02:21.22,0:02:23.32,yin,,0,0,0,,我们就会删除URL\N{\fs12}We delete the URLs. This is something we did,
Dialogue: 0,0:02:23.32,0:02:26.52,yin,,0,0,0,,上次课最后可能做得有些匆忙\N{\fs12}kind of it was a little rushed maybe at the end,
Dialogue: 0,0:02:26.52,0:02:29.25,yin,,0,0,0,,不过我们的确删除了URL\N{\fs12}but we do delete our URLs there.
Dialogue: 0,0:02:29.25,0:02:31.69,yin,,0,0,0,,这是因为我们有了新图像\N{\fs12}And that's because we've got a new image, so we're going
Dialogue: 0,0:02:31.69,0:02:34.44,yin,,0,0,0,,我们于是想删掉旧图像的URL\N{\fs12}to delete the URLs for the old image, and that will make,
Dialogue: 0,0:02:34.44,0:02:37.64,yin,,0,0,0,,这就将URL设为nil 我们会创建新URL\N{\fs12}we'll set our URL to nil, so that we'll make new URLs, right?
Dialogue: 0,0:02:37.64,0:02:39.10,yin,,0,0,0,,这就是我们要清理的地方\N{\fs12}So this is where we're going to clean up.
Dialogue: 0,0:02:39.10,0:02:42.01,yin,,0,0,0,,在取消时 我们显然需要把图像设为nil\N{\fs12}So we definitely want to set that image to nil when we cancel.
Dialogue: 0,0:02:42.01,0:02:44.47,yin,,0,0,0,,另一点是 不取消时\N{\fs12}And the other thing is, when we don't cancel,
Dialogue: 0,0:02:44.47,0:02:48.03,yin,,0,0,0,,如果我们要实际准备segue并创建照片\N{\fs12}when we actually prepare for segue and make a photo,
Dialogue: 0,0:02:48.03,0:02:53.36,yin,,0,0,0,,那我们就希望将URL设为nil 让它们不被删除\N{\fs12}then we want to set the URLs to nil, so that they don't get deleted.
Dialogue: 0,0:02:53.36,0:02:56.64,yin,,0,0,0,,因为这里 我们在照片中将URL汇报回去\N{\fs12}Because here, we're reporting that URL back in the photo,
Dialogue: 0,0:02:56.64,0:02:58.36,yin,,0,0,0,,我们不希望这个URL被删除\N{\fs12}so we do not want that URL to delete.
Dialogue: 0,0:02:58.36,0:02:59.99,yin,,0,0,0,,因此我们把这些设为nil\N{\fs12}So we're going to set these to nil.
Dialogue: 0,0:02:59.99,0:03:03.72,yin,,0,0,0,,这样它们就不会在任何时候被删掉了\N{\fs12}So that they won't get deleted at any point.
Dialogue: 0,0:03:03.72,0:03:06.78,yin,,0,0,0,,我们用它们 我们用那个URL\N{\fs12}It's kind of like we use them, we use that URL,
Dialogue: 0,0:03:06.78,0:03:09.19,yin,,0,0,0,,我们现在只将它设为nil\N{\fs12}so now we don't want to-- we want to just set it to nil.
Dialogue: 0,0:03:09.19,0:03:12.68,yin,,0,0,0,,这就是这里涉及到的一些清理任务\N{\fs12}So that was that, that's the only clean-up there that was involved.
Dialogue: 0,0:03:12.68,0:03:16.43,yin,,0,0,0,,另外一点是Core Location错误检查\N{\fs12}The other thing was this core location error checking,
Dialogue: 0,0:03:16.43,0:03:19.56,yin,,0,0,0,,可以看到 在shouldPerformForSegue中\N{\fs12}and you can see, for example in our should perform for segue,
Dialogue: 0,0:03:19.56,0:03:23.30,yin,,0,0,0,,我在这里加了注释 "应该检查位置和imageURL"\N{\fs12}I put a comment in here, "should check location and image URL" too, right?
Dialogue: 0,0:03:23.30,0:03:25.98,yin,,0,0,0,,因为我已经检查了 确保我们已经拍了照\N{\fs12}Because I already checked to make sure we actually took a photo,
Dialogue: 0,0:03:25.98,0:03:30.34,yin,,0,0,0,,而且用户提供了标题 我还应该检查\N{\fs12}and that the person provided a title, so I should also check
Dialogue: 0,0:03:30.34,0:03:33.12,yin,,0,0,0,,我们是否位置信息\N{\fs12}that the location, that we got a location, right?
Dialogue: 0,0:03:33.12,0:03:35.81,yin,,0,0,0,,因为我们在后台获得的位置信息\N{\fs12}Because remember that location we're kind of getting in the background
Dialogue: 0,0:03:35.81,0:03:38.87,yin,,0,0,0,,正在异步地从GPS\N{\fs12}is asynchronously looking at GPS
Dialogue: 0,0:03:38.87,0:03:40.65,yin,,0,0,0,,wifi这些那里获取\N{\fs12}or wi-fi or something to get that location.
Dialogue: 0,0:03:40.65,0:03:44.64,yin,,0,0,0,,这里 点完成时 我们要确保确实获得了位置信息\N{\fs12}So here, when we hit "done," we've got to make sure we actually got one.
Dialogue: 0,0:03:44.64,0:03:47.34,yin,,0,0,0,,除了确保我们获得了位置信息之外\N{\fs12}And more than just determining that we got it,
Dialogue: 0,0:03:47.34,0:03:49.86,yin,,0,0,0,,我们还要保证没有特定错误\N{\fs12}let's make sure there wasn't a particular error.
Dialogue: 0,0:03:49.86,0:03:51.70,yin,,0,0,0,,这里有个办法可以监视错误\N{\fs12}And so there's a way to watch for errors.
Dialogue: 0,0:03:51.70,0:03:54.04,yin,,0,0,0,,这里是我们创建位置管理器的地方\N{\fs12}Here's where we create our location manager,
Dialogue: 0,0:03:54.04,0:03:58.34,yin,,0,0,0,,我们这里只使用了这一个委托方法\N{\fs12}and we only use this one delegate method right here.
Dialogue: 0,0:03:58.34,0:04:02.15,yin,,0,0,0,,不过还有一点我们可以做\N{\fs12}But there is another thing we could do,
Dialogue: 0,0:04:02.15,0:04:05.49,yin,,0,0,0,,也就是 我们可以实现这个委托方法\N{\fs12}which is we could implement this delegate method,
Dialogue: 0,0:04:05.49,0:04:06.79,yin,,0,0,0,,didFailWithError\N{\fs12}didFailWithError
Dialogue: 0,0:04:06.79,0:04:09.75,yin,,0,0,0,,位置管理器失败时 它就会告诉我们\N{\fs12}and that will tell us any time the location manager fails.
Dialogue: 0,0:04:09.75,0:04:11.20,yin,,0,0,0,,位置信息获取失败\N{\fs12}Fails to get a location.
Dialogue: 0,0:04:11.20,0:04:14.99,yin,,0,0,0,,我将把这些进入到NSError的错误代码存起来\N{\fs12}And I'm just going to salt away the error code that comes in this NS error
Dialogue: 0,0:04:14.99,0:04:17.43,yin,,0,0,0,,存入到这个locationErrorCode\N{\fs12}into this location error code,
Dialogue: 0,0:04:17.43,0:04:19.56,yin,,0,0,0,,我把这设为一个属性\N{\fs12}which I'm going to make a property.
Dialogue: 0,0:04:19.56,0:04:20.85,yin,,0,0,0,,这只是一个整数\N{\fs12}Okay so it's just an integer.
Dialogue: 0,0:04:20.85,0:04:22.53,yin,,0,0,0,,我将保存这个错误代码\N{\fs12}So I'm going to keep that error code,
Dialogue: 0,0:04:22.53,0:04:25.88,yin,,0,0,0,,然后在下面这里的完成中\N{\fs12}and then down in done right here, okay,
Dialogue: 0,0:04:25.88,0:04:30.97,yin,,0,0,0,,除了检查是否有标题和是否拍过照之外\N{\fs12}I am going to, in addition to checking the title and whether a photo was taken,
Dialogue: 0,0:04:30.97,0:04:33.76,yin,,0,0,0,,这里我还要检查是否获得了位置\N{\fs12}here I'm going to check the location.
Dialogue: 0,0:04:33.76,0:04:36.92,yin,,0,0,0,,如果我没获得位置 如果位置为nil\N{\fs12}And so if I didn't get a location, if location is nil,
Dialogue: 0,0:04:36.92,0:04:39.91,yin,,0,0,0,,那我就会去看我获得的错误代码\N{\fs12}then I'm going to look at that error code that I got.
Dialogue: 0,0:04:39.91,0:04:43.52,yin,,0,0,0,,这里可能是0 也就是错误位置未知\N{\fs12}Now, it might be zero, which is error location unknown,
Dialogue: 0,0:04:43.52,0:04:45.82,yin,,0,0,0,,这是什么意思呢\N{\fs12}in which case, what does that mean if the location--
Dialogue: 0,0:04:45.82,0:04:48.77,yin,,0,0,0,,这里的错误是说\N{\fs12}if either I've never gotten an error, or I got an error
Dialogue: 0,0:04:48.77,0:04:51.45,yin,,0,0,0,,错误位置未知 这里也就是0\N{\fs12}and it said location unknown, which is zero,
Dialogue: 0,0:04:51.45,0:04:53.73,yin,,0,0,0,,这意味着它还在尝试\N{\fs12}well, that means that it's still trying.
Dialogue: 0,0:04:53.73,0:04:55.35,yin,,0,0,0,,它还没得到错误说\N{\fs12}It hasn't gotten an error
Dialogue: 0,0:04:55.35,0:04:58.77,yin,,0,0,0,,我无法获得位置 它还在尝试\N{\fs12}that says I can't get the location, but it's still trying,
Dialogue: 0,0:04:58.77,0:05:00.34,yin,,0,0,0,,这时我们告诉用户\N{\fs12}so that's what we're going to tell the user.
Dialogue: 0,0:05:00.34,0:05:04.10,yin,,0,0,0,,我现在还没弄清这张照片是在哪拍的\N{\fs12}It's like I couldn't figure out where this photo was taken, yet.
Dialogue: 0,0:05:04.10,0:05:07.90,yin,,0,0,0,,用户看到这个警告会点OK\N{\fs12}And if they say this is an alert, so they'll click "ok"
Dialogue: 0,0:05:07.90,0:05:09.30,yin,,0,0,0,,回到之前的位置\N{\fs12}and they'll be back where they started,
Dialogue: 0,0:05:09.30,0:05:12.59,yin,,0,0,0,,用户可以再次点完成 他可以一直点下去\N{\fs12}they can try hitting done again, and they just keep hitting done
Dialogue: 0,0:05:12.59,0:05:16.07,yin,,0,0,0,,看能不能得到 直到感到厌倦 然后点取消\N{\fs12}and seeing if this keeps coming up until they get tired of it and they hit cancel.
Dialogue: 0,0:05:16.07,0:05:18.12,yin,,0,0,0,,这是一种错误情形\N{\fs12}So that's one error situation.
Dialogue: 0,0:05:18.12,0:05:19.40,yin,,0,0,0,,另一种是被拒绝\N{\fs12}Another one is "denied."
Dialogue: 0,0:05:19.40,0:05:22.21,yin,,0,0,0,,这个不应当发生 因为一开始我们就\N{\fs12}This shouldn't happen because we checked whether we were
Dialogue: 0,0:05:22.21,0:05:24.29,yin,,0,0,0,,检验过是否有授权 记得吗\N{\fs12}authorized before, at the very beginning remember?
Dialogue: 0,0:05:24.29,0:05:27.22,yin,,0,0,0,,如果没有授权 我们有一个致命警告\N{\fs12}And we put a fatal alert up if you weren't authorized.
Dialogue: 0,0:05:27.22,0:05:29.89,yin,,0,0,0,,不过用户在看到这个警告后\N{\fs12}But it's actually possible they could put this alert up,
Dialogue: 0,0:05:29.89,0:05:33.46,yin,,0,0,0,,有可能去设置 禁用它 回来 再点完成\N{\fs12}go to settings, disable it, come back, and click "done,"
Dialogue: 0,0:05:33.47,0:05:35.48,yin,,0,0,0,,然后被拒绝\N{\fs12}and then they'd be denied.
Dialogue: 0,0:05:35.48,0:05:39.13,yin,,0,0,0,,这很罕见 不过我们还是可以检查一下\N{\fs12}So that's pretty rare, but let's check for it anyway.
Dialogue: 0,0:05:39.13,0:05:40.96,yin,,0,0,0,,如果用户这样做 我们可以告诉他\N{\fs12}And if they do that, then we'll just tell them,
Dialogue: 0,0:05:40.96,0:05:43.93,yin,,0,0,0,,到隐私里面 把这个重新开启\N{\fs12}go back into privacy and turn that thing back on.
Dialogue: 0,0:05:43.93,0:05:47.71,yin,,0,0,0,,我们可能被拒绝 很罕见 另一点是网络\N{\fs12}So we could get a denied, rare, the other one is network,
Dialogue: 0,0:05:47.71,0:05:50.42,yin,,0,0,0,,我们尝试找到位置\N{\fs12}so this is-- we're trying to find the location,
Dialogue: 0,0:05:50.42,0:05:53.52,yin,,0,0,0,,我们无法连上GPS 而且设备没有联网\N{\fs12}we can't get any GPS, and they're not connected to the network,
Dialogue: 0,0:05:53.52,0:05:55.23,yin,,0,0,0,,我们不能使用wifi\N{\fs12}so we can't use wi-fi either.
Dialogue: 0,0:05:55.23,0:05:58.09,yin,,0,0,0,,而且这里没有蜂窝网络\N{\fs12}Or a cell site for that matter, okay,
Dialogue: 0,0:05:58.09,0:06:01.13,yin,,0,0,0,,这时 我们就真的碰到麻烦了\N{\fs12}so now we're really stuck and the thing is
Dialogue: 0,0:06:01.13,0:06:04.48,yin,,0,0,0,,位置服务可以探测这种情况\N{\fs12}that the location services can detect that case,
Dialogue: 0,0:06:04.48,0:06:06.83,yin,,0,0,0,,它会汇报这个错误 网络\N{\fs12}and they'll actually report this error, network,
Dialogue: 0,0:06:06.83,0:06:10.34,yin,,0,0,0,,我们于是可以告诉用户 还是相同的基本错误\N{\fs12}and we can tell the person still we can't-- same basic error,
Dialogue: 0,0:06:10.34,0:06:12.70,yin,,0,0,0,,我们无法获悉照片是在哪拍的 但至少我们可以建议\N{\fs12}we can't figure out where the photo was taken, but at least we can suggest
Dialogue: 0,0:06:12.70,0:06:14.86,yin,,0,0,0,,请检验一下同网络的连接\N{\fs12}that they verify your connection to the network.
Dialogue: 0,0:06:14.86,0:06:17.89,yin,,0,0,0,,用户可能发现自己忘记开wifi了 然后打开wifi\N{\fs12}And oh, I forgot to turn wi-fi on, they turn wi-fi on, and oh,
Dialogue: 0,0:06:17.89,0:06:20.63,yin,,0,0,0,,这时就能找到位置了\N{\fs12}now it's able to figure out their location.
Dialogue: 0,0:06:20.63,0:06:24.28,yin,,0,0,0,,否则 我们就只打算一般性地警告一下\N{\fs12}And otherwise, we're just going to generically complain.
Dialogue: 0,0:06:24.28,0:06:26.48,yin,,0,0,0,,我们无法弄清位置\N{\fs12}That we couldn't figure it out.
Dialogue: 0,0:06:26.48,0:06:28.59,yin,,0,0,0,,我这里只是想讲一下\N{\fs12}So I just wanted to show you a little bit about getting
Dialogue: 0,0:06:28.59,0:06:32.67,yin,,0,0,0,,使用didFailWithError获得错误代码\N{\fs12}that error code using this didFailWithError thing.
Dialogue: 0,0:06:32.67,0:06:34.91,yin,,0,0,0,,一般而言 课上的demo中\N{\fs12}And in general, in demos that I do in this class,
Dialogue: 0,0:06:34.91,0:06:38.33,yin,,0,0,0,,我不会检查任何错误 这是出于时间考虑\N{\fs12}obviously I hardly check any errors, it's just a time thing.
Dialogue: 0,0:06:38.33,0:06:40.46,yin,,0,0,0,,你们应该在任何获得NSError的时候\N{\fs12}You should, any time you get an NS error back,
Dialogue: 0,0:06:40.46,0:06:41.82,yin,,0,0,0,,检查它到底是什么\N{\fs12}you should go check it and see what it is,
Dialogue: 0,0:06:41.82,0:06:43.51,yin,,0,0,0,,去查查说明文档\N{\fs12}and go look in the documentation and see what kind
Dialogue: 0,0:06:43.51,0:06:45.74,yin,,0,0,0,,看你得到什么错误 怎么处理它们\N{\fs12}of errors you could get back and what you should do about them.
Dialogue: 0,0:06:45.74,0:06:46.42,yin,,0,0,0,,总记得这样做\N{\fs12}Should always do that.
Dialogue: 0,0:06:46.42,0:06:49.86,yin,,0,0,0,,我在幻灯片中强调过 错误检查非常重要\N{\fs12}I try to emphasize in the slides when errors are really important to check,
Dialogue: 0,0:06:49.87,0:06:53.46,yin,,0,0,0,,一般而言 我们总应该检查错误\N{\fs12}but in general, we should always be checking those.
Dialogue: 0,0:06:53.46,0:06:55.97,yin,,0,0,0,,这就是这里我要讲的了\N{\fs12}So that's it, that's all I wanted to show you there.
Dialogue: 0,0:06:55.97,0:06:57.77,yin,,0,0,0,,回到幻灯片\N{\fs12}So back to our slides.
Dialogue: 0,0:06:57.77,0:06:59.31,yin,,0,0,0,,这方面有问题吗\N{\fs12}Any questions about that?
Dialogue: 0,0:06:59.31,0:06:59.84,yin,,0,0,0,,请讲\N{\fs12}Yeah?
Dialogue: 0,0:07:07.33,0:07:09.96,yin,,0,0,0,,问题是 苹果是否提供服务\N{\fs12}So the question is, does Apple provide a service
Dialogue: 0,0:07:09.96,0:07:13.78,yin,,0,0,0,,让你能够对你获得的错误记录日志\N{\fs12}where you can like log the errors you get, for what purpose,
Dialogue: 0,0:07:13.78,0:07:17.31,yin,,0,0,0,,这样你就知道…\N{\fs12}to kind of so that they know what errors people are-- ?
Dialogue: 0,0:07:19.11,0:07:20.99,yin,,0,0,0,,哦 我懂你的意思了\N{\fs12}Oh, I see what you mean, so you want to--
Dialogue: 0,0:07:20.99,0:07:23.87,yin,,0,0,0,,你的app的用户有了错误\N{\fs12}you have customers for your app, and they're having errors,
Dialogue: 0,0:07:23.87,0:07:25.46,yin,,0,0,0,,你想知道这些\N{\fs12}and you want to find out about them.
Dialogue: 0,0:07:25.46,0:07:27.15,yin,,0,0,0,,苹果没有提供这种功能\N{\fs12}Apple doesn't provide that infrastructure,
Dialogue: 0,0:07:27.15,0:07:29.09,yin,,0,0,0,,不过有些第三方做了这个\N{\fs12}but there are plenty of third parties who do.
Dialogue: 0,0:07:29.09,0:07:32.18,yin,,0,0,0,,这些第三方的代码可以放到你的app中\N{\fs12}That basically provide code you put into your app
Dialogue: 0,0:07:32.18,0:07:34.22,yin,,0,0,0,,为此提供测量 不仅仅是错误\N{\fs12}that provide metrics, not just errors,
Dialogue: 0,0:07:34.22,0:07:36.02,yin,,0,0,0,,还有用户点某个键多少次\N{\fs12}but how many times did people click on this button?
Dialogue: 0,0:07:36.02,0:07:38.37,yin,,0,0,0,,用户去某个页面多少次 等等\N{\fs12}How many times did they go to this page, you know, et cetera,
Dialogue: 0,0:07:38.37,0:07:40.67,yin,,0,0,0,,你可以看到用户如何在使用你的app\N{\fs12}so you can see how people are using your app.
Dialogue: 0,0:07:40.67,0:07:42.46,yin,,0,0,0,,这其实很重要\N{\fs12}That's actually quite important.
Dialogue: 0,0:07:42.46,0:07:45.96,yin,,0,0,0,,不过显然 这不是这堂课的讨论范围\N{\fs12}Obviously beyond the scope of this app, or of this lecture,
Dialogue: 0,0:07:45.96,0:07:49.06,yin,,0,0,0,,不过我强烈建议app中进行一些测量\N{\fs12}to talk about it, but I really highly recommend putting metrics
Dialogue: 0,0:07:49.06,0:07:52.86,yin,,0,0,0,,这样你就能理解真正的用户如何使用你的app\N{\fs12}in your app so you really understand how your real users are actually using your app.
Dialogue: 0,0:07:52.86,0:07:56.21,yin,,0,0,0,,这样做工作量稍大一些 但很值得\N{\fs12}It's a little more work for you, but it's really worth it.
Dialogue: 0,0:07:56.21,0:08:00.26,yin,,0,0,0,,好 再来看摄像头\N{\fs12}Um, okay, so...the camera.
Dialogue: 0,0:08:00.26,0:08:05.86,yin,,0,0,0,,所有这些摄像头工作 以及将图像获取到app中\N{\fs12}So all this camera business and basically getting images
Dialogue: 0,0:08:05.86,0:08:09.36,yin,,0,0,0,,都由这个类完成 UIImagePickerController\N{\fs12}into your app is done with this class UIImagePickerController,
Dialogue: 0,0:08:09.36,0:08:10.57,yin,,0,0,0,,这是一个视图控制器\N{\fs12}which is a view controller.
Dialogue: 0,0:08:10.57,0:08:13.38,yin,,0,0,0,,一个UIViewController 你会把它放到屏幕上\N{\fs12}It's a UI view controller that you're going to put on screen,
Dialogue: 0,0:08:13.38,0:08:15.78,yin,,0,0,0,,可以是用模态 也可以是用弹窗\N{\fs12}either modally or in a popover,
Dialogue: 0,0:08:15.78,0:08:20.14,yin,,0,0,0,,取决于你是在iPad还是iPhone上\N{\fs12}depending on whether you're in iPad or iPhone, and you're--
Dialogue: 0,0:08:20.14,0:08:22.17,yin,,0,0,0,,这是你们第一次使用这样的视图控制器\N{\fs12}so this is the first time you're going to have a view controller
Dialogue: 0,0:08:22.17,0:08:24.11,yin,,0,0,0,,它不来自于故事板\N{\fs12}that didn't come out of a storyboard.
Dialogue: 0,0:08:24.11,0:08:26.28,yin,,0,0,0,,这个视图控制器你将需要alloc init\N{\fs12}This view controller you're going to alloc init, alright?
Dialogue: 0,0:08:26.28,0:08:28.46,yin,,0,0,0,,然后你想把它放到屏幕上\N{\fs12}And then you're going to want to put it on screen,
Dialogue: 0,0:08:28.46,0:08:31.22,yin,,0,0,0,,你需要使用几周前我讲过的这个方法\N{\fs12}so you're going to have to use this method that we did talk about weeks ago
Dialogue: 0,0:08:31.22,0:08:33.52,yin,,0,0,0,,当时我们讲到presenting view controller\N{\fs12}when we talked about presenting view controllers called
Dialogue: 0,0:08:33.52,0:08:35.74,yin,,0,0,0,,也就是presentViewController animated\N{\fs12}"present view controller, animated."
Dialogue: 0,0:08:35.74,0:08:36.65,yin,,0,0,0,,completion\N{\fs12}Completion.
Dialogue: 0,0:08:36.65,0:08:38.49,yin,,0,0,0,,它还有一个完成block\N{\fs12}It's got a completion block as well.
Dialogue: 0,0:08:38.49,0:08:41.74,yin,,0,0,0,,这就是我们把这个放到屏幕上的方式\N{\fs12}And so that's how we're going to put this thing on screen.
Dialogue: 0,0:08:41.74,0:08:44.81,yin,,0,0,0,,present视图控制器的参数是一个视图控制器\N{\fs12}And the argument to present view controller is a view controller,
Dialogue: 0,0:08:44.81,0:08:47.13,yin,,0,0,0,,不是视图控制器的故事板标识符\N{\fs12}not a storyboard identifier for a view controller,
Dialogue: 0,0:08:47.13,0:08:49.98,yin,,0,0,0,,而是视图控制器的实例\N{\fs12}but an actual instance of a view controller.
Dialogue: 0,0:08:49.98,0:08:52.29,yin,,0,0,0,,然后iPad上\N{\fs12}And then the iPad you're probably going to put
Dialogue: 0,0:08:52.29,0:08:56.24,yin,,0,0,0,,使用摄像头时可能需要模态全屏\N{\fs12}the camera-- actually the iPad you probably put the camera up full-screen modally,
Dialogue: 0,0:08:56.24,0:08:58.05,yin,,0,0,0,,如果只是查照片库\N{\fs12}if you're just looking at the photo library, you're going
Dialogue: 0,0:08:58.05,0:09:00.42,yin,,0,0,0,,你可能就只需要弹窗\N{\fs12}to probably put that up in a popover.
Dialogue: 0,0:09:00.42,0:09:02.63,yin,,0,0,0,,这如何工作呢\N{\fs12}Alright, so how does this work?
Dialogue: 0,0:09:02.63,0:09:05.62,yin,,0,0,0,,你alloc init这个UIImagePickerController\N{\fs12}You alloc and init this UIImagePickerController,
Dialogue: 0,0:09:05.62,0:09:07.68,yin,,0,0,0,,设置它的委托 这是必需的\N{\fs12}you set it's delegate, you have to set it's delegate
Dialogue: 0,0:09:07.68,0:09:09.85,yin,,0,0,0,,否则什么信息都无法得到\N{\fs12}or you're not going to get any information out of it.
Dialogue: 0,0:09:09.85,0:09:12.74,yin,,0,0,0,,然后你可以进行配置 包括摄像头\N{\fs12}Then you configure it for what you want, the camera,
Dialogue: 0,0:09:12.74,0:09:14.38,yin,,0,0,0,,或照片库这些\N{\fs12}or photo library, things like that,
Dialogue: 0,0:09:14.38,0:09:17.37,yin,,0,0,0,,是否让用户在拍照后进行编辑\N{\fs12}whether you're going to let the user edit the photo after they take it.
Dialogue: 0,0:09:17.37,0:09:21.05,yin,,0,0,0,,然后present它 监听委托 当委托告诉你\N{\fs12}Then you present it, and listen to the delegate, and when the delegate tells you
Dialogue: 0,0:09:21.05,0:09:24.02,yin,,0,0,0,,用户取消了或拍了照片\N{\fs12}that the user has either canceled or taken a photo,
Dialogue: 0,0:09:24.02,0:09:26.52,yin,,0,0,0,,如果拍了照片 你就能获得图像数据\N{\fs12}then you, if they've taken a photo you get the image data,
Dialogue: 0,0:09:26.52,0:09:29.52,yin,,0,0,0,,如果取消了 你就知道事情完了\N{\fs12}and if they cancel you're like "Okay well they're done."
Dialogue: 0,0:09:29.52,0:09:34.11,yin,,0,0,0,,在UIImagePickerController 用户可以做什么\N{\fs12}Alright? What the user can do in this UIImagePickerController,
Dialogue: 0,0:09:34.11,0:09:36.62,yin,,0,0,0,,取决于其硬件能做什么\N{\fs12}it depends on what their hardware can do.
Dialogue: 0,0:09:36.62,0:09:40.14,yin,,0,0,0,,几乎所有设备现在都有摄像头了\N{\fs12}Almost everything has a camera now, so you're usually--
Dialogue: 0,0:09:40.14,0:09:42.59,yin,,0,0,0,,这不成问题 isSourceTypeAvailable\N{\fs12}if this is going to be no problem, source type available,
Dialogue: 0,0:09:42.59,0:09:45.46,yin,,0,0,0,,摄像头 你将能够找到它\N{\fs12}camera, you're going to find it,
Dialogue: 0,0:09:45.46,0:09:47.74,yin,,0,0,0,,不过这个还是应该检查\N{\fs12}but you should always check this anyway.
Dialogue: 0,0:09:47.76,0:09:49.97,yin,,0,0,0,,养成好的习惯很有必要\N{\fs12}Just to kind of, to be good code,
Dialogue: 0,0:09:49.97,0:09:52.84,yin,,0,0,0,,你要调用UIImagePickerController\N{\fs12}you want to call this UIImagePickerController,
Dialogue: 0,0:09:52.84,0:09:54.59,yin,,0,0,0,,类方法是isSourceTypeAvailable\N{\fs12}class method is source type available,
Dialogue: 0,0:09:54.59,0:09:56.11,yin,,0,0,0,,上次的demo中我们其实做过\N{\fs12}and we actually did that in our demo last time.
Dialogue: 0,0:09:56.11,0:09:59.96,yin,,0,0,0,,记得吧 我们有一个类方法canAddPhoto\N{\fs12}Remember? We had that class method can add photo,
Dialogue: 0,0:09:59.96,0:10:01.54,yin,,0,0,0,,其中 我们检查以确保\N{\fs12}and in there we checked to make sure
Dialogue: 0,0:10:01.54,0:10:03.11,yin,,0,0,0,,摄像头实际可用\N{\fs12}that the camera was actually available,
Dialogue: 0,0:10:03.11,0:10:05.29,yin,,0,0,0,,这就是做法 用这个类方法\N{\fs12}so this is how you do it, just this class method,
Dialogue: 0,0:10:05.29,0:10:07.63,yin,,0,0,0,,来自UIImagePickerController\N{\fs12}UIImagePickerController.
Dialogue: 0,0:10:07.63,0:10:11.13,yin,,0,0,0,,知道摄像头可用之后 如果你想拍摄视频\N{\fs12}Once you know the camera is available, then if you want to take video,
Dialogue: 0,0:10:11.14,0:10:13.95,yin,,0,0,0,,那你就需要确保其摄像头可以拍视频\N{\fs12}you need to be able to make sure that camera can do video,
Dialogue: 0,0:10:13.95,0:10:17.10,yin,,0,0,0,,因为有些老设备上的摄像头不能拍视频\N{\fs12}because there are cameras in older devices that can't take video,
Dialogue: 0,0:10:17.10,0:10:18.44,yin,,0,0,0,,只能拍照片\N{\fs12}they can only take images.
Dialogue: 0,0:10:18.44,0:10:20.44,yin,,0,0,0,,做法是通过这个类方法\N{\fs12}And you do that with this class method,
Dialogue: 0,0:10:20.44,0:10:22.20,yin,,0,0,0,,availableMediaTypesForSourceType\N{\fs12}"available media types for source type,"
Dialogue: 0,0:10:22.20,0:10:23.83,yin,,0,0,0,,sourceType是摄像头\N{\fs12}and the source type is the camera.
Dialogue: 0,0:10:23.83,0:10:27.45,yin,,0,0,0,,它会告诉你 它会返回一个数组\N{\fs12}So it's going to tell you, what are, it's going to give you an array back
Dialogue: 0,0:10:27.45,0:10:29.28,yin,,0,0,0,,涉及到这个摄像头能做什么\N{\fs12}of what things this camera can do.
Dialogue: 0,0:10:29.28,0:10:32.34,yin,,0,0,0,,你会得到这两个常量或其中之一\N{\fs12}And you're only going to have one of two or both
Dialogue: 0,0:10:32.34,0:10:36.83,yin,,0,0,0,,一个是kUTTypeImage 一个是kUTTypeMovie\N{\fs12}of these two constants, UT type image, and UT type movie,
Dialogue: 0,0:10:36.83,0:10:38.76,yin,,0,0,0,,很不幸 这两个常量来自于\N{\fs12}unfortunately, these two constants come
Dialogue: 0,0:10:38.76,0:10:41.93,yin,,0,0,0,,MobileCoreServices/MobileCoreServices.h\N{\fs12}from MobileCoreServices, MobileCoreServices.h,
Dialogue: 0,0:10:41.94,0:10:43.49,yin,,0,0,0,,它们不在Foundation或UIKit中\N{\fs12}they're not in foundation or UI kits,
Dialogue: 0,0:10:43.49,0:10:46.14,yin,,0,0,0,,因此你需要明确导入这个\N{\fs12}so you have to explicitly import this thing.
Dialogue: 0,0:10:46.14,0:10:49.96,yin,,0,0,0,,你需要连入MobileCoreServices\N{\fs12}You've got to link in the MobileCoreServices,
Dialogue: 0,0:10:49.96,0:10:52.18,yin,,0,0,0,,不过在iOS7的新机制中\N{\fs12}but with the new mechanism in iOS7,
Dialogue: 0,0:10:52.18,0:10:55.00,yin,,0,0,0,,这个会自动地为你连入\N{\fs12}that should get linked in for you automatically.
Dialogue: 0,0:10:55.00,0:11:00.39,yin,,0,0,0,,很不幸 kUTTypeImage和kUTTypeMovie这两个常量\N{\fs12}And unfortunately, those two things, kUTType image and kUTType movie
Dialogue: 0,0:11:00.39,0:11:02.36,yin,,0,0,0,,并不是NSString\N{\fs12}are not NS strings,
Dialogue: 0,0:11:02.36,0:11:03.67,yin,,0,0,0,,它们是Core Foundation字符串\N{\fs12}they are core foundation strings,
Dialogue: 0,0:11:03.67,0:11:07.77,yin,,0,0,0,,几张幻灯片后 我们就会谈到如何在代码中处理这个\N{\fs12}so we'll talk about how we deal with that in our code in a couple slides here.
Dialogue: 0,0:11:07.77,0:11:11.68,yin,,0,0,0,,你还可以查到前置和后置摄像头\N{\fs12}You can also find out about front-facing versus rear-facing cameras,
Dialogue: 0,0:11:11.68,0:11:15.39,yin,,0,0,0,,硬件的各种细节内容都可以从\N{\fs12}all kinds of details about what your hardware has, just take a look
Dialogue: 0,0:11:15.39,0:11:18.88,yin,,0,0,0,,UIImagePickerController的说明文档中查到\N{\fs12}at the documentation for UIImagePickerController and you can find that all out.
Dialogue: 0,0:11:18.88,0:11:19.75,yin,,0,0,0,,有问题\N{\fs12}Is that a question?
Dialogue: 0,0:11:28.47,0:11:31.81,yin,,0,0,0,,视图控制器会提供UI\N{\fs12}Uh, the view controller will provide UI
Dialogue: 0,0:11:31.81,0:11:33.64,yin,,0,0,0,,让其从前置摄像头或后置摄像头选取\N{\fs12}for them to pick front camera or back camera,
Dialogue: 0,0:11:33.64,0:11:36.22,yin,,0,0,0,,不过你可以说 只让其自拍\N{\fs12}but you can also say only let them take a selfie, right?
Dialogue: 0,0:11:36.22,0:11:37.97,yin,,0,0,0,,你知道我说的什么吗\N{\fs12}Only for, or whatever, you know what I'm saying?
Dialogue: 0,0:11:37.97,0:11:40.19,yin,,0,0,0,,你可以这样决定 不过他们也有…\N{\fs12}You can just determine it, but they also have the--
Dialogue: 0,0:11:40.19,0:11:42.44,yin,,0,0,0,,如果你不决定 那么他们就能选择\N{\fs12}if you don't determine it, then they can choose.
Dialogue: 0,0:11:42.44,0:11:44.18,yin,,0,0,0,,答案是肯定的\N{\fs12}So the answer is yes.
Dialogue: 0,0:11:44.18,0:11:46.29,yin,,0,0,0,,好 下面这是\N{\fs12}Alright, so this is what it looks
Dialogue: 0,0:11:46.29,0:11:49.47,yin,,0,0,0,,ImagePickerController的配置\N{\fs12}like to configure the ImagePickerController here,
Dialogue: 0,0:11:49.47,0:11:51.97,yin,,0,0,0,,我创建了一个 设置了委托\N{\fs12}so I'm creating one, I'm setting my delegate,
Dialogue: 0,0:11:51.97,0:11:54.20,yin,,0,0,0,,检查源类型 看摄像头能不能…\N{\fs12}I'm checking the source type to see if the camera,
Dialogue: 0,0:11:54.20,0:11:57.42,yin,,0,0,0,,这里我要用视频 因此我要确保\N{\fs12}I want to do video here, so I'm going to make sure
Dialogue: 0,0:11:57.42,0:12:00.34,yin,,0,0,0,,它能拍视频 如果能拍 那就好了\N{\fs12}that it does video, and if it does, I'm ready to go.
Dialogue: 0,0:12:00.34,0:12:02.22,yin,,0,0,0,,这里是用一些代码\N{\fs12}So that's a summary of what I just said,
Dialogue: 0,0:12:02.22,0:12:05.49,yin,,0,0,0,,总结了一下我刚讲的几张幻灯片\N{\fs12}kind of in-code what I just said on the last few slides.
Dialogue: 0,0:12:05.49,0:12:11.49,yin,,0,0,0,,下面我们来谈谈kUTTypeImage和kUTTypeMovie\N{\fs12}Um, so let's talk about that kUTType movie and kUTType image,
Dialogue: 0,0:12:11.49,0:12:13.71,yin,,0,0,0,,它们是CFString\N{\fs12}they are CF strings.
Dialogue: 0,0:12:13.71,0:12:16.31,yin,,0,0,0,,你可以把它们转为NSString\N{\fs12}You can just cast them to NS strings.
Dialogue: 0,0:12:16.31,0:12:21.94,yin,,0,0,0,,Core Foundation和你们更熟悉的Foundation间\N{\fs12}There is a bridging mechanism between core foundation and foundation,
Dialogue: 0,0:12:21.94,0:12:23.18,yin,,0,0,0,,有很好的桥梁机制\N{\fs12}which is what you're used to.
Dialogue: 0,0:12:23.18,0:12:26.86,yin,,0,0,0,,这里在iOS6或7中 你可以进行强制类型转换\N{\fs12}And so you can just put this cast in here, and in iOS6 or 7,
Dialogue: 0,0:12:26.86,0:12:29.03,yin,,0,0,0,,这里可以自动给你转换类型\N{\fs12}they introduced a thing where it will even do this bridging
Dialogue: 0,0:12:29.03,0:12:32.55,yin,,0,0,0,,这里可以自动给你转换类型\N{\fs12}for you automatically in terms of arc and all that,
Dialogue: 0,0:12:32.55,0:12:34.64,yin,,0,0,0,,这里可以直接转换\N{\fs12}so you just need to cast that, it's just something you need
Dialogue: 0,0:12:34.64,0:12:39.81,yin,,0,0,0,,只需要将NSString *放到那两个之前即可\N{\fs12}to know, is to put the NS string star in front of those two types.
Dialogue: 0,0:12:39.81,0:12:42.86,yin,,0,0,0,,可编辑性 用户用摄像头拍照时\N{\fs12}Alright, editability-- so when someone takes a picture with the camera,
Dialogue: 0,0:12:42.86,0:12:44.21,yin,,0,0,0,,可以放大\N{\fs12}they can actually zoom in on it,
Dialogue: 0,0:12:44.21,0:12:47.06,yin,,0,0,0,,选择图像的某一部分\N{\fs12}and move around and pick what part of the image they want
Dialogue: 0,0:12:47.06,0:12:49.78,yin,,0,0,0,,并汇报回app 如果你允许的话\N{\fs12}to report back to your app, if you allow that.
Dialogue: 0,0:12:49.78,0:12:52.05,yin,,0,0,0,,允许这个需要使用allowsEditing\N{\fs12}And you have to allow that by saying allows editing
Dialogue: 0,0:12:52.05,0:12:54.65,yin,,0,0,0,,用到UIImagePickerController实例\N{\fs12}to your UIImagePickerController instance,
Dialogue: 0,0:12:54.65,0:12:57.87,yin,,0,0,0,,你还可以限制视频捕捉\N{\fs12}and you can also do things like limit the video capture
Dialogue: 0,0:12:57.87,0:13:01.92,yin,,0,0,0,,让其只能低画质拍摄 或是只能拍摄特定秒数\N{\fs12}to be low resolution or only a certain number of seconds, things like that.
Dialogue: 0,0:13:01.92,0:13:05.70,yin,,0,0,0,,UIImagePicker中的细节我不打算一一讲到\N{\fs12}So I'm not going to go through every single thing you can do in UIImagePicker,
Dialogue: 0,0:13:05.70,0:13:08.26,yin,,0,0,0,,不过flash方面 还有很多事情你可以做\N{\fs12}but there's tons and tons of stuff you can do with flash,
Dialogue: 0,0:13:08.26,0:13:10.83,yin,,0,0,0,,你可以控制很多东西\N{\fs12}all these other things you can control.
Dialogue: 0,0:13:10.83,0:13:14.83,yin,,0,0,0,,有了这个UIImagePickerController\N{\fs12}So then, you have this UIImagePickerController
Dialogue: 0,0:13:14.83,0:13:19.61,yin,,0,0,0,,你可以将自己实例化为它的委托 然后你可以present它\N{\fs12}that you've instantiated yourself as the delegate of, now you present it.
Dialogue: 0,0:13:19.61,0:13:24.17,yin,,0,0,0,,在iPad上 如果你没有提供摄像头\N{\fs12}And so on the iPad, if you're not offering the camera,
Dialogue: 0,0:13:24.17,0:13:27.26,yin,,0,0,0,,如果你… 抱歉 这里我们有些掩盖了真相\N{\fs12}so if you're-- sorry, we kind of glossed over this a little bit--
Dialogue: 0,0:13:27.26,0:13:30.46,yin,,0,0,0,,你可以让用户用摄像头拍照\N{\fs12}you can offer to get a picture from the camera,
Dialogue: 0,0:13:30.46,0:13:35.18,yin,,0,0,0,,也可以让用户从照片库中选照片\N{\fs12}or you can also offer the user to have a picture come from their photo library.
Dialogue: 0,0:13:35.18,0:13:39.38,yin,,0,0,0,,这就是设备上app中的管理方式\N{\fs12}Which is this thing they manage in app on their device.
Dialogue: 0,0:13:39.38,0:13:41.24,yin,,0,0,0,,你可以选两者或其中之一\N{\fs12}And so you can kind of pick either or both.
Dialogue: 0,0:13:41.24,0:13:43.40,yin,,0,0,0,,在iPhone上 你可以同时要两者\N{\fs12}On the iPhone, you can ask for both at the same time,
Dialogue: 0,0:13:43.40,0:13:47.49,yin,,0,0,0,,它会给出一个UI 用户可以在两者中进行选择\N{\fs12}so it will put up a UI where you can kind of-- the user can pick between the two.
Dialogue: 0,0:13:47.49,0:13:49.33,yin,,0,0,0,,在iPad上 你不会这样做\N{\fs12}On the iPad you don't do it that way.
Dialogue: 0,0:13:49.33,0:13:51.85,yin,,0,0,0,,在iPad上 要么是摄像头 要么是照片库\N{\fs12}On the iPad it's camera or photo library
Dialogue: 0,0:13:51.85,0:13:54.43,yin,,0,0,0,,因为照片库会放到弹窗中\N{\fs12}because the photo library you're going to bring up in a popover,
Dialogue: 0,0:13:54.43,0:13:57.00,yin,,0,0,0,,而摄像头则是全屏模态\N{\fs12}the camera you're probably going to do full-screen modal.
Dialogue: 0,0:13:57.00,0:14:00.87,yin,,0,0,0,,这就是通常不把两者同时混起来的原因\N{\fs12}So that's why you're usually not mixing them at the same time.
Dialogue: 0,0:14:00.87,0:14:04.88,yin,,0,0,0,,用户用摄像头拍照或是从照片库中选择照片后\N{\fs12}After the user has chosen a photo from by using the camera
Dialogue: 0,0:14:04.88,0:14:06.46,yin,,0,0,0,,用户用摄像头拍照或是从照片库中选择照片后\N{\fs12}or from their photo library,
Dialogue: 0,0:14:06.46,0:14:09.32,yin,,0,0,0,,你就会得到这个委托方法 imagePickerController\N{\fs12}you're going to get this delegate method, ImagePickerController,
Dialogue: 0,0:14:09.32,0:14:11.67,yin,,0,0,0,,didFinishPickingMediaWithInfo\N{\fs12}didFinishPickingMediaWithInfo.
Dialogue: 0,0:14:11.67,0:14:16.01,yin,,0,0,0,,然后你就要消掉那个视图控制器\N{\fs12}And you are then going to dismiss that view controller.
Dialogue: 0,0:14:16.01,0:14:20.22,yin,,0,0,0,,你需要手动消掉它\N{\fs12}So you have to manually dismiss it right here,
Dialogue: 0,0:14:20.22,0:14:21.96,yin,,0,0,0,,在消掉它之前\N{\fs12}but before you dismiss it, you're going to look
Dialogue: 0,0:14:21.96,0:14:25.35,yin,,0,0,0,,你需要看刚刚传递的信息字典\N{\fs12}into that dictionary that just passed, this info dictionary,
Dialogue: 0,0:14:25.35,0:14:30.32,yin,,0,0,0,,并获得关于摄像头的信息 关于用户拍了什么照片等等\N{\fs12}and get the information about what camera, what picture they took or whatever.
Dialogue: 0,0:14:30.32,0:14:32.92,yin,,0,0,0,,如果用户点了摄像头上的取消\N{\fs12}If they didn't, if they hit cancel on the camera,
Dialogue: 0,0:14:32.92,0:14:35.70,yin,,0,0,0,,那你就会得到imagePickerControllerDidCancel\N{\fs12}then you're just going to get this imagePickerControllerDidCancel,
Dialogue: 0,0:14:35.70,0:14:37.46,yin,,0,0,0,,这样就没有信息字典\N{\fs12}and there's no info dictionary there,
Dialogue: 0,0:14:37.46,0:14:39.54,yin,,0,0,0,,你无法获悉任何关于照片的信息\N{\fs12}so you don't get to find anything about the photo.
Dialogue: 0,0:14:40.48,0:14:42.95,yin,,0,0,0,,如果是在弹窗中 你就需要使用\N{\fs12}Again, if you're in a popover, you're going to use the
Dialogue: 0,0:14:42.95,0:14:45.68,yin,,0,0,0,,弹窗的didDismissPopover…委托方法\N{\fs12}popover did dismiss popover business,
Dialogue: 0,0:14:45.68,0:14:48.45,yin,,0,0,0,,你会做相同的事情\N{\fs12}you'll do the same thing.
Dialogue: 0,0:14:48.45,0:14:50.95,yin,,0,0,0,,返回的字典中有些什么呢\N{\fs12}So what's in that dictionary that you get back?
Dialogue: 0,0:14:50.95,0:14:53.44,yin,,0,0,0,,如果用户didFinishPickingMediaWithInfo\N{\fs12}So if the user did finish picking with info,
Dialogue: 0,0:14:53.44,0:14:54.62,yin,,0,0,0,,其中有什么呢\N{\fs12}what's in it,
Dialogue: 0,0:14:54.62,0:14:56.41,yin,,0,0,0,,有用户拍的照片\N{\fs12}there's the image that they took.
Dialogue: 0,0:14:56.41,0:14:59.45,yin,,0,0,0,,包括放大和裁剪后的图像\N{\fs12}Both the edited image, if they zoomed in and cropped it,
Dialogue: 0,0:14:59.45,0:15:01.36,yin,,0,0,0,,和没有编辑的原图\N{\fs12}and the original image, if they didn't--
Dialogue: 0,0:15:01.36,0:15:03.63,yin,,0,0,0,,和没有编辑的原图\N{\fs12}whether they did or not, the original image is in there.
Dialogue: 0,0:15:03.63,0:15:08.28,yin,,0,0,0,,如果有裁剪 它会告诉你是沿图像内哪个矩形裁剪的\N{\fs12}If they cropped it, it will tell you the rectangle inside the image that they cropped to.
Dialogue: 0,0:15:08.28,0:15:13.95,yin,,0,0,0,,如果是视频 你会得到视频文件的URL\N{\fs12}If it's a video, you're going to get a URL to a file, with the video in there.
Dialogue: 0,0:15:13.95,0:15:17.39,yin,,0,0,0,,这就是你得到视频的方式 文件URL\N{\fs12}So that's how video comes back to you, as a URL to some file.
Dialogue: 0,0:15:17.39,0:15:21.25,yin,,0,0,0,,得到了这些图像 如果你想保存它们\N{\fs12}And you can, if you get these images, and you want
Dialogue: 0,0:15:21.25,0:15:23.72,yin,,0,0,0,,例如存到用户的照片库\N{\fs12}to save them, like in the user's photo library,
Dialogue: 0,0:15:23.72,0:15:26.48,yin,,0,0,0,,这是ALAssetsLibrary中的API\N{\fs12}that's--  API is in AL assets library.
Dialogue: 0,0:15:26.48,0:15:28.46,yin,,0,0,0,,我不打算讲这个 不过API就在这里\N{\fs12}Not going to cover that, but that's where the API is,
Dialogue: 0,0:15:28.46,0:15:32.39,yin,,0,0,0,,如果你想把用户拍的照片存入到照片库\N{\fs12}if you want to save it into their photo library. Some picture they've taken.
Dialogue: 0,0:15:32.39,0:15:33.86,yin,,0,0,0,,和Photomania中一样 我们不打算做这个\N{\fs12}Like in PhotoMania, we're not going to do that,
Dialogue: 0,0:15:33.86,0:15:37.20,yin,,0,0,0,,我们会把它存入我们自己的数据库\N{\fs12}we're actually going to save it into our own database, but--
Dialogue: 0,0:15:37.20,0:15:40.55,yin,,0,0,0,,而且我们会把图像存入我们的文档目录\N{\fs12}and we're going to save our image into our documents directory,
Dialogue: 0,0:15:40.55,0:15:43.78,yin,,0,0,0,,不过我们也可以在照片库中做些什么\N{\fs12}but we could put things in the photo library as well.
Dialogue: 0,0:15:43.78,0:15:48.55,yin,,0,0,0,,摄像头可以有一个覆盖视图在它之上\N{\fs12}The camera can have an overlay view on top of it.
Dialogue: 0,0:15:48.55,0:15:50.46,yin,,0,0,0,,这是在它之上的视图\N{\fs12}This is a view that sits on top of it.
Dialogue: 0,0:15:50.46,0:15:52.55,yin,,0,0,0,,你还可以提供你自己的按钮\N{\fs12}You can even provide your own buttons for like
Dialogue: 0,0:15:52.55,0:15:55.28,yin,,0,0,0,,用于"拍照"这些\N{\fs12}"take picture" and things like that.
Dialogue: 0,0:15:55.28,0:15:57.98,yin,,0,0,0,,这只是一个视图\N{\fs12}This is just a view,
Dialogue: 0,0:15:57.98,0:16:01.27,yin,,0,0,0,,你还可以得到这个变形 看到底部了吗\N{\fs12}and you also are going to get this transform, see at the bottom there?
Dialogue: 0,0:16:01.27,0:16:03.47,yin,,0,0,0,,cameraViewTransform\N{\fs12}Camera view transform,
Dialogue: 0,0:16:03.47,0:16:09.25,yin,,0,0,0,,有时你可能希望用户拍的照片放大到全屏\N{\fs12}in case you want the image that the person's taking, for example, to be scaled
Dialogue: 0,0:16:09.25,0:16:13.92,yin,,0,0,0,,因为手机本身的纵横比有可能不同于照片\N{\fs12}up to full screen, because the aspect ratio of the phone
Dialogue: 0,0:16:13.92,0:16:16.94,yin,,0,0,0,,这样它就不能全屏显示\N{\fs12}itself is not the same as the camera, so it won't be full screen.
Dialogue: 0,0:16:16.94,0:16:18.65,yin,,0,0,0,,旁边会看到边框\N{\fs12}You'll see there will kind of be some borders around it,
Dialogue: 0,0:16:18.65,0:16:22.72,yin,,0,0,0,,有些人喜欢放大到全屏 这时可以变形\N{\fs12}when people like to zoom it up to full screen, you could do the transform to do that.
Dialogue: 0,0:16:22.72,0:16:24.43,yin,,0,0,0,,如果在覆盖视图中\N{\fs12}If, in your overlay view,
Dialogue: 0,0:16:24.43,0:16:26.32,yin,,0,0,0,,你要提供"拍照"按钮\N{\fs12}you provide the "take picture" button,
Dialogue: 0,0:16:26.32,0:16:28.88,yin,,0,0,0,,那么你就要说 "显示摄像头控制 不"\N{\fs12}then you want to say "show camera controls, no"
Dialogue: 0,0:16:28.88,0:16:31.44,yin,,0,0,0,,否则你就会从iOS获得拍照按钮\N{\fs12}otherwise you'll have the take picture button from iOS
Dialogue: 0,0:16:31.44,0:16:33.84,yin,,0,0,0,,还有你自己的拍照按钮\N{\fs12}and also your own take picture button.
Dialogue: 0,0:16:33.84,0:16:37.53,yin,,0,0,0,,覆盖 你们也可以离线去看这些\N{\fs12}So overlays, you can look those up offline as well.
Dialogue: 0,0:16:37.53,0:16:39.58,yin,,0,0,0,,demo中我不打算考虑\N{\fs12}We're not going to do those in the demo.
Dialogue: 0,0:16:39.58,0:16:43.64,yin,,0,0,0,,让我们把拍照这个环节加到Photomania中\N{\fs12}Let's go ahead and add this photo taking to PhotoMania.
Dialogue: 0,0:16:43.64,0:16:49.93,yin,,0,0,0,,这个动作表单 看看时间够不够再作考虑\N{\fs12}And this action sheet thing, we'll see how the time goes, whether we do the action sheet.
Dialogue: 0,0:16:49.93,0:16:51.93,yin,,0,0,0,,这是我们的Photomania\N{\fs12}Alright, so here we are in PhotoMania,
Dialogue: 0,0:16:51.93,0:16:57.11,yin,,0,0,0,,记得吧 让我们到这里\N{\fs12}and if you remember here, let's go ahead and go over here...
Dialogue: 0,0:16:57.12,0:17:02.29,yin,,0,0,0,,回想一下它是怎样的\N{\fs12}and remind ourselves what it looked like right now...
Dialogue: 0,0:17:11.45,0:17:16.50,yin,,0,0,0,,这是My Photos 我们还没有拍任何照片\N{\fs12}So we have our photos here, we haven't taken any photos yet.
Dialogue: 0,0:17:16.50,0:17:18.81,yin,,0,0,0,,但愿这是在后台加载\N{\fs12}Hopefully, this is probably loading in the background
Dialogue: 0,0:17:18.81,0:17:21.38,yin,,0,0,0,,好 有了 从Flickr\N{\fs12}as well, yeah, there it is, from Flickr.
Dialogue: 0,0:17:21.38,0:17:24.56,yin,,0,0,0,,看My Photos 里面什么都还没有\N{\fs12}But if I look at my photos, I can see I don't have any,
Dialogue: 0,0:17:24.56,0:17:26.02,yin,,0,0,0,,不过右上角有相机\N{\fs12}but I have the camera in the corner, so I'm going
Dialogue: 0,0:17:26.02,0:17:28.51,yin,,0,0,0,,点它 我们把照片放进来\N{\fs12}to press the camera, we put that photo in.
Dialogue: 0,0:17:28.51,0:17:30.28,yin,,0,0,0,,这里可以看到提示说\N{\fs12}And see you notice it saying "PhotoMania would
Dialogue: 0,0:17:30.28,0:17:32.56,yin,,0,0,0,,Photomania要使用当前位置\N{\fs12}like to use your current location" okay?
Dialogue: 0,0:17:32.56,0:17:34.86,yin,,0,0,0,,我点OK 如果我说不\N{\fs12}And I'm going to say "Ok," if I said "no,"
Dialogue: 0,0:17:34.86,0:17:39.84,yin,,0,0,0,,这里或许就会出现致命错误 说我无法拍照\N{\fs12}we probably would have to put up this fatal error that says you can't take a picture.
Dialogue: 0,0:17:39.84,0:17:42.84,yin,,0,0,0,,这里我们想这样 看到拍照按钮了吗\N{\fs12}And what we want to do here is you see the "take photo" button?
Dialogue: 0,0:17:42.84,0:17:44.97,yin,,0,0,0,,我想按那个拍照按钮时\N{\fs12}I want to be able to press that "take photo" button
Dialogue: 0,0:17:44.97,0:17:47.92,yin,,0,0,0,,UIImagePickerController出现\N{\fs12}and have this UIImagePickerController come up.
Dialogue: 0,0:17:47.92,0:17:52.41,yin,,0,0,0,,这就是我们接下来要做的事\N{\fs12}So that's what we're going to do next.
Dialogue: 0,0:17:52.41,0:17:55.46,yin,,0,0,0,,拍照 我们其实已经关联起来了\N{\fs12}Alright, so take photo, we actually wired that up
Dialogue: 0,0:17:55.46,0:17:59.25,yin,,0,0,0,,在我们最开始的时候 放到哪里了\N{\fs12}when we very first started here, where did we put it?
Dialogue: 0,0:17:59.25,0:18:01.98,yin,,0,0,0,,在这里\N{\fs12}It is right...here.
Dialogue: 0,0:18:01.98,0:18:04.05,yin,,0,0,0,,它现在什么都做不了\N{\fs12}And it doesn't do anything right now.
Dialogue: 0,0:18:04.05,0:18:05.51,yin,,0,0,0,,这里我们需要做什么呢\N{\fs12}So what do we need to do here?
Dialogue: 0,0:18:05.51,0:18:07.50,yin,,0,0,0,,刚才幻灯片里我讲的所有那些事情\N{\fs12}All those things I just told you in this slide.
Dialogue: 0,0:18:07.50,0:18:10.65,yin,,0,0,0,,我们说 UIImagePickerController\N{\fs12}So let's do a UIImagePickerController,
Dialogue: 0,0:18:10.65,0:18:13.21,yin,,0,0,0,,uiipc\N{\fs12}UIImagePickerController, UI,
Dialogue: 0,0:18:13.21,0:18:18.44,yin,,0,0,0,,= UIImagePickerController alloc init\N{\fs12}image picker controller equals UIImagePickerController, alloc init.
Dialogue: 0,0:18:18.44,0:18:20.27,yin,,0,0,0,,这里只是alloc init\N{\fs12}So we just alloc init,
Dialogue: 0,0:18:20.27,0:18:23.95,yin,,0,0,0,,不需在初始化时指定任何其它东西\N{\fs12}there is no other thing we specify when we initialize it,
Dialogue: 0,0:18:23.95,0:18:25.57,yin,,0,0,0,,我们只需要做这些\N{\fs12}that's all we need to do.
Dialogue: 0,0:18:25.59,0:18:29.85,yin,,0,0,0,,然后 我们只需要设置这个UIImagePickerController\N{\fs12}And then we just need to set up this UIImagePickerController
Dialogue: 0,0:18:29.85,0:18:32.63,yin,,0,0,0,,来指定我们的选项\N{\fs12}to specify any options we have.
Dialogue: 0,0:18:32.63,0:18:37.19,yin,,0,0,0,,我们还需要把自己设置为委托\N{\fs12}And we also need to set ourselves as the delegate.
Dialogue: 0,0:18:37.19,0:18:38.55,yin,,0,0,0,,首先来做这个\N{\fs12}So I'm going to do that first.
Dialogue: 0,0:18:38.55,0:18:40.94,yin,,0,0,0,,你会看到这里很有趣\N{\fs12}And you're going to see something interesting about this.
Dialogue: 0,0:18:40.94,0:18:43.38,yin,,0,0,0,,我们知道 将自己设为委托后\N{\fs12}So we know that as soon as we set ourselves as a delegate,
Dialogue: 0,0:18:43.38,0:18:45.65,yin,,0,0,0,,我们会得到这个警告说\N{\fs12}we're going to get this warning that says
Dialogue: 0,0:18:45.66,0:18:49.10,yin,,0,0,0,,我们没有实现UIImagePickerControllerDelegate方法\N{\fs12}we don't implement the UIImagePickerControllerDelegate method.
Dialogue: 0,0:18:49.10,0:18:51.46,yin,,0,0,0,,注意 它还说 我们没有实现\N{\fs12}Notice it also says we don't implement the
Dialogue: 0,0:18:51.46,0:18:54.25,yin,,0,0,0,,UINavigationControllerDelegate\N{\fs12}UINavigationControllerDelegate.
Dialogue: 0,0:18:54.25,0:18:57.65,yin,,0,0,0,,对于UIImagePickerController 这很奇怪\N{\fs12}This is kind of a weird thing about the UIImagePickerController,
Dialogue: 0,0:18:57.65,0:19:00.78,yin,,0,0,0,,它继承自UINavigationController\N{\fs12}it inherits from UINavigationController,
Dialogue: 0,0:19:00.78,0:19:04.38,yin,,0,0,0,,因此它继承了那个委托方法 因此它需要\N{\fs12}so it inherits that delegate method, and so it requires
Dialogue: 0,0:19:04.38,0:19:07.67,yin,,0,0,0,,你成为两者的委托\N{\fs12}that you be a delegate for both.
Dialogue: 0,0:19:07.67,0:19:10.60,yin,,0,0,0,,因此我需要是NavigationControllerDelegate\N{\fs12}So I have to be NavigationControllerDelegate,
Dialogue: 0,0:19:10.60,0:19:13.83,yin,,0,0,0,,同时还是ImagePickerControllerDelegate\N{\fs12}and I have to be the ImagePickerControllerDelegate.
Dialogue: 0,0:19:13.83,0:19:17.15,yin,,0,0,0,,这两者都没有任何必需的方法\N{\fs12}Now neither of those things have any mandatory methods,
Dialogue: 0,0:19:17.15,0:19:21.08,yin,,0,0,0,,义务并不繁重 不过对于这个错误 很多人都会说\N{\fs12}so it's not that onerous but this is just an error that a lot of people are like, "Huh?
Dialogue: 0,0:19:21.08,0:19:22.26,yin,,0,0,0,,为什么要说这个\N{\fs12}Why is it saying that?"
Dialogue: 0,0:19:22.26,0:19:24.98,yin,,0,0,0,,这是UIImagePickerController方面很奇特的一点\N{\fs12}It's just a weird thing about UIImagePickerController,
Dialogue: 0,0:19:24.98,0:19:27.10,yin,,0,0,0,,你需要成为NavigationControllerDelegate\N{\fs12}you have to be a NavigationControllerDelegate.
Dialogue: 0,0:19:27.10,0:19:28.86,yin,,0,0,0,,你不需要实现任何方法\N{\fs12}You're not going to implement any of those methods,
Dialogue: 0,0:19:28.86,0:19:32.88,yin,,0,0,0,,你只需要实现那个协议\N{\fs12}just have to say you do implement that protocol.
Dialogue: 0,0:19:32.88,0:19:34.85,yin,,0,0,0,,现在 我们是委托\N{\fs12}So now we're the delegate, and we're going
Dialogue: 0,0:19:34.85,0:19:37.78,yin,,0,0,0,,我们等下会实现一些方法\N{\fs12}to implement a couple of those methods in a minute, but first,
Dialogue: 0,0:19:37.78,0:19:40.75,yin,,0,0,0,,不过首先 我要完成这个的配置\N{\fs12}I'm going to finish configuring this thing.
Dialogue: 0,0:19:40.75,0:19:41.72,yin,,0,0,0,,我还要做什么\N{\fs12}So what else am I going to do?
Dialogue: 0,0:19:41.72,0:19:44.86,yin,,0,0,0,,我要说 我想要怎样的媒体类型\N{\fs12}Well, I'm going to say what media types I want,
Dialogue: 0,0:19:44.86,0:19:48.54,yin,,0,0,0,,我唯一想要的媒体类型是图像\N{\fs12}and the only media type I want is an image.
Dialogue: 0,0:19:48.54,0:19:57.78,yin,,0,0,0,,我不需要视频 这里是kUTTypeImage\N{\fs12}I don't want video, so, kUTType what's it called, image? Image. Yeah.
Dialogue: 0,0:19:57.78,0:19:59.82,yin,,0,0,0,,这是一个数组\N{\fs12}So this is an array,
Dialogue: 0,0:19:59.83,0:20:04.00,yin,,0,0,0,,不过这里只有这一个东西 我进行了这个奇特的类型转换\N{\fs12}but the only one I'm putting in there is this one thing, and I'm doing this weird cast.
Dialogue: 0,0:20:04.00,0:20:07.62,yin,,0,0,0,,然后 这里我还要设置什么呢\N{\fs12}And then what else do I want to set up here?
Dialogue: 0,0:20:07.62,0:20:11.90,yin,,0,0,0,,我想要设置源类型 这里我要的是摄像头\N{\fs12}I want to set up the source type, which is I want the camera.
Dialogue: 0,0:20:11.90,0:20:17.95,yin,,0,0,0,,这是ImagePickerControllerSourceTypeCamera\N{\fs12}So this is ImagePickerController, SourceType, Camera.
Dialogue: 0,0:20:17.95,0:20:21.19,yin,,0,0,0,,这里我还可以说 竖线\N{\fs12}Now, I could also say here vertical bar
Dialogue: 0,0:20:21.19,0:20:25.38,yin,,0,0,0,,UIImagePickerSourceTypePhotoLibrary\N{\fs12}UIImagePicker SourceType PhotoLibrary.
Dialogue: 0,0:20:25.38,0:20:27.01,yin,,0,0,0,,在iPhone上 这没问题\N{\fs12}On the iPhone this would be fine,
Dialogue: 0,0:20:27.01,0:20:29.72,yin,,0,0,0,,UI可以让我选择这两个地方的任一个\N{\fs12}where the UI would let me choose from either of these two places.
Dialogue: 0,0:20:29.72,0:20:31.95,yin,,0,0,0,,我的demo机器上没有照片库\N{\fs12}I don't have anything in my photo library on my demo
Dialogue: 0,0:20:31.95,0:20:33.54,yin,,0,0,0,,这里可以说是有些浪费\N{\fs12}machine, so it's kind of a waste.
Dialogue: 0,0:20:33.54,0:20:35.63,yin,,0,0,0,,iPad上 我就需要分开做两个UI了\N{\fs12}And on the iPad I would have to do two separate UIs,
Dialogue: 0,0:20:35.63,0:20:38.34,yin,,0,0,0,,我就不能这样做了\N{\fs12}so I couldn't really do that there anyway.
Dialogue: 0,0:20:38.34,0:20:42.24,yin,,0,0,0,,我还要允许编辑 为什么不呢\N{\fs12}I'm also going to allow editing, why not?
Dialogue: 0,0:20:42.24,0:20:44.92,yin,,0,0,0,,allowsEditing = YES\N{\fs12}Allows editing equals yes, so that allows me to crop
Dialogue: 0,0:20:44.92,0:20:48.37,yin,,0,0,0,,这让我能对图像进行裁剪和缩放\N{\fs12}and zoom in, allows the user to crop and zoom in on the image.
Dialogue: 0,0:20:48.37,0:20:49.09,yin,,0,0,0,,就这些了\N{\fs12}And that's it.
Dialogue: 0,0:20:49.09,0:20:55.53,yin,,0,0,0,,然后我只需要使用presentViewController\N{\fs12}And now I just do this PresentViewController.
Dialogue: 0,0:20:55.53,0:20:57.43,yin,,0,0,0,,animated:YES\N{\fs12}Animated, yes.
Dialogue: 0,0:20:57.43,0:20:59.71,yin,,0,0,0,,completion 这个完成block\N{\fs12}Completion-- completion block, again,
Dialogue: 0,0:20:59.71,0:21:04.57,yin,,0,0,0,,会在viewDidAppear发生时立刻被调用 换言之\N{\fs12}it would get called as soon as the view did appear happened, so in other words,
Dialogue: 0,0:21:04.57,0:21:06.22,yin,,0,0,0,,它一到屏幕上 这个就会被调用\N{\fs12}once it was on screen, this would get called,
Dialogue: 0,0:21:06.22,0:21:08.21,yin,,0,0,0,,我甚至不需要做任何事情\N{\fs12}I don't need to do anything then.
Dialogue: 0,0:21:08.21,0:21:09.89,yin,,0,0,0,,这就完成了\N{\fs12}So we're done.
Dialogue: 0,0:21:09.89,0:21:13.41,yin,,0,0,0,,这会导致一个模态视图控制器出现\N{\fs12}So this is going to cause a modal view controller
Dialogue: 0,0:21:13.41,0:21:17.38,yin,,0,0,0,,它会占据屏幕 这将是相机\N{\fs12}to appear, and it takes over the screen, and it's going to be the camera,
Dialogue: 0,0:21:17.39,0:21:21.40,yin,,0,0,0,,用户可以选择是使用拍摄的照片\N{\fs12}and the user's either going to have the option of using the photo they take
Dialogue: 0,0:21:21.40,0:21:22.70,yin,,0,0,0,,还是点取消\N{\fs12}or hitting cancel.
Dialogue: 0,0:21:22.70,0:21:24.20,yin,,0,0,0,,两种情况我们都要处理\N{\fs12}So we have to handle both those cases.
Dialogue: 0,0:21:24.20,0:21:28.23,yin,,0,0,0,,首先来看取消这种情况 因为这很简单\N{\fs12}So let's do the cancel case first, because it's really easy.
Dialogue: 0,0:21:28.23,0:21:33.92,yin,,0,0,0,,我们可以用这个来做到\N{\fs12}And we do that with this one right here...this is right here,
Dialogue: 0,0:21:33.92,0:21:35.36,yin,,0,0,0,,imagePickerControllerDidCancel\N{\fs12}ImagePickerController DidCancel.
Dialogue: 0,0:21:35.36,0:21:38.62,yin,,0,0,0,,这里只有两个方法 有一个已经过时\N{\fs12}You can see there's only two methods here, there's an old deprecated one there,
Dialogue: 0,0:21:38.62,0:21:39.65,yin,,0,0,0,,这里只有两个方法 有一个已经过时\N{\fs12}but there's only these two.
Dialogue: 0,0:21:39.65,0:21:41.55,yin,,0,0,0,,我们将会实现这两个\N{\fs12}Those are the two we're going to implement.
Dialogue: 0,0:21:41.55,0:21:45.43,yin,,0,0,0,,在取消中 我们只需要消掉这个东西\N{\fs12}So in cancel, our only responsibility is to dismiss this thing.
Dialogue: 0,0:21:45.43,0:21:47.98,yin,,0,0,0,,因为我们不打算使用照片这些\N{\fs12}Because we're not going to use the photo or anything like that,
Dialogue: 0,0:21:47.98,0:21:50.63,yin,,0,0,0,,因此这里说dismiss…:YES 还是completion\N{\fs12}so I'm going to say dismiss, yes, completion again,
Dialogue: 0,0:21:50.63,0:21:52.94,yin,,0,0,0,,这里我不需要完成处理器\N{\fs12}I don't need the completion handler there.
Dialogue: 0,0:21:52.94,0:21:54.62,yin,,0,0,0,,这个很简单\N{\fs12}So that's an easy one.
Dialogue: 0,0:21:54.62,0:21:57.11,yin,,0,0,0,,然后是另一个\N{\fs12}And then the other one,
Dialogue: 0,0:21:57.11,0:22:01.27,yin,,0,0,0,,这个 这是didFinishPickingMediaWithInfo\N{\fs12}this guy...this is the DidFinishPickingMedia WithInfo,
Dialogue: 0,0:22:01.27,0:22:03.64,yin,,0,0,0,,我们有这个字典\N{\fs12}so we've got this dictionary right here,
Dialogue: 0,0:22:03.65,0:22:07.15,yin,,0,0,0,,提供用户选择的照片的信息\N{\fs12}that provides the information about the photo that the user chose.
Dialogue: 0,0:22:07.15,0:22:09.19,yin,,0,0,0,,这里用户确实选择了照片\N{\fs12}So the user did choose a photo in this case.
Dialogue: 0,0:22:09.19,0:22:10.15,yin,,0,0,0,,这个也很简单\N{\fs12}So this one's easy too.
Dialogue: 0,0:22:10.15,0:22:12.46,yin,,0,0,0,,我们只需要说image =\N{\fs12}We're just going to say image equals
Dialogue: 0,0:22:12.46,0:22:18.71,yin,,0,0,0,,info[UIImagePickerControllerEditedImage]\N{\fs12}info UIImagePickerController, edited image.
Dialogue: 0,0:22:18.71,0:22:22.89,yin,,0,0,0,,这是到这个字典中的键\N{\fs12}So this is a key into this dictionary.
Dialogue: 0,0:22:22.89,0:22:27.76,yin,,0,0,0,,这是编辑过的图像 UIImage被用户编辑过\N{\fs12}Right? And that's the edited image, the UI image the user edited.
Dialogue: 0,0:22:27.76,0:22:30.92,yin,,0,0,0,,我还要说 if (!image)\N{\fs12}Now, I'm also going to say if not image,
Dialogue: 0,0:22:30.92,0:22:32.51,yin,,0,0,0,,那么image就等于\N{\fs12}then the image equals
Dialogue: 0,0:22:32.51,0:22:36.94,yin,,0,0,0,,info[UIImagePickerControllerOriginalImage]\N{\fs12}the info UIImagePickerController original image.
Dialogue: 0,0:22:36.94,0:22:38.41,yin,,0,0,0,,为什么这样做呢\N{\fs12}Why am I doing this?
Dialogue: 0,0:22:38.41,0:22:40.75,yin,,0,0,0,,因为这里我允许编辑\N{\fs12}Because I allow editing right here.
Dialogue: 0,0:22:40.75,0:22:43.11,yin,,0,0,0,,我知道我会得到这张编辑过的图像\N{\fs12}So I know I'm going to get this edited image.
Dialogue: 0,0:22:43.11,0:22:48.17,yin,,0,0,0,,以后我可能会把这转为NO 这时我的代码就会中断\N{\fs12}Well, someday I might turn this to no, and then my code here would break.
Dialogue: 0,0:22:48.17,0:22:50.97,yin,,0,0,0,,我只是希望我的代码在两种情况下都能使用\N{\fs12}So I'm just trying to make code here that would work in either case.
Dialogue: 0,0:22:50.97,0:22:53.98,yin,,0,0,0,,这一行代码对我而言很轻松就能搞定\N{\fs12}It costs no skin off my nose to put this line of code in here,
Dialogue: 0,0:22:53.98,0:22:57.65,yin,,0,0,0,,而且这能让它转变为NO时也能工作\N{\fs12}and it will make it so if it ever changes to no, then this is going to still work.
Dialogue: 0,0:22:57.65,0:23:00.00,yin,,0,0,0,,就算我不这样 也不会有什么损失\N{\fs12}Doesn't hurt me if I don't.
Dialogue: 0,0:23:00.00,0:23:03.87,yin,,0,0,0,,我有了图像 下面我说 self.image = image\N{\fs12}Alright, so I got the image, so I'm just going to self.image equals image,
Dialogue: 0,0:23:03.87,0:23:06.64,yin,,0,0,0,,记得吧 我们设置过这个属性\N{\fs12}remember that we have this property set
Dialogue: 0,0:23:06.64,0:23:10.85,yin,,0,0,0,,我们实现了setter和getter 在这里\N{\fs12}that we implement the setter and getter for, which is right here.
Dialogue: 0,0:23:10.85,0:23:13.69,yin,,0,0,0,,这里设置了图像视图的图像\N{\fs12}Which is just setting the image view's image.
Dialogue: 0,0:23:13.69,0:23:16.05,yin,,0,0,0,,如果我们设置新东西\N{\fs12}If we're setting it to something new,
Dialogue: 0,0:23:16.05,0:23:20.75,yin,,0,0,0,,那么旧URL就要被删除 今天我已经演示过了\N{\fs12}then it's deleting the old URL, we showed that already today.
Dialogue: 0,0:23:20.75,0:23:28.46,yin,,0,0,0,,我们设置好图像 然后dismiss\N{\fs12}So...we set our image, and then we dismiss.
Dialogue: 0,0:23:31.35,0:23:32.81,yin,,0,0,0,,就是这样了\N{\fs12}And that's it.
Dialogue: 0,0:23:32.81,0:23:34.79,yin,,0,0,0,,使用摄像头是很简单的\N{\fs12}So using the camera, quite straightforward.
Dialogue: 0,0:23:34.79,0:23:37.17,yin,,0,0,0,,只要你理解了委托这些东西\N{\fs12}Once you understand that you have to do this delegate thing
Dialogue: 0,0:23:37.17,0:23:40.45,yin,,0,0,0,,来获得这里的结果 这就非常简单了\N{\fs12}to get the results out of there, it's pretty straightforward.
Dialogue: 0,0:23:40.45,0:23:42.75,yin,,0,0,0,,我们来试试这个\N{\fs12}So let's try and see if we can make this work.
Dialogue: 0,0:23:46.67,0:23:49.79,yin,,0,0,0,,这里要拍张照片\N{\fs12}Here something to take a picture of here.
Dialogue: 0,0:23:49.79,0:23:53.67,yin,,0,0,0,,到My Photos 到这里 拍张照片\N{\fs12}Alright, so we'll go to My Photos, I'm going to go here, and I'm going to take a photo.
Dialogue: 0,0:23:53.67,0:23:56.03,yin,,0,0,0,,我们会得到这个ImagePickerController\N{\fs12}We're going to get this ImagePickerController that's
Dialogue: 0,0:23:56.03,0:23:59.13,yin,,0,0,0,,它会模态式地出现 这是我的照片控制器\N{\fs12}going to come up Modally, so here's my picture controller,
Dialogue: 0,0:23:59.13,0:24:05.18,yin,,0,0,0,,2002 这有些老了 拍张它的照片\N{\fs12}2002, that's kind of old, but take it. So I'm just going to take this picture.
Dialogue: 0,0:24:05.18,0:24:08.15,yin,,0,0,0,,有点模糊 重新拍一张\N{\fs12}Alright? That's a little blurry, so I'll take another one.
Dialogue: 0,0:24:08.15,0:24:09.65,yin,,0,0,0,,这个好些了\N{\fs12}That's a little better.
Dialogue: 0,0:24:09.65,0:24:11.76,yin,,0,0,0,,我还可以放大\N{\fs12}And I could zoom in here, if I want.
Dialogue: 0,0:24:11.76,0:24:14.43,yin,,0,0,0,,剪切 因为我允许用户编辑\N{\fs12}Crop it, because I've allowed user editing, right?
Dialogue: 0,0:24:14.43,0:24:15.45,yin,,0,0,0,,我们可以这样\N{\fs12}So we can do that.
Dialogue: 0,0:24:15.47,0:24:18.30,yin,,0,0,0,,拍完照之后 点使用照片\N{\fs12}And then once I got it the way I want it, hit "use photo"
Dialogue: 0,0:24:18.30,0:24:20.82,yin,,0,0,0,,它就会返回到图像视图中\N{\fs12}and it comes back and sets in our image view.
Dialogue: 0,0:24:20.82,0:24:23.43,yin,,0,0,0,,这里我们还需要输入标题\N{\fs12}One thing we also need to do is put in a title there,
Dialogue: 0,0:24:23.43,0:24:26.87,yin,,0,0,0,,快速输个名字\N{\fs12}but that's...let's do that real quick.
Dialogue: 0,0:24:26.87,0:24:33.75,yin,,0,0,0,,Giants 好 有了\N{\fs12}Giants. Alright. Okay. There we go.
Dialogue: 0,0:24:33.75,0:24:37.59,yin,,0,0,0,,这是照片 这是我们的缩略图\N{\fs12}So now hopefully our photo, there's our thumbnail,
Dialogue: 0,0:24:37.59,0:24:40.47,yin,,0,0,0,,点击 可以看到细节\N{\fs12}if we click, we can see the detail of it.
Dialogue: 0,0:24:40.47,0:24:43.59,yin,,0,0,0,,这方面有问题吗\N{\fs12}Any questions about that?
Dialogue: 0,0:24:43.59,0:24:46.14,yin,,0,0,0,,很简单 摄像头这些东西\N{\fs12}It's pretty straightforward, the camera thing.
Dialogue: 0,0:24:46.14,0:24:48.87,yin,,0,0,0,,看还有多少时间\N{\fs12}Alright. Let's see what time we've got.
Dialogue: 0,0:24:48.89,0:24:52.60,yin,,0,0,0,,最后我会回头讲动作表单\N{\fs12}I'm going to come back to doing the action sheet at the end,
Dialogue: 0,0:24:52.60,0:24:55.99,yin,,0,0,0,,因为我想首先讲Core Motion\N{\fs12}because I really want to show you this other stuff first, the core motion stuff,
Dialogue: 0,0:24:55.99,0:24:58.33,yin,,0,0,0,,而动作表单 你们大部分是懂的\N{\fs12}and the action sheet, I think you mostly understand that,
Dialogue: 0,0:24:58.33,0:25:02.24,yin,,0,0,0,,因此 我们最后再回来考虑\N{\fs12}so we'll come back to this later.
Dialogue: 0,0:25:02.64,0:25:08.47,yin,,0,0,0,,回到幻灯片\N{\fs12}So let's go keynote here, okay.
Dialogue: 0,0:25:09.64,0:25:12.41,yin,,0,0,0,,好 Core Motion\N{\fs12}Alright. So core motion.
Dialogue: 0,0:25:12.41,0:25:16.28,yin,,0,0,0,,Core Motion是用于访问设备硬件的API\N{\fs12}So, core motion is the API for accessing the hardware
Dialogue: 0,0:25:16.28,0:25:19.27,yin,,0,0,0,,告诉你关于运动的信息\N{\fs12}on your device that tells you about motion.
Dialogue: 0,0:25:19.27,0:25:21.73,yin,,0,0,0,,设备上感觉运动的硬件其实有很多\N{\fs12}And there's a lot of different pieces of hardware,
Dialogue: 0,0:25:21.73,0:25:24.07,yin,,0,0,0,,设备上感觉运动的硬件其实有很多\N{\fs12}actually, that senses motion on your device,
Dialogue: 0,0:25:24.07,0:25:26.70,yin,,0,0,0,,有些设备的硬件比其它更多\N{\fs12}and some devices have more hardware than others.
Dialogue: 0,0:25:26.70,0:25:31.25,yin,,0,0,0,,适当地使用Core Motion能让你\N{\fs12}So a lot of using core motion properly is kind
Dialogue: 0,0:25:31.25,0:25:34.17,yin,,0,0,0,,理解设备有些什么 如何使用\N{\fs12}of understanding what your device has, and how you're going to use it,
Dialogue: 0,0:25:34.17,0:25:36.86,yin,,0,0,0,,如果没有相关硬件 你是否仍能做你想做的事\N{\fs12}and if it doesn't have things, can you still do what you want to do?
Dialogue: 0,0:25:36.86,0:25:39.25,yin,,0,0,0,,也许不能做得原来那么好 等等\N{\fs12}Maybe not quite as nicely, et cetera.
Dialogue: 0,0:25:39.25,0:25:43.53,yin,,0,0,0,,设备运动的主要输入包括加速计\N{\fs12}But, the primary inputs to where--
Dialogue: 0,0:25:43.53,0:25:46.46,yin,,0,0,0,,设备运动的主要输入包括加速计\N{\fs12}to the motion of your device, are the accelerometer,
Dialogue: 0,0:25:46.46,0:25:49.82,yin,,0,0,0,,它会告诉你设备的加速度\N{\fs12}which is just telling you the acceleration of your device,
Dialogue: 0,0:25:49.82,0:25:51.32,yin,,0,0,0,,在x y和z方向\N{\fs12}in X, Y, and Z.
Dialogue: 0,0:25:51.32,0:25:56.06,yin,,0,0,0,,陀螺仪 让你知道什么时候设备在旋转\N{\fs12}A gyro, which is letting the device know when it's being rotated,
Dialogue: 0,0:25:56.06,0:25:58.21,yin,,0,0,0,,这是很重要的信息\N{\fs12}which is an important thing for it to know,
Dialogue: 0,0:25:58.21,0:26:01.88,yin,,0,0,0,,还有磁力计 告诉你真北在哪\N{\fs12}and magnetometer, which is telling it "where is true north?"
Dialogue: 0,0:26:01.88,0:26:05.33,yin,,0,0,0,,实际上 它知道磁北在哪\N{\fs12}So really it knows where magnetic north is,
Dialogue: 0,0:26:05.33,0:26:10.07,yin,,0,0,0,,不过只要它知道GPS位置 它也能知道真北\N{\fs12}but if it knows your GPS location, then it knows where true north is as well.
Dialogue: 0,0:26:10.07,0:26:15.07,yin,,0,0,0,,用于获得这些设备信息的类\N{\fs12}So...the class that you use to get this information
Dialogue: 0,0:26:15.07,0:26:18.62,yin,,0,0,0,,叫作CMMotionManager\N{\fs12}about your device is called CM Motion Manager, kind of similar
Dialogue: 0,0:26:18.62,0:26:21.08,yin,,0,0,0,,有些类似于CLLocationManager\N{\fs12}to this CL Location Manager,
Dialogue: 0,0:26:21.08,0:26:24.33,yin,,0,0,0,,CLLocationManager让我知道设备处于什么地方\N{\fs12}which is how we got where the device is in the world,
Dialogue: 0,0:26:24.33,0:26:26.50,yin,,0,0,0,,CMMotionManager可以通过alloc init来创建\N{\fs12}and you create it just with alloc init.
Dialogue: 0,0:26:26.50,0:26:28.67,yin,,0,0,0,,这个需要稍微小心一些\N{\fs12}You have to be a little careful with this thing,
Dialogue: 0,0:26:28.67,0:26:31.82,yin,,0,0,0,,因为你不能在app中有两个不同的地方\N{\fs12}because you can't really have two different places in your app
Dialogue: 0,0:26:31.82,0:26:33.45,yin,,0,0,0,,alloc init这种东西\N{\fs12}alloc initting one of these things
Dialogue: 0,0:26:33.45,0:26:37.56,yin,,0,0,0,,并要求不同的信息率这些\N{\fs12}and asking for different information rates or something like that,
Dialogue: 0,0:26:37.56,0:26:40.70,yin,,0,0,0,,因为它汇报信息的频率\N{\fs12}because the rate at which it's going to report its information
Dialogue: 0,0:26:40.70,0:26:46.39,yin,,0,0,0,,需要在整个应用程序中都达成一致\N{\fs12}really is something that your whole application needs to be on the same page about.
Dialogue: 0,0:26:46.39,0:26:48.72,yin,,0,0,0,,你不希望应用中一个地方\N{\fs12}So you wouldn't want one place
Dialogue: 0,0:26:48.72,0:26:50.72,yin,,0,0,0,,获得信息非常非常快\N{\fs12}in your application getting data really really fast,
Dialogue: 0,0:26:50.72,0:26:53.74,yin,,0,0,0,,做一些微调得很好的事 而另一个地方很慢\N{\fs12}because it's doing some really fine-tuned thing, and the other wants it really slow,
Dialogue: 0,0:26:53.74,0:26:54.75,yin,,0,0,0,,这就会不同步\N{\fs12}and then they're kind of out of sync.
Dialogue: 0,0:26:54.75,0:26:57.13,yin,,0,0,0,,有些人会认为\N{\fs12}So some people would argue
Dialogue: 0,0:26:57.13,0:26:59.31,yin,,0,0,0,,CMMotionManager应该是全局的\N{\fs12}that CM Motion Manager should just be global.
Dialogue: 0,0:26:59.31,0:27:01.74,yin,,0,0,0,,应该在全局某处 有些类变量\N{\fs12}You should have some global somewhere, some class variable,
Dialogue: 0,0:27:01.74,0:27:03.72,yin,,0,0,0,,或是app委托这些\N{\fs12}or your app delegate or something.
Dialogue: 0,0:27:03.72,0:27:06.21,yin,,0,0,0,,我不知道有没有必要那样\N{\fs12}I don't know that that's strictly necessary to go
Dialogue: 0,0:27:06.21,0:27:09.42,yin,,0,0,0,,不过这里确实是很有争议的地方\N{\fs12}that far, but it is something where they can fight each other,
Dialogue: 0,0:27:09.42,0:27:12.33,yin,,0,0,0,,做这个时需要小心\N{\fs12}so you've got to be careful about doing that.
Dialogue: 0,0:27:12.33,0:27:14.65,yin,,0,0,0,,这是因为只有一台设备\N{\fs12}And that's just really because there's only one device,
Dialogue: 0,0:27:14.65,0:27:18.18,yin,,0,0,0,,而且只有一个陀螺仪和一个加速计\N{\fs12}and there's only one gyro and one accelerometer,
Dialogue: 0,0:27:18.18,0:27:22.33,yin,,0,0,0,,某种意义上讲 作为全局资源是有意义的\N{\fs12}and so it makes sense that this is a global resource, in a sense.
Dialogue: 0,0:27:22.33,0:27:24.24,yin,,0,0,0,,如何使用MotionManager呢\N{\fs12}So how to use the Motion Manager?
Dialogue: 0,0:27:24.24,0:27:26.22,yin,,0,0,0,,同LocationManager类似\N{\fs12}Just like Location Manager,
Dialogue: 0,0:27:26.22,0:27:29.09,yin,,0,0,0,,首先检查有什么硬件可用\N{\fs12}you check to see what hardware is available, then you kind
Dialogue: 0,0:27:29.09,0:27:32.14,yin,,0,0,0,,然后具体怎么做 有两种选项\N{\fs12}of have two choices to how you want to do it.
Dialogue: 0,0:27:32.14,0:27:34.67,yin,,0,0,0,,你可以进行一些取样\N{\fs12}You can set some sampling going,
Dialogue: 0,0:27:34.67,0:27:37.78,yin,,0,0,0,,然后对MotionManager进行poll(探寻)\N{\fs12}and then poll the Motion Manager.
Dialogue: 0,0:27:37.78,0:27:40.82,yin,,0,0,0,,例如 三个方向上 基于重力的当前加速度是多少\N{\fs12}What's the current acceleration due to gravity
Dialogue: 0,0:27:40.82,0:27:43.07,yin,,0,0,0,,例如 三个方向上 基于重力的当前加速度是多少\N{\fs12}in these three directions, for example.
Dialogue: 0,0:27:43.07,0:27:44.32,yin,,0,0,0,,我不喜欢poll\N{\fs12}Polling we don't like.
Dialogue: 0,0:27:44.32,0:27:47.23,yin,,0,0,0,,我有一张幻灯片讲过 我不赞成这样\N{\fs12}I have a slide on that, but you can see I'm going to blast right
Dialogue: 0,0:27:47.23,0:27:49.41,yin,,0,0,0,,因为poll不是很好\N{\fs12}by it, because polling-- not so good--
Dialogue: 0,0:27:49.41,0:27:54.84,yin,,0,0,0,,第二种方式是在队列上放一个block\N{\fs12}as the second way, which is that you basically put a block on a queue
Dialogue: 0,0:27:54.84,0:27:58.52,yin,,0,0,0,,按照你指定的频率被调用\N{\fs12}that will get called every time, at whatever rate you say,
Dialogue: 0,0:27:58.52,0:28:01.21,yin,,0,0,0,,告诉你 基于重力的当前加速度是多少\N{\fs12}to tell you here's the current acceleration to gravity, here's the current...
Dialogue: 0,0:28:01.21,0:28:02.57,yin,,0,0,0,,它会不断告诉你\N{\fs12}just tell you over and over and over,
Dialogue: 0,0:28:02.57,0:28:06.05,yin,,0,0,0,,你可以设置这个发生的频率 这是更好的做法\N{\fs12}and you can set the rate at which that's happening-- much better way to do that.
Dialogue: 0,0:28:06.05,0:28:09.90,yin,,0,0,0,,尤其是你可以让那个block在另一个队列上执行\N{\fs12}Especially since you can have that block be executing on another queue.
Dialogue: 0,0:28:09.90,0:28:12.09,yin,,0,0,0,,收集数据 进行合并等等\N{\fs12}Collecting the data, coalescing it, whatever,
Dialogue: 0,0:28:12.09,0:28:14.28,yin,,0,0,0,,然后回头同主队列通信\N{\fs12}and then communicating back to the main queue,
Dialogue: 0,0:28:14.28,0:28:17.22,yin,,0,0,0,,也许是以较低频率 这里它在更新UI\N{\fs12}maybe at a lower rate, where it's updating the UI.
Dialogue: 0,0:28:17.22,0:28:20.14,yin,,0,0,0,,这就是我们主要要关注的\N{\fs12}So mostly that's what we're going to focus on,
Dialogue: 0,0:28:20.14,0:28:23.07,yin,,0,0,0,,也就是发布一个block到队列\N{\fs12}is the way of posting a block to a queue.
Dialogue: 0,0:28:23.07,0:28:26.45,yin,,0,0,0,,如何检查可用性呢\N{\fs12}So how do you check the availability?
Dialogue: 0,0:28:26.45,0:28:30.25,yin,,0,0,0,,CMMotionManager中有这样的属性\N{\fs12}There is this property in CMMotionManager
Dialogue: 0,0:28:30.25,0:28:32.93,yin,,0,0,0,,叫accelerometerAvailable\N{\fs12}called accelerometer available,
Dialogue: 0,0:28:32.93,0:28:35.53,yin,,0,0,0,,gyroAvailable magnetometerAvailable\N{\fs12}gyro available, magnetometer available,
Dialogue: 0,0:28:35.53,0:28:38.06,yin,,0,0,0,,然后是非常重要的deviceMotionAvailable\N{\fs12}and then the very important device motion available,
Dialogue: 0,0:28:38.06,0:28:40.11,yin,,0,0,0,,等下我们会谈到这个\N{\fs12}and we will talk about that in a second.
Dialogue: 0,0:28:40.11,0:28:42.32,yin,,0,0,0,,如何开启这些感应器呢\N{\fs12}How do you start up these sensors?
Dialogue: 0,0:28:42.32,0:28:45.43,yin,,0,0,0,,如果你不调用startAccelerometerUpdates\N{\fs12}If you don't call start accelerometer updates,
Dialogue: 0,0:28:45.43,0:28:46.92,yin,,0,0,0,,它就不会给你任何更新\N{\fs12}it will not give you any updates.
Dialogue: 0,0:28:46.92,0:28:51.41,yin,,0,0,0,,poll时 你就不会得到任何最新信息\N{\fs12}And when you poll, you won't get any update-- any information that's up to date.
Dialogue: 0,0:28:51.41,0:28:53.07,yin,,0,0,0,,你需要开启它\N{\fs12}So you have to start it.
Dialogue: 0,0:28:53.07,0:28:56.48,yin,,0,0,0,,一般 我们不会这样在poll中开启它\N{\fs12}Now, normally we're not going to start it this way in poll,
Dialogue: 0,0:28:56.48,0:28:58.66,yin,,0,0,0,,我们会通过给它一个block来开启\N{\fs12}we're going to start it by giving it a block
Dialogue: 0,0:28:58.66,0:29:02.27,yin,,0,0,0,,以我们规定的频率进行调用\N{\fs12}to go call us every time, you know, at whatever rate.
Dialogue: 0,0:29:04.19,0:29:07.36,yin,,0,0,0,,总之 我们需要开启它 理解这一点很重要\N{\fs12}But we do need to start it. It's important to understand you have to start it.
Dialogue: 0,0:29:07.36,0:29:09.32,yin,,0,0,0,,不开启就无法获得数据\N{\fs12}If you don't start it, you get no data.
Dialogue: 0,0:29:09.33,0:29:10.70,yin,,0,0,0,,你还可以弄清\N{\fs12}You can also find out,
Dialogue: 0,0:29:10.70,0:29:12.61,yin,,0,0,0,,硬件当前在没在收集数据\N{\fs12}is the hardware currently collecting data?
Dialogue: 0,0:29:12.61,0:29:15.75,yin,,0,0,0,,换言之 加速计是否开启并在收集数据\N{\fs12}In other words, is the accelerometer on and collecting data?
Dialogue: 0,0:29:15.75,0:29:17.56,yin,,0,0,0,,陀螺仪是否开启并在收集数据\N{\fs12}Is the gyro on and collecting data?
Dialogue: 0,0:29:17.56,0:29:20.02,yin,,0,0,0,,这些也可以知道\N{\fs12}So you can find out that as well.
Dialogue: 0,0:29:20.02,0:29:22.59,yin,,0,0,0,,很重要的是 你也可以终止它这样做\N{\fs12}And very importantly, you can stop it doing this.
Dialogue: 0,0:29:22.59,0:29:24.01,yin,,0,0,0,,为什么说重要呢\N{\fs12}Why is that important?
Dialogue: 0,0:29:24.01,0:29:27.03,yin,,0,0,0,,因为这些东西的耗电量很大\N{\fs12}These things aren't free when it comes to battery.
Dialogue: 0,0:29:27.03,0:29:32.41,yin,,0,0,0,,测量加速度 陀螺仪测量 测量位置 这些都会耗电\N{\fs12}Measuring the acceleration, measuring the gyro, position, all of that, it takes power.
Dialogue: 0,0:29:32.41,0:29:34.53,yin,,0,0,0,,不用的时候 你需要关掉它\N{\fs12}And so you want to turn it off when you're not using it.
Dialogue: 0,0:29:34.53,0:29:36.99,yin,,0,0,0,,同CLLocationManager一样\N{\fs12}Just exactly like the CLLocationManager, right?
Dialogue: 0,0:29:36.99,0:29:39.05,yin,,0,0,0,,不使用时关掉它\N{\fs12}Turn it off when you're not using it.
Dialogue: 0,0:29:39.05,0:29:41.07,yin,,0,0,0,,这是poll\N{\fs12}So here's the polling thing.
Dialogue: 0,0:29:41.07,0:29:43.25,yin,,0,0,0,,这张幻灯片我不打算细讲\N{\fs12}I have this slide, we're not really going to look at it,
Dialogue: 0,0:29:43.25,0:29:45.91,yin,,0,0,0,,不过对于这每个 加速计 陀螺仪\N{\fs12}but for each of the things, accelerometer, gyro,
Dialogue: 0,0:29:45.91,0:29:47.83,yin,,0,0,0,,磁力计和设备运动都可以poll\N{\fs12}magnetometer, and device motion,
Dialogue: 0,0:29:47.83,0:29:51.78,yin,,0,0,0,,设备运动这个很神奇 我马上会讲到\N{\fs12}which is the magic one I'm going to talk about in a moment here, you can poll
Dialogue: 0,0:29:51.78,0:29:53.49,yin,,0,0,0,,你都可以问 当前状态是什么\N{\fs12}and say "what's the current state of this?"
Dialogue: 0,0:29:53.49,0:29:55.80,yin,,0,0,0,,但一般我们不这样做\N{\fs12}But you don't usually do that.
Dialogue: 0,0:29:55.82,0:29:58.38,yin,,0,0,0,,然后我要讲那个神奇的东西\N{\fs12}And now I'm going to talk about the magic thing
Dialogue: 0,0:29:58.38,0:30:01.18,yin,,0,0,0,,然后再谈论将block发布到队列\N{\fs12}before we talk about posting the blocks on the queues,
Dialogue: 0,0:30:01.18,0:30:03.88,yin,,0,0,0,,这里我要讲的是CMDeviceMotion\N{\fs12}which is CMDeviceMotion.
Dialogue: 0,0:30:03.90,0:30:06.62,yin,,0,0,0,,有了陀螺仪 加速计\N{\fs12}If you had a gyro and an accelerometer
Dialogue: 0,0:30:06.62,0:30:11.67,yin,,0,0,0,,还有磁力计 你就对设备的位置很了解了\N{\fs12}and a magnetometer, you really know a lot about this device's position.
Dialogue: 0,0:30:11.67,0:30:13.19,yin,,0,0,0,,很了解\N{\fs12}Really a lot!
Dialogue: 0,0:30:13.19,0:30:17.07,yin,,0,0,0,,实际上 你可以同时使用多个设备\N{\fs12}And in fact, you can use multiple of those devices together
Dialogue: 0,0:30:17.07,0:30:18.80,yin,,0,0,0,,来获得更好的信息\N{\fs12}to get better information.
Dialogue: 0,0:30:18.80,0:30:21.66,yin,,0,0,0,,例如 我们考虑加速\N{\fs12}For example, let's talk about acceleration.
Dialogue: 0,0:30:21.66,0:30:23.34,yin,,0,0,0,,这里有个加速计\N{\fs12}Really, there's an accelerometer in there,
Dialogue: 0,0:30:23.34,0:30:26.34,yin,,0,0,0,,它总是在测量由于重力的加速\N{\fs12}it's always measuring the acceleration due to gravity,
Dialogue: 0,0:30:26.34,0:30:28.52,yin,,0,0,0,,也就是9.8米每秒平方\N{\fs12}which is 9.8 meters per second squared.
Dialogue: 0,0:30:28.52,0:30:33.57,yin,,0,0,0,,如果你问原始加速计 该设备的当前加速度是多少\N{\fs12}So if you ask the raw accelerometer what's the current acceleration of this device?
Dialogue: 0,0:30:33.57,0:30:37.90,yin,,0,0,0,,它总会回答你说是 1g 指向地球的中心\N{\fs12}It's always going to give you 1 G down toward the center of the earth.
Dialogue: 0,0:30:37.90,0:30:39.99,yin,,0,0,0,,无论发生了什么\N{\fs12}No matter what's actually happening.
Dialogue: 0,0:30:39.99,0:30:43.00,yin,,0,0,0,,如果你像这样握住设备\N{\fs12}Now, if you are holding your device like this,
Dialogue: 0,0:30:43.00,0:30:46.75,yin,,0,0,0,,然后像这样 其它方向也会有加速度\N{\fs12}and you're going like this, you're also going to have acceleration in these other axes,
Dialogue: 0,0:30:46.75,0:30:49.48,yin,,0,0,0,,但加速计还是只有指向下面的那个\N{\fs12}but you're always going to have that one pointing down.
Dialogue: 0,0:30:49.48,0:30:53.32,yin,,0,0,0,,这就让你很难弄清\N{\fs12}So it's kind of like it's a little bit difficult for you
Dialogue: 0,0:30:53.32,0:30:56.86,yin,,0,0,0,,用户实际在用设备做什么\N{\fs12}to then figure out what's the user actually doing with my device?
Dialogue: 0,0:30:56.86,0:31:00.46,yin,,0,0,0,,因为你需要使用低通过滤器来滤出\N{\fs12}You see? Because you kind of have to filter out with like a low pass filter,
Dialogue: 0,0:31:00.47,0:31:02.33,yin,,0,0,0,,来自于重力的加速度\N{\fs12}the acceleration due to gravity.
Dialogue: 0,0:31:02.33,0:31:06.26,yin,,0,0,0,,如果有陀螺仪 你就不需要这样\N{\fs12}Well, you don't have to do that if you have a gyro.
Dialogue: 0,0:31:06.26,0:31:08.01,yin,,0,0,0,,因为只要有陀螺仪\N{\fs12}Because if you have a gyro,
Dialogue: 0,0:31:08.01,0:31:11.90,yin,,0,0,0,,你就知道设备现在有没有倾斜\N{\fs12}you know whether the device is tilted now.
Dialogue: 0,0:31:11.90,0:31:14.20,yin,,0,0,0,,知道有没有倾斜 你就能够剔除\N{\fs12}And since you know whether it's tilted, you can factor
Dialogue: 0,0:31:14.20,0:31:17.60,yin,,0,0,0,,基于重力的加速度在哪 明白了吗\N{\fs12}out where the acceleration due to gravity is, you see?
Dialogue: 0,0:31:17.60,0:31:23.87,yin,,0,0,0,,CMDeviceMotion是另一个你可以询问的东西\N{\fs12}Right? And so the CMDeviceMotion is another thing you can ask
Dialogue: 0,0:31:23.87,0:31:26.70,yin,,0,0,0,,就像你可以询问加速计和陀螺仪一样\N{\fs12}for, just like you can ask for the accelerometer or you can ask for the gyro,
Dialogue: 0,0:31:26.71,0:31:29.14,yin,,0,0,0,,你也可以询问这个神奇的CMDeviceMotion\N{\fs12}you can ask for this magic CMDeviceMotion,
Dialogue: 0,0:31:29.14,0:31:32.28,yin,,0,0,0,,它实际上是其它那些东西的融合\N{\fs12}it's actually a conglomeration of those other things.
Dialogue: 0,0:31:32.28,0:31:35.32,yin,,0,0,0,,例如 它可以告诉你\N{\fs12}And so for example it can tell you what is the
Dialogue: 0,0:31:35.32,0:31:38.24,yin,,0,0,0,,剔除重力后 加速度是多少\N{\fs12}acceleration of the device with gravity taken out.
Dialogue: 0,0:31:38.24,0:31:41.45,yin,,0,0,0,,CMDeviceMotion中有个属性叫userAcceleration\N{\fs12}So there's a property in the CMDeviceMotion called User Acceleration,
Dialogue: 0,0:31:41.45,0:31:45.48,yin,,0,0,0,,这是设备的加速度 不包括重力\N{\fs12}which is the acceleration of the device, not including gravity.
Dialogue: 0,0:31:45.48,0:31:48.00,yin,,0,0,0,,你可以弄清重力指向哪里\N{\fs12}You can also find out where gravity is pointing based
Dialogue: 0,0:31:48.00,0:31:49.68,yin,,0,0,0,,基于设备的当前朝向\N{\fs12}on the device's current orientation.
Dialogue: 0,0:31:49.68,0:31:56.99,yin,,0,0,0,,类似地 设备的旋转会有偏差\N{\fs12}Similarly, there's bias in there for rotation of the device.
Dialogue: 0,0:31:56.99,0:31:59.32,yin,,0,0,0,,这来自于设备的电子特性\N{\fs12}Bias due to electronics of the device.
Dialogue: 0,0:31:59.32,0:32:01.88,yin,,0,0,0,,也可以通过加速计来剔除\N{\fs12}That can be taken out using the accelerometer.
Dialogue: 0,0:32:01.88,0:32:06.09,yin,,0,0,0,,陀螺仪汇报信息可以得到加速计的辅助\N{\fs12}So the gyros reported information can also be helped
Dialogue: 0,0:32:06.09,0:32:08.67,yin,,0,0,0,,它们之间可以互相帮助\N{\fs12}by the accelerometer, so they kind of help each other,
Dialogue: 0,0:32:08.67,0:32:13.23,yin,,0,0,0,,你还可以得到设备位置的更精密信息\N{\fs12}and you can also get more sophisticated answers about the position of the device,
Dialogue: 0,0:32:13.23,0:32:15.29,yin,,0,0,0,,例如横滚 俯仰和偏向\N{\fs12}like roll, pitch and yaw.
Dialogue: 0,0:32:15.29,0:32:17.28,yin,,0,0,0,,都知道横滚 俯仰和偏向吗\N{\fs12}You all know what roll, pitch and yaw is?
Dialogue: 0,0:32:17.28,0:32:21.93,yin,,0,0,0,,横滚是这样 偏向是这样 俯仰是这样\N{\fs12}Roll is this way, yaw is like this, pitch is like this.
Dialogue: 0,0:32:21.93,0:32:25.11,yin,,0,0,0,,你可以获得所有这些信息 这就像是一架飞机一样\N{\fs12}So now you really can find out where, like almost this is an airplane, right?
Dialogue: 0,0:32:25.11,0:32:28.01,yin,,0,0,0,,你可以发现空间中的横滚 俯仰和偏向\N{\fs12}You can find it's roll, pitch and yaw in space.
Dialogue: 0,0:32:28.01,0:32:31.79,yin,,0,0,0,,这些都能够知道 只要你知道重力在哪\N{\fs12}And those are all possible when you know where gravity is,
Dialogue: 0,0:32:31.79,0:32:33.06,yin,,0,0,0,,真北在哪\N{\fs12}if you know where true north is,
Dialogue: 0,0:32:33.06,0:32:35.45,yin,,0,0,0,,你有一个参考点 等等\N{\fs12}you kind of have a reference point, all those things.
Dialogue: 0,0:32:35.45,0:32:37.67,yin,,0,0,0,,CMDeviceMotion的作用就是\N{\fs12}So CMDeviceMotion, that's where you're going
Dialogue: 0,0:32:37.67,0:32:43.32,yin,,0,0,0,,在空间中进行精密的位置分析\N{\fs12}to do any sophisticated analysis of things to position in space.
Dialogue: 0,0:32:43.32,0:32:47.40,yin,,0,0,0,,你们可以去看说明文档 里面有各种属性\N{\fs12}And you can go look at the documentation, you can see already right there some
Dialogue: 0,0:32:47.40,0:32:51.75,yin,,0,0,0,,包括横滚 俯仰和偏向 旋转率 用户加速度\N{\fs12}of the properties you can get, roll, pitch and yaw, rotation rate, user acceleration.
Dialogue: 0,0:32:51.75,0:32:54.24,yin,,0,0,0,,所有这些都来自于CMDeviceMotion\N{\fs12}All those things come out of a CMDeviceMotion.
Dialogue: 0,0:32:54.24,0:32:57.19,yin,,0,0,0,,如果你在一个没有陀螺仪的设备上\N{\fs12}Now, if you're on a device that doesn't have a gyro,
Dialogue: 0,0:32:57.19,0:32:58.82,yin,,0,0,0,,CMDeviceMotion还在\N{\fs12}the CMDeviceMotion is going to be there,
Dialogue: 0,0:32:58.82,0:33:02.18,yin,,0,0,0,,有些东西会给你未确定的结果\N{\fs12}but some things are going to give you unspecified results,
Dialogue: 0,0:33:02.18,0:33:04.57,yin,,0,0,0,,例如用户加速度就无法确定\N{\fs12}like user acceleration can't be determined
Dialogue: 0,0:33:04.57,0:33:06.71,yin,,0,0,0,,没有陀螺仪的设备就是这样了\N{\fs12}on a device where there's no gyro.
Dialogue: 0,0:33:06.71,0:33:08.93,yin,,0,0,0,,它会给你重力加速度\N{\fs12}It will give you the acceleration due to gravity,
Dialogue: 0,0:33:08.93,0:33:11.35,yin,,0,0,0,,但你得不到用户加速度\N{\fs12}but can't give you the user acceleration.
Dialogue: 0,0:33:11.35,0:33:12.55,yin,,0,0,0,,你需要知道\N{\fs12}So you have to know.
Dialogue: 0,0:33:12.55,0:33:15.43,yin,,0,0,0,,这就是你需要检查设备有些什么的原因\N{\fs12}That's why you have to check what your device has.
Dialogue: 0,0:33:17.38,0:33:20.19,yin,,0,0,0,,如何做block这些呢\N{\fs12}So...how do we do this block thing?
Dialogue: 0,0:33:20.19,0:33:26.57,yin,,0,0,0,,我想要开启我的设备 检查加速计的情况\N{\fs12}So I want to start my device, checking what is going on with the accelerometer,
Dialogue: 0,0:33:26.57,0:33:29.54,yin,,0,0,0,,我想要它汇报给我 发生了什么\N{\fs12}and I want it to report to me what's going on.
Dialogue: 0,0:33:29.54,0:33:31.54,yin,,0,0,0,,做法是 我会给它一个block\N{\fs12}And the way I do that is I give it a block,
Dialogue: 0,0:33:31.54,0:33:35.01,yin,,0,0,0,,一个CMAccelerometerHandler block 这里\N{\fs12}a CM Accelerometer Handler block right there.
Dialogue: 0,0:33:35.01,0:33:37.82,yin,,0,0,0,,看它是如何定义的 它有一个参数\N{\fs12}You can see how it's defined, it takes an argument,
Dialogue: 0,0:33:37.82,0:33:42.46,yin,,0,0,0,,这是CMAcceleratorData 然后还有这个错误\N{\fs12}which is the CM Accelerator data, and in this error,
Dialogue: 0,0:33:42.46,0:33:47.00,yin,,0,0,0,,它会按照你指定的频率不断调用这个block\N{\fs12}and it just keeps calling that block over and over at whatever rate you tell it to.
Dialogue: 0,0:33:47.00,0:33:49.22,yin,,0,0,0,,下一张幻灯片上我会具体说明如何设置\N{\fs12}And we'll talk about how you set that on the next slide.
Dialogue: 0,0:33:49.22,0:33:50.89,yin,,0,0,0,,这可以用于加速计更新\N{\fs12}And you can do that for accelerometer updates,
Dialogue: 0,0:33:50.89,0:33:55.25,yin,,0,0,0,,可以用于陀螺仪更新 也可以用于设备运动\N{\fs12}you can do it for gyro updates, you can do it for device motion as well.
Dialogue: 0,0:33:55.25,0:33:58.89,yin,,0,0,0,,横滚 俯仰和偏向这些 也能通过这个得到\N{\fs12}That roll, pitch and yaw, all that, it will tell you that.
Dialogue: 0,0:33:58.89,0:34:02.41,yin,,0,0,0,,不能再简单了 你只用调用这个方法\N{\fs12}So couldn't be simpler, you just call this method
Dialogue: 0,0:34:02.41,0:34:06.16,yin,,0,0,0,,startAccelerometer或GyroUpdatesToQueue\N{\fs12}start, accelerometer or gyro, updates to queue,
Dialogue: 0,0:34:06.16,0:34:07.57,yin,,0,0,0,,你给它一个队列\N{\fs12}you give it a queue.
Dialogue: 0,0:34:07.57,0:34:12.33,yin,,0,0,0,,这个队列 如果你要它更新的频率很低\N{\fs12}Now, that queue, if your rate at which you're asking it
Dialogue: 0,0:34:12.33,0:34:15.41,yin,,0,0,0,,你可以把它设为主队列\N{\fs12}to tell you is pretty low, that can be the main queue.
Dialogue: 0,0:34:15.41,0:34:16.91,yin,,0,0,0,,什么叫低呢\N{\fs12}And what do I mean by low?
Dialogue: 0,0:34:16.91,0:34:20.39,yin,,0,0,0,,你可以自己判断 如果是60次每秒\N{\fs12}Well, use your best judgment, I mean 60 times a second?
Dialogue: 0,0:34:20.39,0:34:22.31,yin,,0,0,0,,这就会push主队列\N{\fs12}That's going to be pushing the main queue.
Dialogue: 0,0:34:22.31,0:34:24.18,yin,,0,0,0,,10次每秒 没问题\N{\fs12}Ten times a second, no problem.
Dialogue: 0,0:34:24.18,0:34:27.03,yin,,0,0,0,,取决于你在block中做什么\N{\fs12}It depends on what you're doing in that block.
Dialogue: 0,0:34:27.03,0:34:30.64,yin,,0,0,0,,但愿你没有做代价很高的图像运算\N{\fs12}Hopefully you're not doing some very, very expensive graphics operation.
Dialogue: 0,0:34:30.64,0:34:32.89,yin,,0,0,0,,不过 你可以把这设为主队列\N{\fs12}But you could make that the main queue.
Dialogue: 0,0:34:32.89,0:34:35.56,yin,,0,0,0,,你也可以把这设为别的队列\N{\fs12}Or you could make that be some other queue.
Dialogue: 0,0:34:35.56,0:34:38.64,yin,,0,0,0,,然后合并事件 然后派回到\N{\fs12}And then coalesce events, and then just dispatch back
Dialogue: 0,0:34:38.64,0:34:42.30,yin,,0,0,0,,主队列 来进行UI更新\N{\fs12}to the main queue whenever you want to do the UI updating.
Dialogue: 0,0:34:42.30,0:34:45.65,yin,,0,0,0,,这个block的调用有多频繁呢\N{\fs12}So how often does this block get called?
Dialogue: 0,0:34:45.65,0:34:48.24,yin,,0,0,0,,顺便提下 这是设备运动的那些\N{\fs12}This is the device motion ones, by the way.
Dialogue: 0,0:34:48.24,0:34:51.28,yin,,0,0,0,,设备运动知道很多信息 它还可以有\N{\fs12}Device Motion knows so much information it can actually have
Dialogue: 0,0:34:51.28,0:34:56.47,yin,,0,0,0,,一个关于z轴和xy轴在哪的参考系\N{\fs12}a reference frame about where's Z axis and X and Y axis,
Dialogue: 0,0:34:56.47,0:34:58.58,yin,,0,0,0,,你也可以自己去查这些\N{\fs12}and all that, so you can look that up as well.
Dialogue: 0,0:34:58.58,0:35:01.82,yin,,0,0,0,,不过这里方式还是一样的 放一个block在队列上\N{\fs12}But it's the same way, though, in terms of you just put a block on the queue
Dialogue: 0,0:35:01.82,0:35:05.04,yin,,0,0,0,,设备运动产生变化时 它就会告诉你\N{\fs12}and when device motion has changes, it's going to tell you.
Dialogue: 0,0:35:05.04,0:35:06.90,yin,,0,0,0,,所有这些情形下\N{\fs12}So in all these cases,
Dialogue: 0,0:35:06.90,0:35:09.58,yin,,0,0,0,,你都要设置block被调用的时间区间\N{\fs12}you set the interval at which it's going to call your block
Dialogue: 0,0:35:09.58,0:35:11.84,yin,,0,0,0,,使用这个UpdateInterval属性\N{\fs12}using this update interval property.
Dialogue: 0,0:35:11.84,0:35:14.11,yin,,0,0,0,,这个可以用于加速计 陀螺仪\N{\fs12}So whether you're doing accelerometer, gyro,
Dialogue: 0,0:35:14.11,0:35:16.70,yin,,0,0,0,,磁力计和设备运动 你只需要设置时间区间\N{\fs12}magnetometer, device motion, you just set the interval.
Dialogue: 0,0:35:16.70,0:35:19.90,yin,,0,0,0,,以秒计算 如果你希望是10次每秒\N{\fs12}This is in seconds, so if you want it 10 times a second,
Dialogue: 0,0:35:19.90,0:35:24.75,yin,,0,0,0,,这里就可以设为0.1 如果你想20次每秒 那就是0.05\N{\fs12}you would say 0.1, if you want 20 times a second, 0.05.
Dialogue: 0,0:35:24.75,0:35:27.07,yin,,0,0,0,,这些东西可以有多频繁呢\N{\fs12}How often can these things go?
Dialogue: 0,0:35:27.07,0:35:28.08,yin,,0,0,0,,这里有限制\N{\fs12}There are limits.
Dialogue: 0,0:35:28.08,0:35:31.17,yin,,0,0,0,,这些东西无法一秒钟汇报一千次\N{\fs12}These things can't report thousand times a second,
Dialogue: 0,0:35:31.17,0:35:33.95,yin,,0,0,0,,一秒钟一千次你可能也做不了什么\N{\fs12}probably you couldn't do much with 1,000 times a second,
Dialogue: 0,0:35:33.95,0:35:36.48,yin,,0,0,0,,你在UI中无法作出反应\N{\fs12}you couldn't respond in the UI or anything to that.
Dialogue: 0,0:35:36.48,0:35:40.22,yin,,0,0,0,,我想 这些东西只能到60赫兹\N{\fs12}I think most of these things are around 60 Hz.
Dialogue: 0,0:35:40.22,0:35:44.48,yin,,0,0,0,,60次每秒或许就是这里的极限了\N{\fs12}60 times a second, probably about the maximum you're going to get out of them.
Dialogue: 0,0:35:44.48,0:35:48.62,yin,,0,0,0,,说明文档中可能没有专门说\N{\fs12}I don't think the documentation specifically says.
Dialogue: 0,0:35:48.62,0:35:52.21,yin,,0,0,0,,这里可以有多个处理器block\N{\fs12}It is okay to have multiple handler blocks.
Dialogue: 0,0:35:52.21,0:35:54.56,yin,,0,0,0,,也就是说 你可以调用startAccelerometerUpdates\N{\fs12}In other words, to call start accelerometer updates
Dialogue: 0,0:35:54.56,0:35:55.96,yin,,0,0,0,,带block 给它一个block\N{\fs12}with block, give it a block,
Dialogue: 0,0:35:55.97,0:35:57.39,yin,,0,0,0,,之后再在别处\N{\fs12}and then later somewhere else,
Dialogue: 0,0:35:57.39,0:35:59.87,yin,,0,0,0,,startAccelerometerUpdates 带block\N{\fs12}start accelerator updates with block
Dialogue: 0,0:35:59.87,0:36:01.19,yin,,0,0,0,,再给另外一个block\N{\fs12}and give it a different block,
Dialogue: 0,0:36:01.19,0:36:03.19,yin,,0,0,0,,两个block都会被调用\N{\fs12}and both of those blocks will get called.
Dialogue: 0,0:36:03.19,0:36:04.88,yin,,0,0,0,,调用频率也相同\N{\fs12}They're both going to get called at the same rate,
Dialogue: 0,0:36:04.88,0:36:07.26,yin,,0,0,0,,这个更新时间区间\N{\fs12}this update interval, but two different--
Dialogue: 0,0:36:07.26,0:36:10.67,yin,,0,0,0,,但每个时间区间内 你可以做两件不同的事\N{\fs12}you could be doing two different things every time this interval happens.
Dialogue: 0,0:36:10.67,0:36:14.28,yin,,0,0,0,,这完全没问题 这里并不只能处理一个block\N{\fs12}That's perfectly fine, say it's not like there can only be one block.
Dialogue: 0,0:36:14.28,0:36:16.52,yin,,0,0,0,,理解吗\N{\fs12}Make sense?
Dialogue: 0,0:36:16.52,0:36:18.08,yin,,0,0,0,,好 我有一个demo\N{\fs12}Alright, so I have a demo.
Dialogue: 0,0:36:18.08,0:36:22.01,yin,,0,0,0,,这个最好是用demo来讲更好理解\N{\fs12}This is all definitely best understood with a demo,
Dialogue: 0,0:36:22.01,0:36:25.34,yin,,0,0,0,,demo中我还会演示其它一些东西\N{\fs12}and this demo lets me show you a couple other things as well,
Dialogue: 0,0:36:25.34,0:36:30.62,yin,,0,0,0,,同往常一样 我的demo都是一举多得的\N{\fs12}as usual, I try to make these demos count for multiple things here,
Dialogue: 0,0:36:30.62,0:36:33.97,yin,,0,0,0,,这是一个新app 叫作Bouncer\N{\fs12}so this is going to be a new app we're going to write, it's called Bouncer.
Dialogue: 0,0:36:33.97,0:36:38.18,yin,,0,0,0,,Bouncer将有一个小方块\N{\fs12}And Bouncer is going to be a little square that I'm going
Dialogue: 0,0:36:38.18,0:36:40.49,yin,,0,0,0,,出现在屏幕上\N{\fs12}to have appear on my device,
Dialogue: 0,0:36:40.49,0:36:43.89,yin,,0,0,0,,最终我们会让重力来决定\N{\fs12}and eventually we're going to have gravity
Dialogue: 0,0:36:43.89,0:36:48.46,yin,,0,0,0,,方块在屏幕上动画到什么地方去\N{\fs12}determine where that square is animated to on screen,
Dialogue: 0,0:36:48.46,0:36:50.19,yin,,0,0,0,,然后我们会加一个方块\N{\fs12}then we'll put another square on there, and then
Dialogue: 0,0:36:50.19,0:36:52.03,yin,,0,0,0,,让两者相互碰撞\N{\fs12}we'll bang those things into each other,
Dialogue: 0,0:36:52.03,0:36:54.14,yin,,0,0,0,,我们还会计分\N{\fs12}and maybe we'll put a little score in there,
Dialogue: 0,0:36:54.14,0:36:56.19,yin,,0,0,0,,然后再写个小游戏\N{\fs12}and then we've made ourselves a little game.
Dialogue: 0,0:36:56.19,0:36:58.71,yin,,0,0,0,,这是一个小游戏\N{\fs12}So it's a little, basically
Dialogue: 0,0:36:58.71,0:37:01.87,yin,,0,0,0,,游戏的输入是加速计\N{\fs12}game where the input to the game is the accelerometer.
Dialogue: 0,0:37:01.87,0:37:03.02,yin,,0,0,0,,我将用加速计\N{\fs12}So I'm going to use accelerometer,
Dialogue: 0,0:37:03.02,0:37:06.14,yin,,0,0,0,,因为这是设备运动中最简单的\N{\fs12}because it's the simplest of the device motion things.
Dialogue: 0,0:37:06.14,0:37:09.82,yin,,0,0,0,,不过获得信息的方式都是一样的\N{\fs12}But they all basically do the same approach of how you get the information back.
Dialogue: 0,0:37:09.82,0:37:13.14,yin,,0,0,0,,我们将使用加速计来驱动我们的UI\N{\fs12}So we use the accelerometer to drive our UI, just like
Dialogue: 0,0:37:13.15,0:37:15.94,yin,,0,0,0,,像是接触 猛击这些\N{\fs12}touching and swiping, or whatever,
Dialogue: 0,0:37:15.94,0:37:18.38,yin,,0,0,0,,我们将把加速计当作输入\N{\fs12}we're going to use the accelerometer as an input.
Dialogue: 0,0:37:18.38,0:37:21.09,yin,,0,0,0,,好 这里创建一个新项目\N{\fs12}Alright, so let's make a new project here.
Dialogue: 0,0:37:21.09,0:37:22.64,yin,,0,0,0,,不是新文件\N{\fs12}Whoops! Not a new file.
Dialogue: 0,0:37:22.64,0:37:26.01,yin,,0,0,0,,取消 新项目\N{\fs12}Cancel. A new project.
Dialogue: 0,0:37:27.24,0:37:30.90,yin,,0,0,0,,好 这个项目起名为Bouncer\N{\fs12}Okay. And we're going to call this project Bouncer.
Dialogue: 0,0:37:30.90,0:37:32.23,yin,,0,0,0,,它将是通用的\N{\fs12}And it's going to be universal.
Dialogue: 0,0:37:32.23,0:37:35.09,yin,,0,0,0,,这个app中将有一点是之前我从未做过的\N{\fs12}I'm also going to do something with this app that I haven't done all quarter,
Dialogue: 0,0:37:35.09,0:37:38.66,yin,,0,0,0,,也就是 我不会在故事板中做任何事\N{\fs12}which is I'm not going to do anything in the storyboard.
Dialogue: 0,0:37:38.66,0:37:40.97,yin,,0,0,0,,这里100%是用代码\N{\fs12}We're going to do all of this 100 percent in code,
Dialogue: 0,0:37:40.97,0:37:42.66,yin,,0,0,0,,看看这是怎样的\N{\fs12}just to see what that looks like.
Dialogue: 0,0:37:42.66,0:37:47.45,yin,,0,0,0,,我不打算接触故事板\N{\fs12}So I'm not even going to touch my storyboard.
Dialogue: 0,0:37:47.45,0:37:51.26,yin,,0,0,0,,实际上 我打算把故事板移到支持文件中\N{\fs12}Alright, in fact, I'm going to move my storyboards down to supporting files,
Dialogue: 0,0:37:51.26,0:37:53.28,yin,,0,0,0,,因为我不打算用\N{\fs12}because I'm not going to use them. It's all going to be
Dialogue: 0,0:37:53.28,0:37:57.92,yin,,0,0,0,,整个实现都在这一个文件中\N{\fs12}in this one file, the entire implementation we're going to do here.
Dialogue: 0,0:37:57.92,0:37:59.97,yin,,0,0,0,,好 首先我们要做什么呢\N{\fs12}Alright, so what are we going to do to start?
Dialogue: 0,0:37:59.97,0:38:03.71,yin,,0,0,0,,首先将一个红色方块放到屏幕上\N{\fs12}Let's start by just putting a little red square on the screen.
Dialogue: 0,0:38:03.71,0:38:04.83,yin,,0,0,0,,这很简单\N{\fs12}So we'll start simple.
Dialogue: 0,0:38:04.83,0:38:08.24,yin,,0,0,0,,这里我写一个属性 非原子\N{\fs12}I'm going to have a little property here, non-atomic,
Dialogue: 0,0:38:08.24,0:38:11.74,yin,,0,0,0,,强 只是一个小UIView 起名为redBlock\N{\fs12}strong, just a little UI view, I'm going to call it red block.
Dialogue: 0,0:38:11.74,0:38:16.53,yin,,0,0,0,,这是我将放到屏幕上的一个红色小方块\N{\fs12}It's going to be a little red square that I'm going to put on screen.
Dialogue: 0,0:38:16.53,0:38:21.06,yin,,0,0,0,,我将在viewDidAppear中将它放到屏幕上\N{\fs12}And I'm going to do it, I'm going to put in on screen in ViewDidAppear,
Dialogue: 0,0:38:21.06,0:38:24.27,yin,,0,0,0,,一旦这个视图出现在屏幕上\N{\fs12}so once this view appears on screen,
Dialogue: 0,0:38:24.27,0:38:26.78,yin,,0,0,0,,我马上就会把这个小方块放上去\N{\fs12}then I'm going to put this little block out there,
Dialogue: 0,0:38:26.78,0:38:29.52,yin,,0,0,0,,做法是通过这个方法 startGame\N{\fs12}and I'm going to do that in a method called Start Game,
Dialogue: 0,0:38:29.52,0:38:30.78,yin,,0,0,0,,该方法会开始游戏\N{\fs12}so it's going to be the start of my game.
Dialogue: 0,0:38:30.78,0:38:33.01,yin,,0,0,0,,最终 这里将不只是一个红色方块\N{\fs12}I mean, eventually it's going to be more than just a red block there,
Dialogue: 0,0:38:33.01,0:38:35.42,yin,,0,0,0,,因此 这里我们说startGame\N{\fs12}so we'll say we're starting our game.
Dialogue: 0,0:38:35.42,0:38:37.13,yin,,0,0,0,,startGame中怎么做呢\N{\fs12}So what do we do in Start Game?
Dialogue: 0,0:38:37.13,0:38:40.90,yin,,0,0,0,,我只打算说 self.redBlock = …\N{\fs12}I'm just going to say self dot red block equals--
Dialogue: 0,0:38:40.90,0:38:44.84,yin,,0,0,0,,我需要创建一个方块 我想把它放到屏幕中央\N{\fs12}now I would need to create a block, I want to put it in the center of the screen,
Dialogue: 0,0:38:44.84,0:38:50.46,yin,,0,0,0,,因此 在这里 我会创建一个方法 叫addBlock…\N{\fs12}so I create a nice little method here, called add block,
Dialogue: 0,0:38:50.46,0:38:53.89,yin,,0,0,0,,如这里所示 它的作用很明显\N{\fs12}this little guy right here, and all it does, as you can see,
Dialogue: 0,0:38:53.89,0:38:56.62,yin,,0,0,0,,也就是initWithFrame和addSubview\N{\fs12}is it just does init with frame and add subview.
Dialogue: 0,0:38:56.62,0:38:58.89,yin,,0,0,0,,它会计算frame在哪\N{\fs12}And all it's doing is calculating where that frame is.
Dialogue: 0,0:38:58.89,0:39:03.97,yin,,0,0,0,,它会放到中央 偏移我想要的值 任何UI偏移量\N{\fs12}So it's putting in the center offset by anything I want, any UI offset.
Dialogue: 0,0:39:03.97,0:39:06.46,yin,,0,0,0,,最开始 我将把方块放到中央\N{\fs12}So I'm going to put it initially right in the center.
Dialogue: 0,0:39:06.46,0:39:10.23,yin,,0,0,0,,顺便说下 这个和这个在整个demo中不会用到\N{\fs12}By the way, we don't need this or this for this entire demo.
Dialogue: 0,0:39:10.23,0:39:13.93,yin,,0,0,0,,然后我说self addBlockOffset…\N{\fs12}Alright, so I'm going to do self, add, block, offset,
Dialogue: 0,0:39:13.93,0:39:17.95,yin,,0,0,0,,然后是UIOffsetMake 0 0\N{\fs12}and I'm going to do UI offset make zero zero.
Dialogue: 0,0:39:17.95,0:39:19.89,yin,,0,0,0,,这就放到了中央\N{\fs12}So it's going to put it right in the center.
Dialogue: 0,0:39:19.89,0:39:23.00,yin,,0,0,0,,大家都理解这个的作用了吗\N{\fs12}Everyone understand what this does,
Dialogue: 0,0:39:23.00,0:39:26.49,yin,,0,0,0,,它将一个UIView放到了屏幕中央\N{\fs12}is just putting-- adding UI view to the center of the screen.
Dialogue: 0,0:39:26.49,0:39:29.99,yin,,0,0,0,,我的方块是红色的 因此这里用红色\N{\fs12}And my block is red, so let's make it red.
Dialogue: 0,0:39:29.99,0:39:34.37,yin,,0,0,0,,.backgroundColor = UIColor redColor\N{\fs12}Dot background color equals UI color, red color.
Dialogue: 0,0:39:34.37,0:39:37.35,yin,,0,0,0,,让我们来运行这个\N{\fs12}So let's go ahead and run that.
Dialogue: 0,0:39:45.14,0:39:47.41,yin,,0,0,0,,好 很好的开始\N{\fs12}Alright, good start.
Dialogue: 0,0:39:47.41,0:39:51.67,yin,,0,0,0,,下面 我希望有一些重力\N{\fs12}So what we want now is I want some gravity.
Dialogue: 0,0:39:51.67,0:39:56.62,yin,,0,0,0,,我希望这个方块不再待在中央 而是移动到别处\N{\fs12}I want this block to go somewhere else besides in the middle of the screen.
Dialogue: 0,0:39:56.62,0:39:59.89,yin,,0,0,0,,做法你们已经非常熟悉了\N{\fs12}So we do that with something you're all very familiar
Dialogue: 0,0:39:59.89,0:40:03.13,yin,,0,0,0,,这是作业四的内容 也就是动态动画器\N{\fs12}from assignment 4, which is animators, dynamic animator.
Dialogue: 0,0:40:03.13,0:40:05.83,yin,,0,0,0,,这里我将添加一个动态动画器\N{\fs12}So I'm just going to add a dynamic animator here
Dialogue: 0,0:40:05.83,0:40:07.57,yin,,0,0,0,,来加入重力\N{\fs12}to add gravity
Dialogue: 0,0:40:07.57,0:40:09.94,yin,,0,0,0,,让方块来到边缘时\N{\fs12}and to make it so when the block gets to the edge,
Dialogue: 0,0:40:09.94,0:40:11.46,yin,,0,0,0,,会反弹\N{\fs12}it's going to bounce off.
Dialogue: 0,0:40:11.46,0:40:13.54,yin,,0,0,0,,而不是离开屏幕\N{\fs12}Instead of just going off the screen.
Dialogue: 0,0:40:13.54,0:40:14.95,yin,,0,0,0,,让我们来做这个\N{\fs12}So let's do that.
Dialogue: 0,0:40:14.95,0:40:17.85,yin,,0,0,0,,你们都知道动画器\N{\fs12}Uh, that, I have since you all know about animator,
Dialogue: 0,0:40:17.85,0:40:20.33,yin,,0,0,0,,我就不一点点键入了\N{\fs12}I'm not going to type all that in, I'm just going
Dialogue: 0,0:40:20.33,0:40:24.19,yin,,0,0,0,,直接把它们加到这里\N{\fs12}to show it here, this is what I just added.
Dialogue: 0,0:40:24.19,0:40:26.18,yin,,0,0,0,,这里\N{\fs12}Right here.
Dialogue: 0,0:40:26.18,0:40:27.84,yin,,0,0,0,,我有一些属性\N{\fs12}Okay, I've got some properties.
Dialogue: 0,0:40:27.84,0:40:31.47,yin,,0,0,0,,这里的属性是\N{\fs12}The properties I have here are...
Dialogue: 0,0:40:31.47,0:40:35.22,yin,,0,0,0,,一个动态动画器 还有重力行为\N{\fs12}a dynamic animator, of course, I've got a gravity behavior,
Dialogue: 0,0:40:35.22,0:40:37.62,yin,,0,0,0,,这是拉拽红色方块的重力\N{\fs12}that's going to be the gravity pulling on my red block.
Dialogue: 0,0:40:37.62,0:40:40.34,yin,,0,0,0,,碰撞器 这是外边缘处的情况\N{\fs12}Collider, that's just going to be the outer edges,
Dialogue: 0,0:40:40.34,0:40:42.64,yin,,0,0,0,,这是现在唯一的碰撞器\N{\fs12}that's the only collider I'm going to have for now.
Dialogue: 0,0:40:42.64,0:40:44.92,yin,,0,0,0,,然后弹性是一个项目行为\N{\fs12}And then elastic is an item behavior.
Dialogue: 0,0:40:44.92,0:40:46.85,yin,,0,0,0,,我希望它碰壁弹回\N{\fs12}I want it to really bounce off the walls.
Dialogue: 0,0:40:46.85,0:40:50.82,yin,,0,0,0,,这里我设置了它的弹性 让它具有完全弹性\N{\fs12}So I'm going to set it's elasticity so that it's completely elastic.
Dialogue: 0,0:40:50.82,0:40:55.41,yin,,0,0,0,,碰壁都是弹性碰撞\N{\fs12}All of it's hitting the walls are elastic collisions.
Dialogue: 0,0:40:55.41,0:40:57.60,yin,,0,0,0,,这是动画器\N{\fs12}And so here's the animator.
Dialogue: 0,0:40:57.60,0:41:02.93,yin,,0,0,0,,惰性实例化 没有特别的东西 这是碰撞器\N{\fs12}Lazy instantiation not doing anything special there, here's the collider.
Dialogue: 0,0:41:02.93,0:41:06.62,yin,,0,0,0,,其作用是translatesReferenceBoundsIntoBoundary\N{\fs12}The only thing that does is translates reference bounds into boundary.
Dialogue: 0,0:41:06.62,0:41:09.51,yin,,0,0,0,,你们知道这个\N{\fs12}Okay, you know about that.
Dialogue: 0,0:41:09.51,0:41:12.17,yin,,0,0,0,,这是重力 不过是默认的重力\N{\fs12}Here's gravity, just default gravity.
Dialogue: 0,0:41:12.17,0:41:17.18,yin,,0,0,0,,一开始重力会在视图中指向下方\N{\fs12}It's going to start out with our gravity pointing down in our view.
Dialogue: 0,0:41:17.18,0:41:20.08,yin,,0,0,0,,而无论下是哪个方向 换句话说\N{\fs12}Whatever down is in our view, in other words,
Dialogue: 0,0:41:20.08,0:41:23.21,yin,,0,0,0,,视图Y方向向下 这就是重力最开始的情况\N{\fs12}increasing Y, that's where gravity's going to start out,
Dialogue: 0,0:41:23.21,0:41:26.95,yin,,0,0,0,,我们希望用现实世界的重力取代这个重力\N{\fs12}we want to replace that gravity with the real gravity of the world,
Dialogue: 0,0:41:26.96,0:41:29.49,yin,,0,0,0,,这是我们马上要做的\N{\fs12}that's what we're going to be doing in a moment.
Dialogue: 0,0:41:29.49,0:41:30.63,yin,,0,0,0,,然后这里是弹性\N{\fs12}And then here's elastic.
Dialogue: 0,0:41:30.63,0:41:35.56,yin,,0,0,0,,弹性也就是项目行为中的弹性\N{\fs12}Elastic is an item behavior which just sets one thing, which is the elasticity.
Dialogue: 0,0:41:35.56,0:41:39.04,yin,,0,0,0,,说的是碰撞弹性有多强\N{\fs12}This says how elastic the collisions are, and I'm going
Dialogue: 0,0:41:39.04,0:41:42.96,yin,,0,0,0,,我设为1.0 也就是完全弹性碰撞\N{\fs12}to have it be 1.0, which means fully elastic collision.
Dialogue: 0,0:41:42.96,0:41:45.99,yin,,0,0,0,,你甚至可以将这个设为大于1\N{\fs12}You can actually make this greater than 1, and it will pick
Dialogue: 0,0:41:45.99,0:41:47.72,yin,,0,0,0,,这样碰撞时就会加速\N{\fs12}up speed when it hits a collision,
Dialogue: 0,0:41:47.72,0:41:51.00,yin,,0,0,0,,你也可以设为小于1 这时就会有阻尼\N{\fs12}and you can make it less than 1, and it will dampen, right?
Dialogue: 0,0:41:51.00,0:41:53.53,yin,,0,0,0,,最小值是0 这好像是默认值\N{\fs12}All the way down to zero, which is the default, I think,
Dialogue: 0,0:41:53.53,0:41:55.66,yin,,0,0,0,,也就是方块碰到底部\N{\fs12}which is that's a block, hit the bottom
Dialogue: 0,0:41:55.66,0:41:57.14,yin,,0,0,0,,就不再弹起\N{\fs12}and then just kind of settle real quick.
Dialogue: 0,0:41:57.14,0:42:01.26,yin,,0,0,0,,这就是程序中方块的弹性了\N{\fs12}That's what we had, I think, the elasticity of our blocks in Drop It, were that.
Dialogue: 0,0:42:02.40,0:42:04.93,yin,,0,0,0,,好 我有了动画器和所有这些\N{\fs12}Alright, so I have this animator and all these things,
Dialogue: 0,0:42:04.93,0:42:09.58,yin,,0,0,0,,下面我要将红色方块添加到这些\N{\fs12}so now I just want to make sure that I take my red block and add it to all these,
Dialogue: 0,0:42:09.58,0:42:15.83,yin,,0,0,0,,我这里说 我希望红色方块在碰撞器中\N{\fs12}so I'm going to say I want the red block to be in the collider,
Dialogue: 0,0:42:15.83,0:42:22.09,yin,,0,0,0,,我希望红色方块具有弹性\N{\fs12}and I want the red block to be elastic.
Dialogue: 0,0:42:22.09,0:42:25.97,yin,,0,0,0,,我希望红色方块受重力影响\N{\fs12}And I want the red block to be affected by gravity.
Dialogue: 0,0:42:28.73,0:42:32.05,yin,,0,0,0,,我把红色方块加到了这些行为\N{\fs12}Okay, so I'm just adding the red block to these behaviors.
Dialogue: 0,0:42:32.05,0:42:35.99,yin,,0,0,0,,但愿这些你们都很熟悉 这是作业四的内容\N{\fs12}Again, hopefully this is all really familiar to you from assignment 4.
Dialogue: 0,0:42:35.99,0:42:39.42,yin,,0,0,0,,看看我们现在有些什么\N{\fs12}So let's run to see what we've got now.
Dialogue: 0,0:42:39.42,0:42:42.12,yin,,0,0,0,,我们有了重力 碰撞和弹性\N{\fs12}So we've got gravity, collision and elastic,
Dialogue: 0,0:42:42.12,0:42:45.58,yin,,0,0,0,,于是这个红色方块就会下落弹起\N{\fs12}so this red block, boom, it goes down and it bounces.
Dialogue: 0,0:42:45.58,0:42:48.22,yin,,0,0,0,,这很棒 我们开了个好头\N{\fs12}So this is excellent, we've got a good start here.
Dialogue: 0,0:42:48.22,0:42:50.69,yin,,0,0,0,,很不幸的是 这还不是现实世界的重力\N{\fs12}Unfortunately, this is not real-world gravity,
Dialogue: 0,0:42:50.69,0:42:51.89,yin,,0,0,0,,转动设备\N{\fs12}I'm moving this thing around,
Dialogue: 0,0:42:51.89,0:42:54.25,yin,,0,0,0,,它还是在这个方向上弹\N{\fs12}it's still going straight down and bouncing.
Dialogue: 0,0:42:54.25,0:42:59.15,yin,,0,0,0,,因为默认重力是视图中的Y方向向下\N{\fs12}That's because the default gravity is down, in other words increasing Y in my view.
Dialogue: 0,0:42:59.15,0:43:02.23,yin,,0,0,0,,下面我将使用运动管理器\N{\fs12}So what I'm going to do now is use the motion manager
Dialogue: 0,0:43:02.23,0:43:05.78,yin,,0,0,0,,将重力从Y方向向下\N{\fs12}to set the gravity to instead of being down,
Dialogue: 0,0:43:05.78,0:43:09.74,yin,,0,0,0,,设为实际重力 使用加速计\N{\fs12}to be wherever the real gravity is, by using the accelerometer.
Dialogue: 0,0:43:09.74,0:43:12.97,yin,,0,0,0,,记得吧 加速计测量的总是重力加速度\N{\fs12}Okay, remember, the accelerometer is always measuring acceleration due
Dialogue: 0,0:43:12.97,0:43:17.11,yin,,0,0,0,,这样我就总能知道实际重力在哪\N{\fs12}to gravity so I will always know where real gravity is.
Dialogue: 0,0:43:17.11,0:43:19.08,yin,,0,0,0,,让我们来做这个\N{\fs12}So let's do that.
Dialogue: 0,0:43:19.08,0:43:22.29,yin,,0,0,0,,这也很简单 我们在startGame中来做这个\N{\fs12}That's pretty straightforward too, we're going to do that here in Start Game.
Dialogue: 0,0:43:22.29,0:43:26.87,yin,,0,0,0,,做Core Motion的任何事情 都需要一个运动管理器\N{\fs12}So to do anything with core motion, I need a motion manager.
Dialogue: 0,0:43:26.87,0:43:28.53,yin,,0,0,0,,到这里获得一个运动管理器\N{\fs12}So let's go get a motion manager here.
Dialogue: 0,0:43:28.53,0:43:32.60,yin,,0,0,0,,设置一个属性 非原子 强\N{\fs12}I'm going to make a property, non-atomic strong,
Dialogue: 0,0:43:32.60,0:43:36.51,yin,,0,0,0,,CMMotionManager 我需要导入\N{\fs12}CMMotionManager, okay I need to import.
Dialogue: 0,0:43:36.51,0:43:38.65,yin,,0,0,0,,Core Motion\N{\fs12}Core motion.
Dialogue: 0,0:43:38.65,0:43:40.67,yin,,0,0,0,,哦 不是Core Media\N{\fs12}Oops, not core media,
Dialogue: 0,0:43:40.67,0:43:42.22,yin,,0,0,0,,Core Motion\N{\fs12}core motion.
Dialogue: 0,0:43:43.46,0:43:47.22,yin,,0,0,0,,好 现在我就有了一个运动管理器\N{\fs12}Alright. And now I have a motion manager,
Dialogue: 0,0:43:47.23,0:43:51.28,yin,,0,0,0,,我将惰性实例化这个东西\N{\fs12}and I'm going to lazily instantiate this thing.
Dialogue: 0,0:43:51.28,0:43:53.82,yin,,0,0,0,,让我们在下面这里来做\N{\fs12}So let's do that down here.
Dialogue: 0,0:43:53.82,0:43:57.30,yin,,0,0,0,,CMMotionManager\N{\fs12}CMMotionManager,
Dialogue: 0,0:43:57.30,0:44:00.18,yin,,0,0,0,,if (!_motionManager)\N{\fs12}if not motion manager,
Dialogue: 0,0:44:00.18,0:44:03.77,yin,,0,0,0,,那么_motionManager =\N{\fs12}then motion manager equals
Dialogue: 0,0:44:03.77,0:44:07.47,yin,,0,0,0,,CMMotionManager alloc init\N{\fs12}CMMotionManager alloc init,
Dialogue: 0,0:44:07.47,0:44:11.03,yin,,0,0,0,,然后我这样设置运动管理器\N{\fs12}and then I'm going to set the motion manager
Dialogue: 0,0:44:11.03,0:44:17.67,yin,,0,0,0,,让它进行加速计更新 频率10次每秒\N{\fs12}to do accelerometer updates at 10 per second.
Dialogue: 0,0:44:17.67,0:44:18.49,yin,,0,0,0,,应该够了\N{\fs12}Should be enough.
Dialogue: 0,0:44:18.49,0:44:19.98,yin,,0,0,0,,我是说 这里对于UI\N{\fs12}I mean, I'm doing UI here.
Dialogue: 0,0:44:19.98,0:44:24.92,yin,,0,0,0,,我觉得10次每秒就足够让红色方块\N{\fs12}I think 10 per second is going to give me smooth enough changing of direction,
Dialogue: 0,0:44:24.92,0:44:27.94,yin,,0,0,0,,在运动中获得平滑的方向变化了\N{\fs12}of my red square as I move around, but you know,
Dialogue: 0,0:44:27.94,0:44:31.69,yin,,0,0,0,,不过如果反应不够快 我可以调高一些\N{\fs12}I could crank it up a little bit if it doesn't seem responsive enough to my moving,
Dialogue: 0,0:44:31.69,0:44:34.13,yin,,0,0,0,,如果反应太快 我也可以调低一些\N{\fs12}or I could crank it down if it seems plenty responsive
Dialogue: 0,0:44:34.13,0:44:37.40,yin,,0,0,0,,这样就能避免绘制的内容多于需要绘制的内容\N{\fs12}and I just don't want to do any more drawing than I have to do.
Dialogue: 0,0:44:37.40,0:44:39.93,yin,,0,0,0,,这里先设为这个\N{\fs12}So we're going to set it to be that,
Dialogue: 0,0:44:39.93,0:44:43.07,yin,,0,0,0,,然后返回我们的运动管理器\N{\fs12}and then let's return our motion manager.
Dialogue: 0,0:44:43.07,0:44:46.37,yin,,0,0,0,,现在我有了这个运动管理器\N{\fs12}Okay, so now we have this motion manager, so now what I'm going
Dialogue: 0,0:44:46.37,0:44:49.76,yin,,0,0,0,,然后我要检查\N{\fs12}to do is say first of all I'm going to check to see
Dialogue: 0,0:44:49.76,0:44:54.72,yin,,0,0,0,,我是否已经在进行加速计更新\N{\fs12}if I'm already doing accelerometer updates,
Dialogue: 0,0:44:54.72,0:44:58.04,yin,,0,0,0,,这里我说 isAccelerometerActive\N{\fs12}so I'm going to say accelerometer active.
Dialogue: 0,0:44:59.64,0:45:03.99,yin,,0,0,0,,我只在加速计没有在活动时\N{\fs12}And I'm only going to start monitoring this thing
Dialogue: 0,0:45:03.99,0:45:07.48,yin,,0,0,0,,才开始监视这个东西\N{\fs12}if the accelerometer is not already active.
Dialogue: 0,0:45:07.48,0:45:10.16,yin,,0,0,0,,哦 让我删掉这个 谢谢\N{\fs12}Whoops, let me...erase...thank you...okay.
Dialogue: 0,0:45:10.16,0:45:13.21,yin,,0,0,0,,如果没在活动 那我就会\N{\fs12}So if it's not active, then I'm going
Dialogue: 0,0:45:13.21,0:45:16.14,yin,,0,0,0,,给它一个block来调用\N{\fs12}to basically give it a block to call me,
Dialogue: 0,0:45:16.14,0:45:21.52,yin,,0,0,0,,而block的作用是更新重力行为的重力\N{\fs12}and all I'm going to do in that block is update my gravity behavior's gravity.
Dialogue: 0,0:45:21.52,0:45:24.02,yin,,0,0,0,,让我们来做这个\N{\fs12}So let's do that.
Dialogue: 0,0:45:24.02,0:45:26.49,yin,,0,0,0,,self.motionManager\N{\fs12}Self dot motion manager,
Dialogue: 0,0:45:26.49,0:45:30.74,yin,,0,0,0,,startAccelerometerUpdatesToQueue\N{\fs12}start accelerometer updates to queue,
Dialogue: 0,0:45:30.74,0:45:33.35,yin,,0,0,0,,我将给它一个队列 每秒仅仅10次\N{\fs12}so we'll give it a queue, I'm only doing 10 per second,
Dialogue: 0,0:45:33.35,0:45:36.67,yin,,0,0,0,,我想主队列处理得来\N{\fs12}I think I can easily go main queue on this one.
Dialogue: 0,0:45:36.67,0:45:38.82,yin,,0,0,0,,因此这里设为主队列\N{\fs12}So I'll go main queue,
Dialogue: 0,0:45:40.98,0:45:43.35,yin,,0,0,0,,这里是处理器\N{\fs12}and here's the handler.
Dialogue: 0,0:45:43.35,0:45:44.81,yin,,0,0,0,,双击得到处理器\N{\fs12}Double clicking to get the handler,
Dialogue: 0,0:45:44.81,0:45:48.96,yin,,0,0,0,,放到这里来 这样更容易看清\N{\fs12}we'll put this right here, in fact, we'll make it even easier
Dialogue: 0,0:45:48.96,0:45:52.34,yin,,0,0,0,,把这里移回去 像这样\N{\fs12}to see, we'll move this back here like this.
Dialogue: 0,0:45:52.34,0:45:53.61,yin,,0,0,0,,好 这是处理器\N{\fs12}Alright. So here's our handler.
Dialogue: 0,0:45:53.61,0:45:55.95,yin,,0,0,0,,在处理器中我们要做什么呢\N{\fs12}And what do we want to do inside this handler?
Dialogue: 0,0:45:55.95,0:45:59.66,yin,,0,0,0,,我们要获得加速度的x和y\N{\fs12}Well let's get the X and Y of acceleration,
Dialogue: 0,0:45:59.66,0:46:04.11,yin,,0,0,0,,让我们获得x 这是accelerometerData\N{\fs12}so let's get the X, that's accelerometer data.
Dialogue: 0,0:46:04.11,0:46:06.22,yin,,0,0,0,,也就是方块的这个参数\N{\fs12}So that's this argument here to our block,
Dialogue: 0,0:46:06.22,0:46:08.09,yin,,0,0,0,,.acceleration\N{\fs12}dot acceleration,
Dialogue: 0,0:46:08.09,0:46:10.96,yin,,0,0,0,,这就是现有的加速度\N{\fs12}that's the acceleration that is happening,
Dialogue: 0,0:46:10.96,0:46:13.27,yin,,0,0,0,,而x是我要的方向\N{\fs12}and X is the direction I want.
Dialogue: 0,0:46:13.27,0:46:15.18,yin,,0,0,0,,这是x方向\N{\fs12}So here's the X direction, and then I'm going
Dialogue: 0,0:46:15.18,0:46:20.38,yin,,0,0,0,,y也一样 y = accelerometerData.acceleration.y\N{\fs12}to do the same thing Y equals accelerometer data, acceleration, dot Y.
Dialogue: 0,0:46:20.38,0:46:23.94,yin,,0,0,0,,这样我就有了x和y方向上由于重力产生的加速度\N{\fs12}So now I have the X and Y acceleration due to gravity.
Dialogue: 0,0:46:23.94,0:46:26.70,yin,,0,0,0,,还有设备的运动\N{\fs12}And do the device moving.
Dialogue: 0,0:46:26.70,0:46:27.34,yin,,0,0,0,,两者都\N{\fs12}Both.
Dialogue: 0,0:46:27.34,0:46:28.62,yin,,0,0,0,,这是一个组合\N{\fs12}So it's a kind of combination.
Dialogue: 0,0:46:28.62,0:46:31.84,yin,,0,0,0,,如果我将设备向下倾斜 方块就会往下\N{\fs12}So that way, if I tilt my thing down, my blocks are going to go down.
Dialogue: 0,0:46:31.84,0:46:34.42,yin,,0,0,0,,如果反过来倾斜 方块也会反过来\N{\fs12}If I tilt it back the other way, it's going to go the other way, right?
Dialogue: 0,0:46:34.42,0:46:37.70,yin,,0,0,0,,如果我摇动它 它就会朝那个方向加速\N{\fs12}If I shake it over, it's going to accelerate a little bit in that direction.
Dialogue: 0,0:46:37.70,0:46:40.36,yin,,0,0,0,,这里方块对设备加速有些响应\N{\fs12}So it's kind of like that block is going to be responding
Dialogue: 0,0:46:40.36,0:46:44.20,yin,,0,0,0,,不过主要是基于重力的加速度\N{\fs12}to my acceleration and my device, but mostly acceleration due to gravity.
Dialogue: 0,0:46:44.20,0:46:49.71,yin,,0,0,0,,我如何设置这个行为的重力方向呢\N{\fs12}So how do I set the direction of the gravity of that behavior?
Dialogue: 0,0:46:49.71,0:46:54.89,yin,,0,0,0,,我有self.gravity 这是我的重力行为\N{\fs12}Well, I have self dot gravity, that's my gravity behavior.
Dialogue: 0,0:46:54.89,0:46:59.15,yin,,0,0,0,,它有gravityDirection 重力方向\N{\fs12}It has something called gravity direction, which is exactly what we want.
Dialogue: 0,0:46:59.15,0:47:01.44,yin,,0,0,0,,这是一个向量 一个CGVector\N{\fs12}It's a vector, a CG vector,
Dialogue: 0,0:47:01.45,0:47:05.07,yin,,0,0,0,,它有一个Δx和一个Δy\N{\fs12}and it just has a delta X and delta Y vector, right?
Dialogue: 0,0:47:05.07,0:47:09.00,yin,,0,0,0,,同数学中的向量一样 我们有这个向量\N{\fs12}So like in math, vector, and so we're just going to have the vector,
Dialogue: 0,0:47:09.01,0:47:12.32,yin,,0,0,0,,让我们尝试x和y 看会发生什么\N{\fs12}let's try doing X and Y, see what happens here.
Dialogue: 0,0:47:12.32,0:47:15.38,yin,,0,0,0,,它无法正常工作 不过不妨一试\N{\fs12}It's not going to work, but we'll try it.
Dialogue: 0,0:47:15.38,0:47:18.24,yin,,0,0,0,,然后是分号\N{\fs12}And we can do semicolon.
Dialogue: 0,0:47:18.24,0:47:21.97,yin,,0,0,0,,有些人应该已经开始想这为什么不行了\N{\fs12}Okay. Now, hopefully in some of your minds you're trying
Dialogue: 0,0:47:21.97,0:47:26.08,yin,,0,0,0,,毕竟这看起来似乎应该能行才对\N{\fs12}to think why this is not going to work, because it seems like this should just work.
Dialogue: 0,0:47:26.08,0:47:28.82,yin,,0,0,0,,我们看看会发生什么\N{\fs12}But let's see what happens.
Dialogue: 0,0:47:28.82,0:47:31.01,yin,,0,0,0,,有人猜猜为什么不能正常工作吗 请讲\N{\fs12}Anyone want to hazard a guess why it's not going to work? Yeah?
Dialogue: 0,0:47:35.77,0:47:39.25,yin,,0,0,0,,对 回答是\N{\fs12}Yeah, so the answer that was posited is
Dialogue: 0,0:47:39.25,0:47:41.82,yin,,0,0,0,,纵轴可以翻转 说得没错\N{\fs12}that the vertical axis can be flipped, and that's true.
Dialogue: 0,0:47:41.82,0:47:44.52,yin,,0,0,0,,或许更好的说法是\N{\fs12}Maybe a better way of saying it is that the acceleration
Dialogue: 0,0:47:44.52,0:47:48.30,yin,,0,0,0,,这个设备的加速度总是\N{\fs12}of this device is always the acceleration
Dialogue: 0,0:47:48.30,0:47:52.93,yin,,0,0,0,,在设备中朝这个方向往下\N{\fs12}where it's...down this way in the device,
Dialogue: 0,0:47:52.93,0:47:55.62,yin,,0,0,0,,如果我把它横过来\N{\fs12}so if I have it turned sideways, okay,
Dialogue: 0,0:47:55.62,0:47:57.43,yin,,0,0,0,,注意方块在弹\N{\fs12}then look at my thing it's bouncing.
Dialogue: 0,0:47:57.43,0:48:01.41,yin,,0,0,0,,把这个拿起来 它却朝这个方向弹\N{\fs12}I have this turned up, face-up, and it's bouncing this way.
Dialogue: 0,0:48:01.41,0:48:03.22,yin,,0,0,0,,为什么这样弹呢\N{\fs12}Why is it bouncing this way?
Dialogue: 0,0:48:03.22,0:48:06.98,yin,,0,0,0,,因为它是在这个轴上进行测量\N{\fs12}That's because it's measuring this stuff all on this axis.
Dialogue: 0,0:48:06.98,0:48:10.84,yin,,0,0,0,,我想让它在这个轴上测量 这里是z\N{\fs12}I want it measuring it in this axis, basically, where here's Z,
Dialogue: 0,0:48:10.84,0:48:13.51,yin,,0,0,0,,这里是y 这里是x\N{\fs12}here's Y, and here's X.
Dialogue: 0,0:48:13.51,0:48:17.73,yin,,0,0,0,,因此我需要知道 用户将设备朝向哪个方向\N{\fs12}So I basically have to know which way the user has my device turned.
Dialogue: 0,0:48:17.73,0:48:21.05,yin,,0,0,0,,这里我把它放成横屏模式\N{\fs12}So I have it turned kind of landscape.
Dialogue: 0,0:48:21.05,0:48:23.87,yin,,0,0,0,,横屏左 home键在左边\N{\fs12}Landscape left, the home button is on the left.
Dialogue: 0,0:48:23.87,0:48:27.40,yin,,0,0,0,,我需要翻转x和y\N{\fs12}So that's going to-- I'm going to have to flip the X and Y
Dialogue: 0,0:48:27.40,0:48:29.59,yin,,0,0,0,,去-y而不是y\N{\fs12}and go negative Y instead of Y,
Dialogue: 0,0:48:29.59,0:48:31.87,yin,,0,0,0,,如果是这个方向\N{\fs12}and if I were doing it this way,
Dialogue: 0,0:48:31.87,0:48:34.12,yin,,0,0,0,,这里我锁了\N{\fs12}which I have my...locked in here.
Dialogue: 0,0:48:34.12,0:48:36.73,yin,,0,0,0,,如果我反过来 它就会翻转\N{\fs12}But if I do it the other way around, then it's flipped.
Dialogue: 0,0:48:36.73,0:48:40.45,yin,,0,0,0,,这是另一个方向 如果这样向上 它会是另一个方向\N{\fs12}It has to be the other way, and if I'm doing it up this way, then it's another way.
Dialogue: 0,0:48:40.45,0:48:46.22,yin,,0,0,0,,重力加速度怎样影响我的视图取决于\N{\fs12}So basically, which way the acceleration to gravity is affecting my view depends
Dialogue: 0,0:48:46.22,0:48:48.80,yin,,0,0,0,,视图的朝向是怎样的\N{\fs12}on what the orientation of my view is.
Dialogue: 0,0:48:48.80,0:48:51.09,yin,,0,0,0,,我们加些代码来处理这个\N{\fs12}So let's put some code in to deal with that.
Dialogue: 0,0:48:51.09,0:48:52.81,yin,,0,0,0,,其实很简单\N{\fs12}Turns out to be pretty straightforward.
Dialogue: 0,0:48:52.81,0:48:54.47,yin,,0,0,0,,我们不能这么头脑简单\N{\fs12}So we can't just do this simple one.
Dialogue: 0,0:48:54.47,0:48:56.08,yin,,0,0,0,,将这个删掉\N{\fs12}So let's take that out.
Dialogue: 0,0:48:56.08,0:49:00.03,yin,,0,0,0,,为了节省键入工作量 我这样\N{\fs12}And...to save some typing, we'll do it this way.
Dialogue: 0,0:49:00.03,0:49:04.57,yin,,0,0,0,,所有视图控制器都有这个属性\N{\fs12}So all view controllers have this property called
Dialogue: 0,0:49:04.57,0:49:06.37,yin,,0,0,0,,self.interfaceOrientation\N{\fs12}self interface orientation that will
Dialogue: 0,0:49:06.37,0:49:08.85,yin,,0,0,0,,告诉你是竖屏还是横屏\N{\fs12}tell you whether you're portrait, portrait upside-down,
Dialogue: 0,0:49:08.85,0:49:10.34,yin,,0,0,0,,是正的还是反的\N{\fs12}landscape left or landscape right.
Dialogue: 0,0:49:10.34,0:49:15.02,yin,,0,0,0,,这是视图控制器告诉你 你还可以从设备得到\N{\fs12}That's telling you, the view controller, you can also get this from the device.
Dialogue: 0,0:49:15.02,0:49:18.27,yin,,0,0,0,,还有一个很有趣 你可以从UIApplication得到\N{\fs12}And you can also get an interesting one from UI application,
Dialogue: 0,0:49:18.28,0:49:22.07,yin,,0,0,0,,或许在这里使用会更好 也就是statusBarOrientation\N{\fs12}might even be better to use here, which is status bar orientation.
Dialogue: 0,0:49:22.07,0:49:24.06,yin,,0,0,0,,这告诉你状态栏在哪\N{\fs12}That tells you where the status bar is.
Dialogue: 0,0:49:24.06,0:49:25.96,yin,,0,0,0,,或许这是最正确的东西\N{\fs12}And that's really probably the most correct thing,
Dialogue: 0,0:49:25.96,0:49:27.84,yin,,0,0,0,,或许也是这里我们应当用的\N{\fs12}and probably what we should be using here.
Dialogue: 0,0:49:27.84,0:49:29.15,yin,,0,0,0,,因为在用户看来\N{\fs12}Because from the user's standpoint,
Dialogue: 0,0:49:29.15,0:49:32.37,yin,,0,0,0,,状态栏在哪 哪就应该是屏幕顶部\N{\fs12}wherever their status bar is, that's the top of the screen.
Dialogue: 0,0:49:32.37,0:49:36.42,yin,,0,0,0,,哪怕是像这样旋转 它处在错误的位置\N{\fs12}Even if it's been slow to notice rotation, and it's in the wrong place,
Dialogue: 0,0:49:36.42,0:49:37.81,yin,,0,0,0,,对于用户而言\N{\fs12}to the user, it's still to them,
Dialogue: 0,0:49:37.81,0:49:39.94,yin,,0,0,0,,用户仍然认为这是屏幕顶部\N{\fs12}they think that's the top of their screen.
Dialogue: 0,0:49:39.94,0:49:43.21,yin,,0,0,0,,不过这里只需要跟踪就行了\N{\fs12}But this is mostly going to track that anyway,
Dialogue: 0,0:49:43.21,0:49:45.48,yin,,0,0,0,,我们用这个 这个更方便\N{\fs12}so we'll use this one, it's convenient.
Dialogue: 0,0:49:45.48,0:49:47.47,yin,,0,0,0,,这里 横屏右\N{\fs12}And so here, landscape right,
Dialogue: 0,0:49:47.47,0:49:51.93,yin,,0,0,0,,可以看到 x和y交换了位置\N{\fs12}you can see we are swapping the X and Y. You see?
Dialogue: 0,0:49:51.93,0:49:55.14,yin,,0,0,0,,这是x 我用的是y\N{\fs12}This is the X, and I'm using the Y. Alright?
Dialogue: 0,0:49:55.14,0:49:59.46,yin,,0,0,0,,在横屏中我们都这样做了\N{\fs12}And so both of the landscapes we're doing that in,
Dialogue: 0,0:49:59.46,0:50:03.12,yin,,0,0,0,,y是负是正则依赖于\N{\fs12}and whether Y is negative or positive depends, you know,
Dialogue: 0,0:50:03.12,0:50:05.36,yin,,0,0,0,,横屏模式是反过来的 还是正确方向向上\N{\fs12}Y increases as we go down, so it just depends
Dialogue: 0,0:50:05.36,0:50:08.64,yin,,0,0,0,,横屏模式是反过来的 还是正确方向向上\N{\fs12}on whether we're portrait upside down or portrait right side up,
Dialogue: 0,0:50:08.64,0:50:10.44,yin,,0,0,0,,竖屏模式也一样\N{\fs12}and same thing for landscape.
Dialogue: 0,0:50:10.44,0:50:13.49,yin,,0,0,0,,你们可以以后再来研究这个\N{\fs12}So you can look at these, stare at these later,
Dialogue: 0,0:50:13.49,0:50:16.30,yin,,0,0,0,,确信这是正确的x和y\N{\fs12}as in convince yourself these are the right Xs and Ys.
Dialogue: 0,0:50:16.32,0:50:19.20,yin,,0,0,0,,这里我们用的是不同的 具体要看情况\N{\fs12}But you can just see, that we're using different ones depending.
Dialogue: 0,0:50:19.20,0:50:22.39,yin,,0,0,0,,我们看看这个怎么样\N{\fs12}So let's see how this works.
Dialogue: 0,0:50:22.39,0:50:25.75,yin,,0,0,0,,找到一个很好的朝向\N{\fs12}Let's get ourselves into a nice orientation here.
Dialogue: 0,0:50:25.75,0:50:27.99,yin,,0,0,0,,这里\N{\fs12}Just, here.
Dialogue: 0,0:50:27.99,0:50:31.24,yin,,0,0,0,,现在是往下弹 然后我转动设备\N{\fs12}Alright, so now it's bouncing around, and if I tilt it, see,
Dialogue: 0,0:50:31.24,0:50:33.69,yin,,0,0,0,,它弹到了一侧 再转向另一侧\N{\fs12}it's going off to the side, or I tilt it to the other side,
Dialogue: 0,0:50:33.69,0:50:36.01,yin,,0,0,0,,或是转向这边 或是往下\N{\fs12}or tilt it this way or down.
Dialogue: 0,0:50:36.01,0:50:39.88,yin,,0,0,0,,它现在跟着我转动设备在运动\N{\fs12}So now it's following me, however I tilt my device,
Dialogue: 0,0:50:39.88,0:50:43.40,yin,,0,0,0,,它追随着重力 我还可以用它来\N{\fs12}it is following that gravity, and I can kind of use it
Dialogue: 0,0:50:43.40,0:50:47.56,yin,,0,0,0,,越来越快地加速 看到了吗\N{\fs12}to accelerate faster and faster even, see that?
Dialogue: 0,0:50:47.56,0:50:50.23,yin,,0,0,0,,这就是我想要的\N{\fs12}So this is exactly what I want.
Dialogue: 0,0:50:50.23,0:50:55.13,yin,,0,0,0,,现在我就能够控制红色方块运动到哪\N{\fs12}I've got this thing so that I can control where my red block goes,
Dialogue: 0,0:50:55.13,0:50:58.10,yin,,0,0,0,,运动取决于我倾斜设备的方式\N{\fs12}depending on how I tilt my device.
Dialogue: 0,0:50:58.10,0:51:01.70,yin,,0,0,0,,我锁定了我的用户界面朝向\N{\fs12}Okay, now I've locked my user interface orientation here.
Dialogue: 0,0:51:01.70,0:51:05.14,yin,,0,0,0,,看 如果解锁 它就会有些让人不知所措\N{\fs12}Watch, if I unlock it, then it's a little disconcerting
Dialogue: 0,0:51:05.14,0:51:07.55,yin,,0,0,0,,我点这里 转向 哦\N{\fs12}because okay I'm clicking here, now I turn, and whoop!
Dialogue: 0,0:51:07.55,0:51:10.29,yin,,0,0,0,,我的状态栏移动了 但还是能行\N{\fs12}My status bar moved, but it's still working.
Dialogue: 0,0:51:10.29,0:51:12.15,yin,,0,0,0,,因为每次获得更新时\N{\fs12}Because every time I get an update,
Dialogue: 0,0:51:12.15,0:51:15.59,yin,,0,0,0,,它还是会重新调整下方在哪\N{\fs12}it's still readjusting to where down is.
Dialogue: 0,0:51:15.59,0:51:17.77,yin,,0,0,0,,用户可能有些晕头转向\N{\fs12}It's a little disconcerting to the user.
Dialogue: 0,0:51:17.77,0:51:20.13,yin,,0,0,0,,如果我是用户 我在玩这个游戏\N{\fs12}If I were a user and really playing this game,
Dialogue: 0,0:51:20.13,0:51:25.87,yin,,0,0,0,,我或许就应该锁定设备的朝向\N{\fs12}I would probably, you know, lock my thing into some orientation,
Dialogue: 0,0:51:25.87,0:51:28.43,yin,,0,0,0,,开关在这里 像这样\N{\fs12}where's that switch, here it is, like this.
Dialogue: 0,0:51:28.43,0:51:30.10,yin,,0,0,0,,这样玩起来就更有趣一些\N{\fs12}It would just be a little more fun to play this game
Dialogue: 0,0:51:30.10,0:51:33.23,yin,,0,0,0,,我的状态栏不会到处转 不过这还是能工作\N{\fs12}if it wasn't constantly switching my status bar, but it's still working,
Dialogue: 0,0:51:33.23,0:51:35.61,yin,,0,0,0,,只是这样会更好一些\N{\fs12}it's just a little...okay, this is better.
Dialogue: 0,0:51:35.61,0:51:37.95,yin,,0,0,0,,之前讲的都理解吗 有问题\N{\fs12}Make sense what we're doing so far? Question?
Dialogue: 0,0:51:41.51,0:51:43.93,yin,,0,0,0,,问题是 编程上能否锁定屏幕旋转\N{\fs12}The question is can you programmatically do rotation lock?
Dialogue: 0,0:51:43.93,0:51:48.13,yin,,0,0,0,,理论上可以 因为你可以指定说 应用程序只在\N{\fs12}Well, you kind of can, because you can specify that you're application only works
Dialogue: 0,0:51:48.13,0:51:49.75,yin,,0,0,0,,特定朝向下能够工作\N{\fs12}in certain orientations, right?
Dialogue: 0,0:51:49.75,0:51:54.17,yin,,0,0,0,,这样实际上就将朝向锁定住了\N{\fs12}And so by doing so, then you can basically do orientation lock.
Dialogue: 0,0:51:54.17,0:51:57.01,yin,,0,0,0,,我不知道有没有做法可以说\N{\fs12}So. I don't know that there's a way to kind of say
Dialogue: 0,0:51:57.01,0:51:59.15,yin,,0,0,0,,锁定在当前朝向\N{\fs12}"lock it in the current orientation,"
Dialogue: 0,0:51:59.15,0:52:01.79,yin,,0,0,0,,我不确定 也有可能有\N{\fs12}like I'm not sure there's a way to do that, there might be,
Dialogue: 0,0:52:01.79,0:52:04.40,yin,,0,0,0,,不过我不知道\N{\fs12}but I don't know offhand.
Dialogue: 0,0:52:04.40,0:52:07.44,yin,,0,0,0,,这样我们就能让方块弹起 并对我们的行为作出反应\N{\fs12}Alright. So now we've got this thing bouncing and responding
Dialogue: 0,0:52:07.44,0:52:08.75,yin,,0,0,0,,这很棒\N{\fs12}to our thing, that's a good idea.
Dialogue: 0,0:52:08.75,0:52:11.36,yin,,0,0,0,,下面我将\N{\fs12}One thing I'm going to do also here is I'm going
Dialogue: 0,0:52:11.36,0:52:14.88,yin,,0,0,0,,在开始之前将重力方向设为\N{\fs12}to set the gravity direction before we start,
Dialogue: 0,0:52:14.88,0:52:18.22,yin,,0,0,0,,VectorMake(0,0)\N{\fs12}equal to vector makes zero, zero.
Dialogue: 0,0:52:18.22,0:52:20.50,yin,,0,0,0,,这是因为在开始之前\N{\fs12}That's because I'm going to be starting this thing going off.
Dialogue: 0,0:52:20.50,0:52:25.86,yin,,0,0,0,,我不想让第一个有任何的向下加速度\N{\fs12}I don't want, before the first one goes off, to have any kind of downward acceleration,
Dialogue: 0,0:52:25.87,0:52:28.39,yin,,0,0,0,,我这里设置成为没有重力\N{\fs12}so I'm basically going to set it so we have no gravity, and then
Dialogue: 0,0:52:28.39,0:52:32.17,yin,,0,0,0,,然后开启加速计 让这个开始运动\N{\fs12}I'm going to start this accelerometer to get the, this going.
Dialogue: 0,0:52:32.17,0:52:34.01,yin,,0,0,0,,这很好\N{\fs12}So that's good.
Dialogue: 0,0:52:34.01,0:52:38.76,yin,,0,0,0,,如果再加一个方块就会更酷了\N{\fs12}Alright. This would be kind of cool if we added another block.
Dialogue: 0,0:52:38.76,0:52:42.78,yin,,0,0,0,,这里让我再来创建一个黑色方块\N{\fs12}So let's put another block in here. I'm going to create a black block.
Dialogue: 0,0:52:42.78,0:52:46.26,yin,,0,0,0,,到上面这里 设置属性 非原子\N{\fs12}So I'm going to go up here, and set property, non-atomic,
Dialogue: 0,0:52:46.26,0:52:49.99,yin,,0,0,0,,或许这些应该设为弱\N{\fs12}actually might as well make these weak,
Dialogue: 0,0:52:49.99,0:52:53.61,yin,,0,0,0,,如果它们离开了视图层级\N{\fs12}if they leave the view hierarchy,
Dialogue: 0,0:52:53.61,0:52:55.91,yin,,0,0,0,,我们就应该把它们清除掉\N{\fs12}then we'll clean them up.
Dialogue: 0,0:52:55.91,0:52:57.74,yin,,0,0,0,,黑色方块\N{\fs12}Black block.
Dialogue: 0,0:52:57.74,0:53:00.58,yin,,0,0,0,,注意 这里的所有行为也都设为了弱\N{\fs12}Notice I made these behaviors all weak as well.
Dialogue: 0,0:53:00.58,0:53:01.99,yin,,0,0,0,,为什么设为弱呢\N{\fs12}Why did I make these weak?
Dialogue: 0,0:53:01.99,0:53:04.74,yin,,0,0,0,,因为 如果这个动态动画器没有\N{\fs12}Well, because if this dynamic animator isn't holding
Dialogue: 0,0:53:04.74,0:53:07.00,yin,,0,0,0,,强引用它们 那我就不想要它们了\N{\fs12}on strongly to them, then I don't want them.
Dialogue: 0,0:53:07.00,0:53:10.16,yin,,0,0,0,,outlet设为弱也是一样的道理\N{\fs12}Same thing when we make an outlet weak, right?
Dialogue: 0,0:53:10.16,0:53:12.48,yin,,0,0,0,,如果视图层级不再引用它们\N{\fs12}If the view hierarchy isn't holding on to them,
Dialogue: 0,0:53:12.48,0:53:14.65,yin,,0,0,0,,这里我没有使用故事板\N{\fs12}and since I'm not doing storyboards here,
Dialogue: 0,0:53:14.65,0:53:16.72,yin,,0,0,0,,我只是写代码 不过情况还是一样\N{\fs12}I'm doing code, I'm still kind of doing the same thing.
Dialogue: 0,0:53:16.72,0:53:18.91,yin,,0,0,0,,如果不再处在视图层级中\N{\fs12}I don't want my red and black block to be around
Dialogue: 0,0:53:18.91,0:53:21.61,yin,,0,0,0,,我显然就不再需要红色和黑色方块\N{\fs12}if I take them out of the view hierarchy.
Dialogue: 0,0:53:21.61,0:53:23.70,yin,,0,0,0,,下面来创建黑色方块\N{\fs12}Alright, so let's make my black block.
Dialogue: 0,0:53:23.70,0:53:24.73,yin,,0,0,0,,很类似\N{\fs12}Actually it's very similar.
Dialogue: 0,0:53:24.73,0:53:28.73,yin,,0,0,0,,我们可以从红色方块那里复制粘贴\N{\fs12}Let's copy and paste my red block,
Dialogue: 0,0:53:28.73,0:53:34.14,yin,,0,0,0,,黑色方块 我们这样做\N{\fs12}black block, and we'll do this, and...
Dialogue: 0,0:53:38.95,0:53:39.90,yin,,0,0,0,,很有趣\N{\fs12}Well that's interesting.
Dialogue: 0,0:53:39.90,0:53:41.66,yin,,0,0,0,,这很奇怪\N{\fs12}Okay. That's very strange.
Dialogue: 0,0:53:41.66,0:53:45.67,yin,,0,0,0,,好 黑色方块 这里也是黑色方块\N{\fs12}Okay, black block, and then here's another black block,
Dialogue: 0,0:53:45.67,0:53:48.39,yin,,0,0,0,,黑色方块需要是黑色的\N{\fs12}and the black block wants to be black,
Dialogue: 0,0:53:48.39,0:53:52.71,yin,,0,0,0,,我们希望黑色方块有碰撞器的作用\N{\fs12}and we're going to have the black block do the collider,
Dialogue: 0,0:53:52.72,0:53:57.82,yin,,0,0,0,,但它不是弹性的 也不考虑重力这些\N{\fs12}but I'm not going to have it be as elastic, nor am I going to have it do the gravity.
Dialogue: 0,0:53:57.82,0:54:00.97,yin,,0,0,0,,黑色方块唯一运动的情况\N{\fs12}So the black block, the only thing that's going to make the black block move
Dialogue: 0,0:54:00.97,0:54:04.64,yin,,0,0,0,,是跟红色方块碰撞时\N{\fs12}is if we hit it with the red block. That's the only thing that can impart.
Dialogue: 0,0:54:04.64,0:54:07.46,yin,,0,0,0,,或是同边缘碰撞时\N{\fs12}Or if it collides with the edge, we'll get a little bit
Dialogue: 0,0:54:07.46,0:54:10.61,yin,,0,0,0,,我们会得到一些反应\N{\fs12}of reactive thing, but that's basically it.
Dialogue: 0,0:54:10.61,0:54:12.00,yin,,0,0,0,,这是黑色\N{\fs12}This is black.
Dialogue: 0,0:54:12.00,0:54:13.99,yin,,0,0,0,,让我们把黑色方块放到这里\N{\fs12}Alright? So let's put that black block on there,
Dialogue: 0,0:54:13.99,0:54:16.29,yin,,0,0,0,,两者一开始不能都在中间\N{\fs12}and let's not have them both start in the center,
Dialogue: 0,0:54:16.29,0:54:19.85,yin,,0,0,0,,这个开始于-100 这个开始于+100\N{\fs12}so we'll have that one start at minus 100 and this one start at plus 100.
Dialogue: 0,0:54:19.85,0:54:21.94,yin,,0,0,0,,看看是怎样的\N{\fs12}So we'll see what this looks like.
Dialogue: 0,0:54:21.94,0:54:28.22,yin,,0,0,0,,红色方块之外 加了一个黑色方块\N{\fs12}You add a black block to our red block.
Dialogue: 0,0:54:28.22,0:54:35.62,yin,,0,0,0,,可以看到 碰撞它 两者都会弹开\N{\fs12}Okay. So now if I can hit it, see you can see that they're both bouncing around.
Dialogue: 0,0:54:35.62,0:54:38.81,yin,,0,0,0,,红色这个有弹性\N{\fs12}The red one has more elasticity,
Dialogue: 0,0:54:38.81,0:54:43.25,yin,,0,0,0,,它会比黑色方块弹得更远\N{\fs12}so it bounces off quite a bit more powerfully than the black block.
Dialogue: 0,0:54:43.25,0:54:45.46,yin,,0,0,0,,不过我还是可以让黑色方块运动\N{\fs12}But I can still try and get that black block moving.
Dialogue: 0,0:54:45.46,0:54:48.48,yin,,0,0,0,,你可以很快将这做成一个游戏\N{\fs12}So now you can imagine turning this into a game pretty quick,
Dialogue: 0,0:54:48.48,0:54:53.12,yin,,0,0,0,,游戏的目标是保持黑色方块的运动\N{\fs12}which is the object of the game is to keep that black block moving.
Dialogue: 0,0:54:53.12,0:54:56.61,yin,,0,0,0,,运动维持得越好 你的得分就会越高\N{\fs12}The more you can make that black block move, the more points you get.
Dialogue: 0,0:54:56.61,0:55:00.61,yin,,0,0,0,,我们给这个游戏添加一个分数\N{\fs12}So let's go add some score. Let's add a score to this game.
Dialogue: 0,0:55:00.61,0:55:04.35,yin,,0,0,0,,这部分不能算是学习练习\N{\fs12}Now this part is not really that much of a learning exercise,
Dialogue: 0,0:55:04.35,0:55:09.82,yin,,0,0,0,,我只打算快速键入 你们可以以后去看\N{\fs12}so I'm going to just type that in, real fast, you can go look at this later.
Dialogue: 0,0:55:09.82,0:55:12.44,yin,,0,0,0,,涉及到很多属性\N{\fs12}It's got a whole bunch of properties involved
Dialogue: 0,0:55:12.44,0:55:15.13,yin,,0,0,0,,用来计分 像这样\N{\fs12}in keeping score, like that,
Dialogue: 0,0:55:15.13,0:55:18.23,yin,,0,0,0,,我们在代码中 只需要更新分数\N{\fs12}and all we need to do in our code is update the score.
Dialogue: 0,0:55:18.23,0:55:22.27,yin,,0,0,0,,我打算按加速计的频率更新计分\N{\fs12}And I'm going to update my score when the accelerometer goes off.
Dialogue: 0,0:55:22.27,0:55:25.06,yin,,0,0,0,,也就是10次每秒 这个频率似乎不错\N{\fs12}That's 10 times a second, that seems like a good rate to me,
Dialogue: 0,0:55:25.06,0:55:26.49,yin,,0,0,0,,我打算这样更新分值\N{\fs12}so I'm just going to update my score there.
Dialogue: 0,0:55:26.49,0:55:29.15,yin,,0,0,0,,我们来看看这个\N{\fs12}So let's look at that.
Dialogue: 0,0:55:29.15,0:55:33.35,yin,,0,0,0,,积分只是跟踪黑色方块在哪\N{\fs12}All the scorekeeping does is just keeps track of where the black block is,
Dialogue: 0,0:55:33.35,0:55:36.00,yin,,0,0,0,,它这样做了多久\N{\fs12}how long it's been doing that,
Dialogue: 0,0:55:36.00,0:55:38.24,yin,,0,0,0,,然后分数被写到中间\N{\fs12}and then it puts the score in the middle there. You can see,
Dialogue: 0,0:55:38.25,0:55:44.62,yin,,0,0,0,,这里同时记录了当前分数和目前最高分\N{\fs12}and it keeps both the current score and your highest score so far, with this block.
Dialogue: 0,0:55:44.62,0:55:48.61,yin,,0,0,0,,如果你让黑色方块停下 不再撞击它\N{\fs12}If you let the black block stay there, and you don't hit it,
Dialogue: 0,0:55:48.61,0:55:52.27,yin,,0,0,0,,可以看到 分值很快就会降低\N{\fs12}you can see that my score is going to start going down pretty soon.
Dialogue: 0,0:55:52.27,0:55:54.15,yin,,0,0,0,,看到了吧 正在下降\N{\fs12}See, it's going down.
Dialogue: 0,0:55:54.15,0:55:58.59,yin,,0,0,0,,再次撞击它 它又会开始运动\N{\fs12}But if I start hitting it again, make it move there we go,
Dialogue: 0,0:55:58.59,0:56:00.37,yin,,0,0,0,,分数又会上升\N{\fs12}it will start going back up again.
Dialogue: 0,0:56:00.37,0:56:05.79,yin,,0,0,0,,这样做得越久 分值就越难上升\N{\fs12}And the longer I keep doing this, the harder it is to get my score high,
Dialogue: 0,0:56:05.79,0:56:08.13,yin,,0,0,0,,现在还好\N{\fs12}but it's doing okay.
Dialogue: 0,0:56:08.13,0:56:10.90,yin,,0,0,0,,你们可以试试最高能得多少分\N{\fs12}So you can try and see what's the highest possible score.
Dialogue: 0,0:56:10.90,0:56:13.90,yin,,0,0,0,,我没有很好地完成保持黑色方块移动的任务\N{\fs12}Now I haven't done a very good job here of keeping that black block moving,
Dialogue: 0,0:56:13.90,0:56:16.27,yin,,0,0,0,,可以想象 分数还可以比这高很多\N{\fs12}so you can imagine the scores could be much, much higher.
Dialogue: 0,0:56:16.27,0:56:21.30,yin,,0,0,0,,还注意一点很有趣 碰到分数时 方块也会弹开\N{\fs12}Notice also for fun, I made it so that the score bounces off.
Dialogue: 0,0:56:21.30,0:56:23.14,yin,,0,0,0,,无法穿越分数\N{\fs12}So it doesn't go over the scores.
Dialogue: 0,0:56:23.14,0:56:25.06,yin,,0,0,0,,这会让游戏更难一些\N{\fs12}This will just kind of make it a little harder, actually,
Dialogue: 0,0:56:25.06,0:56:27.20,yin,,0,0,0,,你无法直接击中方块\N{\fs12}so you can't go straight to that block, you have to
Dialogue: 0,0:56:27.20,0:56:29.11,yin,,0,0,0,,你需要绕过分数的障碍\N{\fs12}think about the score being in the way.
Dialogue: 0,0:56:29.11,0:56:31.08,yin,,0,0,0,,这很酷\N{\fs12}So that's kind of cool.
Dialogue: 0,0:56:31.08,0:56:33.36,yin,,0,0,0,,我们准备把这发布到App商店\N{\fs12}We're almost ready to ship this on the app store.
Dialogue: 0,0:56:33.36,0:56:35.22,yin,,0,0,0,,还需要做什么呢\N{\fs12}What else are we going to do?
Dialogue: 0,0:56:35.22,0:56:40.34,yin,,0,0,0,,我们来想想这类游戏的一个很重要的部分\N{\fs12}Let's go ahead and think about an important part of a game like this,
Dialogue: 0,0:56:40.35,0:56:42.59,yin,,0,0,0,,也就是暂停\N{\fs12}which is pausing.
Dialogue: 0,0:56:42.59,0:56:45.04,yin,,0,0,0,,为什么要暂停呢\N{\fs12}Why would you ever want to pause this game?
Dialogue: 0,0:56:45.04,0:56:46.02,yin,,0,0,0,,原因有很多\N{\fs12}A lot of reasons.
Dialogue: 0,0:56:46.02,0:56:49.61,yin,,0,0,0,,这个游戏可能处在一系列游戏中 有一个标签栏\N{\fs12}What if this game were in a suite of games, where there was a tab bar,
Dialogue: 0,0:56:49.61,0:56:50.95,yin,,0,0,0,,你可以在游戏间切换\N{\fs12}and you were switching between games.
Dialogue: 0,0:56:50.95,0:56:53.33,yin,,0,0,0,,点击其它选项卡切换到别的游戏\N{\fs12}When you switch to another game on a different tab,
Dialogue: 0,0:56:53.33,0:56:56.80,yin,,0,0,0,,例如Machismo 这个游戏就需要暂停\N{\fs12}like machismo or something, you would want this game to pause,
Dialogue: 0,0:56:56.80,0:56:59.44,yin,,0,0,0,,以后回到它时 它就应当继续\N{\fs12}and then when you went back to it, you would want to continue.
Dialogue: 0,0:56:59.44,0:57:01.31,yin,,0,0,0,,我也有可能切换到另外一个程序\N{\fs12}Or what if I switch to another app?
Dialogue: 0,0:57:01.31,0:57:03.76,yin,,0,0,0,,像这样 切换到另一个程序\N{\fs12}I go like this, and go switch to another app
Dialogue: 0,0:57:03.76,0:57:07.23,yin,,0,0,0,,做点别的什么 然后回到游戏发现 哦\N{\fs12}and doing some other things, you know, and then I come back to my game, it's like, "Oh!
Dialogue: 0,0:57:07.23,0:57:08.40,yin,,0,0,0,,我的分数毁了\N{\fs12}My score! Ruined."
Dialogue: 0,0:57:08.40,0:57:10.75,yin,,0,0,0,,因为方块一直待在那里没动\N{\fs12}Because it was sitting there doing nothing for all that time.
Dialogue: 0,0:57:10.75,0:57:13.51,yin,,0,0,0,,我希望这里有暂停 回来时再继续\N{\fs12}I want it to pause, and then continue when I come back.
Dialogue: 0,0:57:13.51,0:57:16.58,yin,,0,0,0,,我也有可能需要点击屏幕时暂停\N{\fs12}Or maybe I want to be able to just tap on it and pause,
Dialogue: 0,0:57:16.58,0:57:18.33,yin,,0,0,0,,再点击继续\N{\fs12}and tap again to continue, right?
Dialogue: 0,0:57:18.33,0:57:20.30,yin,,0,0,0,,暂停/继续是很需要的\N{\fs12}So pausing/resuming would be really cool.
Dialogue: 0,0:57:20.30,0:57:23.08,yin,,0,0,0,,那如何让游戏暂停/继续呢\N{\fs12}So how can we make our game pause and resume?
Dialogue: 0,0:57:23.08,0:57:27.09,yin,,0,0,0,,我们可以很轻松地将startGame转化为\N{\fs12}Well, we can take this start game and turn it pretty easily
Dialogue: 0,0:57:27.09,0:57:28.83,yin,,0,0,0,,resumeGame\N{\fs12}into resume game,
Dialogue: 0,0:57:28.83,0:57:31.84,yin,,0,0,0,,我们只需要检查\N{\fs12}and all we need to do to do that is check
Dialogue: 0,0:57:31.84,0:57:34.93,yin,,0,0,0,,游戏是否已经开始\N{\fs12}to see if the game is already started,
Dialogue: 0,0:57:34.93,0:57:37.92,yin,,0,0,0,,如果已经开始… 这里应该是非\N{\fs12}because if it's already started, well that's going to be not,
Dialogue: 0,0:57:37.92,0:57:40.10,yin,,0,0,0,,if (!…redBlock)\N{\fs12}if not red block,
Dialogue: 0,0:57:40.10,0:57:44.06,yin,,0,0,0,,如果游戏没开始 我们就需要创建红色和黑色方块\N{\fs12}if we haven't start a game, then we need to create the red and black block.
Dialogue: 0,0:57:44.06,0:57:47.80,yin,,0,0,0,,否则 我们可以开启这个加速计\N{\fs12}But otherwise, we can just fire up this accelerometer,
Dialogue: 0,0:57:47.80,0:57:51.56,yin,,0,0,0,,暂停则只需要停止加速计\N{\fs12}and what we'll do to pause is we'll just stop the accelerometer.
Dialogue: 0,0:57:51.56,0:57:53.63,yin,,0,0,0,,这里我只需要说\N{\fs12}So I'm just going to say
Dialogue: 0,0:57:53.63,0:57:58.13,yin,,0,0,0,,self.motionManager stopAccelerometerUpdates\N{\fs12}self dot motion manager stop accelerometer updates.
Dialogue: 0,0:57:58.13,0:58:02.45,yin,,0,0,0,,我这就暂停了 停止了加速计的更新\N{\fs12}So I've paused, I've just stopped the accelerometer from updating.
Dialogue: 0,0:58:02.45,0:58:03.61,yin,,0,0,0,,这很好\N{\fs12}Which is a pretty good thing.
Dialogue: 0,0:58:03.61,0:58:08.44,yin,,0,0,0,,然后还要暂停计分 我显然要这样做\N{\fs12}I also have pause scoring okay, because I want to do that.
Dialogue: 0,0:58:08.44,0:58:14.01,yin,,0,0,0,,不要太在意这个里面都有些什么\N{\fs12}Don't look too closely behind the curtain for that one
Dialogue: 0,0:58:14.01,0:58:21.15,yin,,0,0,0,,我还希望我的重力方向回到0\N{\fs12}and then also I want my gravity direction to be back to being zero.
Dialogue: 0,0:58:21.15,0:58:27.75,yin,,0,0,0,,暂停时 我不希望红色方块还因重力运动\N{\fs12}I don't want my red thing to be trying to do gravity when it's paused, right?
Dialogue: 0,0:58:27.75,0:58:30.03,yin,,0,0,0,,这就是暂停游戏所需要做的\N{\fs12}So that's all I really need to do to pause this game.
Dialogue: 0,0:58:30.03,0:58:35.88,yin,,0,0,0,,让我们添加一个点击手势用于暂停和继续游戏\N{\fs12}So let's put a little tap gesture in that pauses the game, and then continues the game.
Dialogue: 0,0:58:35.88,0:58:38.04,yin,,0,0,0,,这个这时可以继续\N{\fs12}This will, now can be resume,
Dialogue: 0,0:58:38.04,0:58:43.49,yin,,0,0,0,,我要创建一个点击手势 在viewDidLoad中\N{\fs12}and so I'm going to do a tap gesture, I'm going to do it in ViewDidLoad.
Dialogue: 0,0:58:43.49,0:58:48.09,yin,,0,0,0,,我说过 我不打算在故事板中做任何事\N{\fs12}Told you I wasn't going to do anything in the storyboard, and so I'm just going
Dialogue: 0,0:58:48.09,0:58:52.11,yin,,0,0,0,,这里我说 self.view addGestureRecognizer\N{\fs12}to say self dot view add gesture recognizer,
Dialogue: 0,0:58:52.11,0:58:53.93,yin,,0,0,0,,UITapGesture…\N{\fs12}UI tap gesture,
Dialogue: 0,0:58:53.93,0:58:56.21,yin,,0,0,0,,alloc\N{\fs12}alloc
Dialogue: 0,0:58:56.21,0:58:59.16,yin,,0,0,0,,initWithTarget:self\N{\fs12}init with target self,
Dialogue: 0,0:58:59.16,0:59:05.00,yin,,0,0,0,,action是tap 就这些了\N{\fs12}action is going to be tap, okay, that's it.
Dialogue: 0,0:59:05.00,0:59:08.01,yin,,0,0,0,,这样我就添加了点击手势 然后创建tap\N{\fs12}So now I've added this tap gesture, so now let's make tap.
Dialogue: 0,0:59:08.01,0:59:10.47,yin,,0,0,0,,tap的作用是这样的\N{\fs12}And all tap needs to do is when you say
Dialogue: 0,0:59:10.47,0:59:16.42,yin,,0,0,0,,如果暂停了 那就继续\N{\fs12}if we're paused, then resume,
Dialogue: 0,0:59:16.42,0:59:21.28,yin,,0,0,0,,否则就暂停\N{\fs12}otherwise, pause.
Dialogue: 0,0:59:21.28,0:59:27.43,yin,,0,0,0,,我们需要isPaused 如何知道有没有暂停呢\N{\fs12}So we need an "is paused," how are we going to tell if we're paused or not?
Dialogue: 0,0:59:27.43,0:59:32.33,yin,,0,0,0,,很简单 isPaused 我将返回\N{\fs12}Real easy, is paused, I'm just going to return
Dialogue: 0,0:59:32.33,0:59:38.33,yin,,0,0,0,,如果运动管理器的加速计没有处在活动状态\N{\fs12}if the motion manager's accelerometer is not active.
Dialogue: 0,0:59:39.10,0:59:42.14,yin,,0,0,0,,如果运动管理器的加速计没有处在活动状态\N{\fs12}So if the accelerometer in the motion manager is not active,
Dialogue: 0,0:59:42.14,0:59:45.50,yin,,0,0,0,,那么我们就要暂停\N{\fs12}then we must be paused.
Dialogue: 0,0:59:47.37,0:59:48.46,yin,,0,0,0,,明白吗\N{\fs12}See what I did there?
Dialogue: 0,0:59:48.46,0:59:51.76,yin,,0,0,0,,我们来试试这个\N{\fs12}So let's go try this, see if this works.
Dialogue: 0,0:59:52.84,0:59:54.63,yin,,0,0,0,,这个将能行\N{\fs12}And this is going to work,
Dialogue: 0,0:59:54.63,0:59:59.23,yin,,0,0,0,,不过同我们想要的可能会有出入 我们来看看\N{\fs12}but not quite exactly how we might want, as you'll see.
Dialogue: 0,0:59:59.23,1:00:02.54,yin,,0,0,0,,首先让这个开始运动\N{\fs12}Alright, so let's go get some motion happening here first.
Dialogue: 0,1:00:02.54,1:00:05.24,yin,,0,0,0,,这个现在在运动 我点暂停\N{\fs12}Alright, so we got this thing, motion, I'm going to hit pause.
Dialogue: 0,1:00:05.24,1:00:09.98,yin,,0,0,0,,暂停了 但还在动\N{\fs12}Okay, so it paused, okay, but it's still--
Dialogue: 0,1:00:09.98,1:00:12.76,yin,,0,0,0,,暂停时加速计不再工作\N{\fs12}it paused in that my accelerometer is not working,
Dialogue: 0,1:00:12.76,1:00:15.33,yin,,0,0,0,,但红色方块还在运动\N{\fs12}but the red block still kind of kept moving,
Dialogue: 0,1:00:15.33,1:00:18.86,yin,,0,0,0,,这里我重新开启 重力回来了 暂停\N{\fs12}so here I turn it back on, gravity's back, I pause,
Dialogue: 0,1:00:18.86,1:00:21.59,yin,,0,0,0,,红色方块还会运动好久\N{\fs12}it's like the red block keeps moving a long way.
Dialogue: 0,1:00:21.59,1:00:23.31,yin,,0,0,0,,为什么它还在运动呢\N{\fs12}Okay, why does that red block keep moving?
Dialogue: 0,1:00:23.31,1:00:26.90,yin,,0,0,0,,因为之前有一个力施加在它之上\N{\fs12}Well, because it already has a force applied to it,
Dialogue: 0,1:00:26.90,1:00:30.02,yin,,0,0,0,,现在它要让这个力的作用自己消失\N{\fs12}and it's just letting that force kind of play out.
Dialogue: 0,1:00:30.02,1:00:31.95,yin,,0,0,0,,真正的暂停\N{\fs12}So what would be really nice when we pause is
Dialogue: 0,1:00:31.95,1:00:36.79,yin,,0,0,0,,最好是在这里放些减速沙 让其快速减慢\N{\fs12}if we put some quicksand in here, and everything kind of slowed down, right?
Dialogue: 0,1:00:36.79,1:00:38.50,yin,,0,0,0,,我不希望一切立刻停止\N{\fs12}I don't want everything to stop immediately,
Dialogue: 0,1:00:38.50,1:00:41.75,yin,,0,0,0,,不过我希望它们能够很好地减速\N{\fs12}but I want things to, you know, nicely slow down.
Dialogue: 0,1:00:41.75,1:00:43.92,yin,,0,0,0,,如何添加减速沙呢\N{\fs12}So how do we add quicksand?
Dialogue: 0,1:00:43.92,1:00:47.75,yin,,0,0,0,,这可以通过另一个动态动画器的做法来做到\N{\fs12}Well, I can do that with another dynamic animator thing.
Dialogue: 0,1:00:47.75,1:00:49.01,yin,,0,0,0,,放到下面这里\N{\fs12}Let's put this down here,
Dialogue: 0,1:00:49.01,1:00:52.52,yin,,0,0,0,,这里我将它称作quicksand\N{\fs12}I'm going to call it quicksand, in fact, alright?
Dialogue: 0,1:00:52.52,1:00:57.98,yin,,0,0,0,,quicksand是这里我要加的另一个行为\N{\fs12}And so quicksand is just another behavior that I'm adding right here.
Dialogue: 0,1:00:57.98,1:01:00.05,yin,,0,0,0,,quicksand是怎样的呢\N{\fs12}And what does this quicksand look like?
Dialogue: 0,1:01:00.05,1:01:01.82,yin,,0,0,0,,它是这样的 这就是我加的\N{\fs12}It's this, it's what I added.
Dialogue: 0,1:01:01.82,1:01:05.62,yin,,0,0,0,,这是一个具有阻力的UIDynamicAnimator\N{\fs12}And as a UI dynamic animator that has resistance,
Dialogue: 0,1:01:05.62,1:01:10.45,yin,,0,0,0,,阻力是物体上对抗所施力的阻力\N{\fs12}so resistance is a item's resistance to forces being applied to it.
Dialogue: 0,1:01:10.45,1:01:15.02,yin,,0,0,0,,最开始这是0 因此阻力是0 这是默认值\N{\fs12}So I'll start it out at zero, which means no resistance to it. That's the default.
Dialogue: 0,1:01:15.02,1:01:18.68,yin,,0,0,0,,它不会阻碍任何的力 包括重力\N{\fs12}So it doesn't resist any of the forces, you know, the gravity,
Dialogue: 0,1:01:18.68,1:01:21.71,yin,,0,0,0,,这些都不受阻 方块到处弹\N{\fs12}it doesn't resist any of that, just things are bouncing around.
Dialogue: 0,1:01:21.71,1:01:26.80,yin,,0,0,0,,然后在暂停时 我会让这个阻力瞬间提高到1\N{\fs12}And then when we pause, I'm going to crank this resistance up to like at least 1.
Dialogue: 0,1:01:26.80,1:01:30.25,yin,,0,0,0,,1也就是完全抵抗所施力 让速度很快下降\N{\fs12}1 is it completely resists forces so it will slow down really quickly,
Dialogue: 0,1:01:30.25,1:01:31.64,yin,,0,0,0,,这个值还可以大于1\N{\fs12}but I can go even more than 1,
Dialogue: 0,1:01:31.64,1:01:37.80,yin,,0,0,0,,也就是积极降低所施力 反应会非常积极\N{\fs12}which is it actively, you know, reduces its forces on it, its response to forces on it.
Dialogue: 0,1:01:37.80,1:01:39.46,yin,,0,0,0,,总之 我们有了quicksand\N{\fs12}But we've got this quicksand,
Dialogue: 0,1:01:39.46,1:01:47.00,yin,,0,0,0,,我们只需要将两个物体 红色方块\N{\fs12}all we need to do is add both the red item, the red block,
Dialogue: 0,1:01:47.00,1:01:50.82,yin,,0,0,0,,还有黑色方块 添加到quicksand\N{\fs12}and the black block, to the quicksand.
Dialogue: 0,1:01:54.15,1:01:56.52,yin,,0,0,0,,我少复制了一次\N{\fs12}I missed a copy key quite a bit.
Dialogue: 0,1:01:56.52,1:01:58.13,yin,,0,0,0,,好 黑色方块\N{\fs12}Okay black block.
Dialogue: 0,1:01:58.13,1:02:00.65,yin,,0,0,0,,把它们都放到quicksand中\N{\fs12}So we'll put them both in this quicksand,
Dialogue: 0,1:02:00.65,1:02:04.02,yin,,0,0,0,,然后我们要在暂停时\N{\fs12}and then we're just going to, when we pause,
Dialogue: 0,1:02:04.02,1:02:07.90,yin,,0,0,0,,将quicksand的阻力设为\N{\fs12}we're going to set the quicksand's resistance
Dialogue: 0,1:02:07.90,1:02:10.49,yin,,0,0,0,,10 这是非常高的阻力\N{\fs12}to let's say 10, which is pretty high resistance,
Dialogue: 0,1:02:10.49,1:02:12.19,yin,,0,0,0,,物体会很快慢下来\N{\fs12}they're going to slow down pretty fast with that.
Dialogue: 0,1:02:12.19,1:02:14.33,yin,,0,0,0,,如果实在太大 我们还可以调整\N{\fs12}We could tweak that, whether we want it to be that much.
Dialogue: 0,1:02:14.33,1:02:16.27,yin,,0,0,0,,之后继续游戏时\N{\fs12}And then when we resume the game,
Dialogue: 0,1:02:16.27,1:02:20.34,yin,,0,0,0,,我们会将quicksand的阻力重新设为0\N{\fs12}we're going to set the quicksand's resistance back to zero.
Dialogue: 0,1:02:20.34,1:02:23.34,yin,,0,0,0,,让我们来做这个\N{\fs12}So let's do that.
Dialogue: 0,1:02:23.34,1:02:27.61,yin,,0,0,0,,做这个是为了让你们看到暂停的效果\N{\fs12}And I'm mostly doing this so you can see the effect of pausing,
Dialogue: 0,1:02:27.61,1:02:31.76,yin,,0,0,0,,因为后面我还会讲到另一种情况下的暂停\N{\fs12}because next we're going to show how to do pausing in a different circumstance.
Dialogue: 0,1:02:31.76,1:02:35.79,yin,,0,0,0,,这里 让这个开始动 它在到处运动\N{\fs12}Okay so here, let's go, get this guy going again, right, he's moving around.
Dialogue: 0,1:02:35.79,1:02:38.29,yin,,0,0,0,,点暂停 看它停得有多快\N{\fs12}Now, if I pause, let's see how quickly he stopped.
Dialogue: 0,1:02:38.29,1:02:41.05,yin,,0,0,0,,还在旋转 但运动已经停止了\N{\fs12}He's still spinning, but he has stopped his motion.
Dialogue: 0,1:02:41.05,1:02:45.08,yin,,0,0,0,,如果继续 重力就会重新作用于它\N{\fs12}And if I continue, now gravity is going to work on him again.
Dialogue: 0,1:02:45.08,1:02:49.25,yin,,0,0,0,,像这样快速停止 让你有了作弊的机会\N{\fs12}One thing about stopping him so quickly, it allows you to cheat a little bit,
Dialogue: 0,1:02:49.25,1:02:51.03,yin,,0,0,0,,操作不好控制时\N{\fs12}because if this guy's out of control
Dialogue: 0,1:02:51.03,1:02:53.05,yin,,0,0,0,,你可以通过暂停来重新获得控制\N{\fs12}and you're trying to get him back in control so you can get
Dialogue: 0,1:02:53.05,1:02:56.93,yin,,0,0,0,,停下来以后再重开 你就很容易追上黑色方块了\N{\fs12}after the black block, this stops him, right? Too quick.
Dialogue: 0,1:02:56.93,1:03:01.94,yin,,0,0,0,,因此 或许10作为阻力值有些太大\N{\fs12}So it might be that having 10 be our quicksand is a little too high.
Dialogue: 0,1:03:01.94,1:03:03.57,yin,,0,0,0,,或许1就够了\N{\fs12}Maybe we only want 1.
Dialogue: 0,1:03:03.57,1:03:08.37,yin,,0,0,0,,这时减缓的速度就会更正常 更慢\N{\fs12}Which would mean it would slow down kind of at a normal or a much slower rate.
Dialogue: 0,1:03:08.37,1:03:10.67,yin,,0,0,0,,你们可以自己调\N{\fs12}So you could play with that.
Dialogue: 0,1:03:10.67,1:03:14.22,yin,,0,0,0,,什么时候我们想暂停呢\N{\fs12}Alright, so when would we want to do pausing.
Dialogue: 0,1:03:14.22,1:03:17.68,yin,,0,0,0,,需要暂停的一个很重要的地方就是\N{\fs12}Well, one of the real important places to pause is
Dialogue: 0,1:03:17.68,1:03:20.74,yin,,0,0,0,,用户点击进入另一个程序\N{\fs12}when someone clicks to go to another app.
Dialogue: 0,1:03:20.74,1:03:25.42,yin,,0,0,0,,我打算简要回到幻灯片\N{\fs12}So I'm going to go back to the slides, really briefly,
Dialogue: 0,1:03:25.42,1:03:29.53,yin,,0,0,0,,跟你们讲这个\N{\fs12}and show you this,
Dialogue: 0,1:03:29.53,1:03:32.98,yin,,0,0,0,,然后 我们再回来\N{\fs12}and then we'll go back.
Dialogue: 0,1:03:32.98,1:03:37.84,yin,,0,0,0,,你的程序的状态 你的程序的生命周期\N{\fs12}So your applications state the life cycle of your application,
Dialogue: 0,1:03:37.84,1:03:39.38,yin,,0,0,0,,会通过特定状态\N{\fs12}it goes through certain states,
Dialogue: 0,1:03:39.38,1:03:42.56,yin,,0,0,0,,其中之一就是 它是活动的应用程序\N{\fs12}and one of them is it's the active application.
Dialogue: 0,1:03:42.56,1:03:45.48,yin,,0,0,0,,活动应用程序是说你在获取事件\N{\fs12}And being the active application means you're getting events,
Dialogue: 0,1:03:45.48,1:03:47.71,yin,,0,0,0,,你的视图在获取事件\N{\fs12}your views are getting events, right?
Dialogue: 0,1:03:47.71,1:03:49.08,yin,,0,0,0,,触摸事件在发生\N{\fs12}Touch events are happening to you.
Dialogue: 0,1:03:49.08,1:03:52.07,yin,,0,0,0,,你在对世界作出响应\N{\fs12}You're basically responding to the world.
Dialogue: 0,1:03:52.07,1:03:54.91,yin,,0,0,0,,这些都只发生在你是活动程序的时候\N{\fs12}That's only happens when you're the active application.
Dialogue: 0,1:03:54.91,1:03:58.33,yin,,0,0,0,,如果你是活动程序 你的方块在弹动\N{\fs12}Now, if you're the active application, you're bouncing,
Dialogue: 0,1:03:58.33,1:04:01.57,yin,,0,0,0,,游戏正在进行 什么会导致你不再成为活动程序\N{\fs12}you're playing your game, what could cause you to stop being active application?
Dialogue: 0,1:04:01.57,1:04:05.18,yin,,0,0,0,,显然 只要用户点了home键 并进入另一个程序\N{\fs12}Well, obviously someone could click on the home button and go to another app,
Dialogue: 0,1:04:05.20,1:04:07.02,yin,,0,0,0,,不过还有可能有其它情况\N{\fs12}but there's other things too that could happen.
Dialogue: 0,1:04:07.02,1:04:08.83,yin,,0,0,0,,iPhone上可能会有来电\N{\fs12}A phone call could come in on your iPhone,
Dialogue: 0,1:04:08.83,1:04:14.57,yin,,0,0,0,,这时任何活动程序都需要停止 UI需要处理来电\N{\fs12}now you've stopped being the active app, whatever the UI is for handling a phone call.
Dialogue: 0,1:04:14.57,1:04:16.48,yin,,0,0,0,,哪怕是通知 这很重要\N{\fs12}Even notifications, very important,
Dialogue: 0,1:04:16.48,1:04:19.70,yin,,0,0,0,,系统通知也可以出现 让你的程序呈灰色\N{\fs12}system notifications can come up and, you know,
Dialogue: 0,1:04:19.70,1:04:22.22,yin,,0,0,0,,并在中间弹出一个警告窗口\N{\fs12}they gray out your app, they put an alert view in the middle,
Dialogue: 0,1:04:22.22,1:04:24.18,yin,,0,0,0,,给你某项通知\N{\fs12}and some notification happened,
Dialogue: 0,1:04:24.18,1:04:26.78,yin,,0,0,0,,这也会让你的程序停止活动\N{\fs12}that could make your app stop being active.
Dialogue: 0,1:04:26.78,1:04:29.14,yin,,0,0,0,,知道程序何时停止活动非常重要\N{\fs12}So it's important to know when your app stops being active,
Dialogue: 0,1:04:29.14,1:04:31.84,yin,,0,0,0,,例如Bouncer 它可以暂停游戏\N{\fs12}like Bouncer, so Bouncer can pause the game.
Dialogue: 0,1:04:31.84,1:04:35.30,yin,,0,0,0,,我希望将程序的活动性\N{\fs12}So I like to think of active, the activeness
Dialogue: 0,1:04:35.30,1:04:40.01,yin,,0,0,0,,对应于程序的暂停/继续\N{\fs12}of your application being the pause/resume of your application.
Dialogue: 0,1:04:40.01,1:04:42.14,yin,,0,0,0,,你可以知道这些状态\N{\fs12}So you find out about these,
Dialogue: 0,1:04:42.14,1:04:43.89,yin,,0,0,0,,应用程序委托有这些方法\N{\fs12}your application delegates have these methods.
Dialogue: 0,1:04:43.89,1:04:45.43,yin,,0,0,0,,applicationDidBecomeActive\N{\fs12}Application did become active,
Dialogue: 0,1:04:45.43,1:04:47.04,yin,,0,0,0,,applicationWillResignActive\N{\fs12}application will resign active, right?
Dialogue: 0,1:04:47.04,1:04:49.51,yin,,0,0,0,,这是在两种状态间转换\N{\fs12}That's going in between the two states,
Dialogue: 0,1:04:49.51,1:04:52.01,yin,,0,0,0,,不过这里还有一个广播站\N{\fs12}but there's also a radio station for it.
Dialogue: 0,1:04:52.01,1:04:54.43,yin,,0,0,0,,理解这个很重要 这里还有广播站\N{\fs12}And that's important to understand, there's this radio station too,
Dialogue: 0,1:04:54.43,1:04:55.56,yin,,0,0,0,,你可以有视图控制器\N{\fs12}and so you can have view controllers
Dialogue: 0,1:04:55.56,1:04:56.91,yin,,0,0,0,,像这个Bouncer的\N{\fs12}like this Bouncer guy,
Dialogue: 0,1:04:56.91,1:04:59.99,yin,,0,0,0,,监听广播站 弄清情况并进行暂停\N{\fs12}listen to the radio station and find this out and do the pausing.
Dialogue: 0,1:04:59.99,1:05:02.10,yin,,0,0,0,,等下我们就会在demo中这样做\N{\fs12}So we're going to do that in the demo in a second.
Dialogue: 0,1:05:02.10,1:05:05.05,yin,,0,0,0,,既然讲到了这里 我就来讲下应用状态的其它内容吧\N{\fs12}While I'm here, though, let me talk about some other application state things.
Dialogue: 0,1:05:05.05,1:05:07.30,yin,,0,0,0,,其中之一是后台/前台\N{\fs12}One of them is background/foreground,
Dialogue: 0,1:05:07.30,1:05:10.31,yin,,0,0,0,,这同活动/非活动是不同的\N{\fs12}which is a different thing than active/not active.
Dialogue: 0,1:05:10.31,1:05:14.56,yin,,0,0,0,,活动是说你在前台 而且你在接收事件\N{\fs12}Active means you're in the foreground, and you're receiving events.
Dialogue: 0,1:05:14.56,1:05:19.48,yin,,0,0,0,,当用户换程序时 你不再活动\N{\fs12}When someone clicks to go on some other app, you stop being active,
Dialogue: 0,1:05:19.48,1:05:21.21,yin,,0,0,0,,但你还没在后台\N{\fs12}but you're not in the background yet.
Dialogue: 0,1:05:21.21,1:05:26.10,yin,,0,0,0,,你可以把后台看成是被搁置了起来\N{\fs12}You can think of background as kind of being shelved. You're being put on the shelf.
Dialogue: 0,1:05:26.10,1:05:28.42,yin,,0,0,0,,搁置起来后 你就不再运行\N{\fs12}And when you're put on the shelf, you don't run.
Dialogue: 0,1:05:28.42,1:05:31.52,yin,,0,0,0,,在后台运行的情况只有 后台取回\N{\fs12}The only time you're ever going to run when you're on the shelf is a background fetch,
Dialogue: 0,1:05:31.52,1:05:33.13,yin,,0,0,0,,几周前我们看到过\N{\fs12}which we saw a couple weeks ago,
Dialogue: 0,1:05:33.13,1:05:35.04,yin,,0,0,0,,或者 你是一种特殊应用\N{\fs12}or your a special kind of app,
Dialogue: 0,1:05:35.04,1:05:38.08,yin,,0,0,0,,例如VOIP应用 或是位置服务应用\N{\fs12}like a VOIP app or a location services app,
Dialogue: 0,1:05:38.08,1:05:40.33,yin,,0,0,0,,这时你就可以在后台\N{\fs12}where you're getting locations, then you can come off the shelf
Dialogue: 0,1:05:40.33,1:05:43.12,yin,,0,0,0,,偶尔运行一下 但你是被搁置的\N{\fs12}and run for a little bit occasionally, but you're being shelved.
Dialogue: 0,1:05:43.12,1:05:44.86,yin,,0,0,0,,后台就是搁置\N{\fs12}So background is shelving.
Dialogue: 0,1:05:44.86,1:05:48.89,yin,,0,0,0,,活动是说 你或许还是用户正在使用的应用程序\N{\fs12}Active is just, you might still be the app that the user is using,
Dialogue: 0,1:05:48.89,1:05:51.98,yin,,0,0,0,,但或许有别的东西暂时打断了这个\N{\fs12}but something has happened to interrupt that, maybe temporarily.
Dialogue: 0,1:05:51.98,1:05:54.08,yin,,0,0,0,,活动是是否接收事件\N{\fs12}So active is whether you're receiving events.
Dialogue: 0,1:05:54.08,1:05:55.45,yin,,0,0,0,,它是暂停/继续\N{\fs12}It's kind of a pause/resume.
Dialogue: 0,1:05:55.45,1:05:56.78,yin,,0,0,0,,后台是搁置\N{\fs12}Background is shelved.
Dialogue: 0,1:05:56.78,1:05:57.91,yin,,0,0,0,,在被搁置之前\N{\fs12}So before you get shelved,
Dialogue: 0,1:05:57.91,1:06:00.28,yin,,0,0,0,,你显然希望你的世界打理干净了\N{\fs12}you want to definitely make sure your world's cleaned up
Dialogue: 0,1:06:00.28,1:06:02.91,yin,,0,0,0,,一切都处在良好状态 因为\N{\fs12}and everything is a nice state, because one thing,
Dialogue: 0,1:06:02.91,1:06:06.03,yin,,0,0,0,,搁置的东西有可能被清理 你会被丢掉\N{\fs12}the shelf can sometimes be cleaned off and you're thrown out.
Dialogue: 0,1:06:06.03,1:06:08.52,yin,,0,0,0,,如果内存出现问题这些\N{\fs12}If memory became a problem or something
Dialogue: 0,1:06:08.52,1:06:11.13,yin,,0,0,0,,你可能完全无法再运行\N{\fs12}like that you could just completely never run again.
Dialogue: 0,1:06:11.13,1:06:15.03,yin,,0,0,0,,被放入后台时 你需要知道这些\N{\fs12}So when you get put in the background, you want to know about that maybe.
Dialogue: 0,1:06:15.03,1:06:18.25,yin,,0,0,0,,你还需要在回前台的时候弄清\N{\fs12}But you find out when you come back in the foreground, too.
Dialogue: 0,1:06:18.25,1:06:20.10,yin,,0,0,0,,这样你就可以撤销\N{\fs12}So, you know, then you can undo.
Dialogue: 0,1:06:20.10,1:06:24.15,yin,,0,0,0,,通常在前台 你会撤销你在后台做的\N{\fs12}Usually in the foreground one, you undo what you did in the background one.
Dialogue: 0,1:06:24.15,1:06:27.52,yin,,0,0,0,,还有一些应用程序委托项目也很有趣\N{\fs12}There are some other application delegate items of interest
Dialogue: 0,1:06:27.52,1:06:29.91,yin,,0,0,0,,你们可以到说明文档中查一下\N{\fs12}that you can look up in the documentation.
Dialogue: 0,1:06:29.91,1:06:31.89,yin,,0,0,0,,一个是本地通知\N{\fs12}One is local notifications.
Dialogue: 0,1:06:31.89,1:06:34.78,yin,,0,0,0,,本地通知是进行计划安排\N{\fs12}Local notifications are a way for you to schedule
Dialogue: 0,1:06:34.78,1:06:38.34,yin,,0,0,0,,让程序中某个东西在特定时间日期发生\N{\fs12}something to happen in your app at a certain date and time,
Dialogue: 0,1:06:38.34,1:06:40.97,yin,,0,0,0,,这个发生时 如果你的程序没在运行\N{\fs12}and when that happens, if your application is not running,
Dialogue: 0,1:06:40.97,1:06:43.46,yin,,0,0,0,,程序就可以启动来处理它\N{\fs12}you can be launched to handle it.
Dialogue: 0,1:06:43.46,1:06:47.45,yin,,0,0,0,,这是一种让程序在特定时间运行的方式\N{\fs12}So it's a way to kind of make sure your app runs at a certain time.
Dialogue: 0,1:06:47.45,1:06:50.52,yin,,0,0,0,,例如日历程序 它就是这样提醒你特定事件\N{\fs12}So like the calendar app, this is how it would make sure
Dialogue: 0,1:06:50.52,1:06:54.11,yin,,0,0,0,,例如你要在什么时候去上课 或是别的什么\N{\fs12}that you got reminded that you're supposed to go to class or whatever, even
Dialogue: 0,1:06:54.11,1:06:57.09,yin,,0,0,0,,有时日历程序甚至没在运行\N{\fs12}if the calendar app is not even running.
Dialogue: 0,1:06:57.09,1:06:59.32,yin,,0,0,0,,本地通知你们可以看看\N{\fs12}So local notification is something to look at.
Dialogue: 0,1:06:59.32,1:07:02.31,yin,,0,0,0,,状态恢复 如果你被搁置了\N{\fs12}State restoration, if you got put on the shelf,
Dialogue: 0,1:07:02.31,1:07:06.04,yin,,0,0,0,,然后被关闭 用户重新运行你\N{\fs12}and then you got killed, and the user ran you again,
Dialogue: 0,1:07:06.04,1:07:10.23,yin,,0,0,0,,你不希望你的UI以最初UI的形式出现\N{\fs12}you don't want your UI to come up like in some base start UI,
Dialogue: 0,1:07:10.23,1:07:13.42,yin,,0,0,0,,你希望UI能呈现出搁置时的状态\N{\fs12}you still want to come back to where it was when you got put on the shelf.
Dialogue: 0,1:07:13.42,1:07:16.84,yin,,0,0,0,,状态恢复能够帮你跟踪之前的UI状态\N{\fs12}So state restoration is a formalism where you keep track
Dialogue: 0,1:07:16.84,1:07:19.57,yin,,0,0,0,,你被搁置 然后被关闭\N{\fs12}of where your UI is, so when you get put on the shelf,
Dialogue: 0,1:07:19.57,1:07:23.92,yin,,0,0,0,,之后重启时 你就能回到这种状态\N{\fs12}if you get killed and have to come back, you can restore your state to where it was.
Dialogue: 0,1:07:23.92,1:07:26.30,yin,,0,0,0,,数据保护很有趣\N{\fs12}Data protection is an interesting one.
Dialogue: 0,1:07:26.30,1:07:28.39,yin,,0,0,0,,这是一种保护文件的方式\N{\fs12}There are ways to protect files that say
Dialogue: 0,1:07:28.39,1:07:31.39,yin,,0,0,0,,如果设备被锁 在锁屏条件下\N{\fs12}if this device is locked, in other words, at the lock screen,
Dialogue: 0,1:07:31.39,1:07:33.21,yin,,0,0,0,,那么你就不能访问这个文件\N{\fs12}then you can't access this file.
Dialogue: 0,1:07:33.21,1:07:35.12,yin,,0,0,0,,如果没锁 你就能访问\N{\fs12}But if it's unlocked, then you can.
Dialogue: 0,1:07:35.12,1:07:37.01,yin,,0,0,0,,这是一种特殊的保护\N{\fs12}So it's kind of a special kind of protection.
Dialogue: 0,1:07:37.01,1:07:41.57,yin,,0,0,0,,你可以了解到何时有锁 何时没锁\N{\fs12}You can find out about changes in that, i.e., when the thing is locked and unlocked,
Dialogue: 0,1:07:41.57,1:07:46.64,yin,,0,0,0,,也有方法能够让你知道当前有没有锁\N{\fs12}and also there's method in there for finding out currently is it locked or not.
Dialogue: 0,1:07:46.64,1:07:48.20,yin,,0,0,0,,然后还有Open URL\N{\fs12}Then there's open URL.
Dialogue: 0,1:07:48.20,1:07:50.56,yin,,0,0,0,,Open URL很酷 你可以到Xcode\N{\fs12}Open URL is kind of a cool thing, you can go into X code
Dialogue: 0,1:07:50.56,1:07:54.57,yin,,0,0,0,,在项目设置中找到info选项卡\N{\fs12}if you go to the info tab there in project settings.
Dialogue: 0,1:07:54.57,1:07:59.10,yin,,0,0,0,,在这里定义一个URL 不是http:什么什么\N{\fs12}You can define a URL, like not http colon something
Dialogue: 0,1:07:59.10,1:08:01.72,yin,,0,0,0,,而是Photomania:什么什么这些\N{\fs12}but like PhotoMania colon something, for example,
Dialogue: 0,1:08:01.72,1:08:03.27,yin,,0,0,0,,假设Photomania想要做这个\N{\fs12}if PhotoMania wanted to do it.
Dialogue: 0,1:08:03.27,1:08:04.39,yin,,0,0,0,,如果其他人\N{\fs12}And then if other people
Dialogue: 0,1:08:04.39,1:08:05.99,yin,,0,0,0,,在其它程序中说\N{\fs12}in other apps say
Dialogue: 0,1:08:05.99,1:08:08.81,yin,,0,0,0,,open URL Photomania://\N{\fs12}open URL PhotoMania colon slash slash,
Dialogue: 0,1:08:08.81,1:08:11.05,yin,,0,0,0,,什么什么什么 问号 这个 那个\N{\fs12}something something something, question mark, this, that,
Dialogue: 0,1:08:11.05,1:08:15.19,yin,,0,0,0,,这样的完整URL\N{\fs12}all the full URL things you can do in the world of URLs,
Dialogue: 0,1:08:15.19,1:08:18.88,yin,,0,0,0,,那么Photomania就会被启动 处理那个URL\N{\fs12}then PhotoMania would get launched to go handle that URL.
Dialogue: 0,1:08:18.88,1:08:23.67,yin,,0,0,0,,这里会有应用程序委托方法被调用 处理这个URL\N{\fs12}And there will be application delegate method called, handle this URL.
Dialogue: 0,1:08:23.67,1:08:26.49,yin,,0,0,0,,这是应用程序委托中值得看看的另外一个东西\N{\fs12}So that's another thing to look at in application delegate.
Dialogue: 0,1:08:27.39,1:08:31.38,yin,,0,0,0,,好 这方面就这些了\N{\fs12}Okay. So. That's the end, that's all I wanted to cover on that.
Dialogue: 0,1:08:31.38,1:08:33.36,yin,,0,0,0,,下面回到Bouncer\N{\fs12}But now, let's go back to Bouncer,
Dialogue: 0,1:08:33.36,1:08:35.08,yin,,0,0,0,,演示这个的使用\N{\fs12}and show using this.
Dialogue: 0,1:08:35.08,1:08:40.04,yin,,0,0,0,,我打算在停止活动时暂停\N{\fs12}I'm going to pause when I get, stop being active, and I'm going
Dialogue: 0,1:08:40.04,1:08:43.43,yin,,0,0,0,,重新活动时 我将继续\N{\fs12}to un-pause when I go back to being active.
Dialogue: 0,1:08:43.43,1:08:45.53,yin,,0,0,0,,做法很简单\N{\fs12}And the way I'm going to do that, very simple,
Dialogue: 0,1:08:45.53,1:08:47.87,yin,,0,0,0,,NSNotificationCenter\N{\fs12}NS notification center,
Dialogue: 0,1:08:47.87,1:08:49.53,yin,,0,0,0,,defaultCenter\N{\fs12}default center,
Dialogue: 0,1:08:49.53,1:08:51.68,yin,,0,0,0,,addObserverForName\N{\fs12}add observer for name,
Dialogue: 0,1:08:51.75,1:08:59.69,yin,,0,0,0,,我要的是UIApplicationWillResignActive\N{\fs12}and the one I want is UIApplicationWillResignActive.
Dialogue: 0,1:09:00.08,1:09:05.44,yin,,0,0,0,,这会在应用程序退出活动时发生\N{\fs12}So that happens when I'm going to resign being the active application.
Dialogue: 0,1:09:05.44,1:09:10.98,yin,,0,0,0,,object:Nil 我不在乎这来自于谁\N{\fs12}And object nil, I don't really care who-- whoops! Who this comes from.
Dialogue: 0,1:09:10.98,1:09:14.71,yin,,0,0,0,,反正它会来自某个应用程序对象\N{\fs12}It's going to come from the application, whatever, application object.
Dialogue: 0,1:09:14.71,1:09:18.46,yin,,0,0,0,,queue 可以在我调用这个的队列上\N{\fs12}Queue, fine to do it on this queue that I'm calling this from.
Dialogue: 0,1:09:18.46,1:09:20.68,yin,,0,0,0,,然后这里是我要使用的block\N{\fs12}And then, here's the block I want to do,
Dialogue: 0,1:09:20.68,1:09:24.56,yin,,0,0,0,,在我的程序中这很简单 self pauseGame\N{\fs12}in my app, really simple, self, pause, game.
Dialogue: 0,1:09:24.56,1:09:28.22,yin,,0,0,0,,我将让程序不再活动 这就需要暂停\N{\fs12}I'm going to resign being the active application, so I'm going to pause.
Dialogue: 0,1:09:28.22,1:09:33.67,yin,,0,0,0,,回到这里来做相同的事情\N{\fs12}And similarly, can do the same thing when I come back,
Dialogue: 0,1:09:33.67,1:09:37.80,yin,,0,0,0,,不过这里是UIApplicationDidBecomeActive\N{\fs12}but here it's UIApplicationDidBecomeActive,
Dialogue: 0,1:09:37.81,1:09:41.86,yin,,0,0,0,,而这里我想要继续\N{\fs12}and here I want to resume.
Dialogue: 0,1:09:41.86,1:09:44.81,yin,,0,0,0,,看看这能否正常工作\N{\fs12}So let's see if this works.
Dialogue: 0,1:09:52.22,1:09:54.47,yin,,0,0,0,,好 开始游戏\N{\fs12}Alright, so let's get this doing something
Dialogue: 0,1:09:54.47,1:09:58.81,yin,,0,0,0,,我们来得点分数 有了\N{\fs12}so we can see some points being scored, there we go.
Dialogue: 0,1:09:58.81,1:10:03.11,yin,,0,0,0,,现在我们得到了一些分数 80 90 100 110\N{\fs12}Okay so we've got some points, we're about 80, 90, 100, 110,
Dialogue: 0,1:10:03.11,1:10:08.84,yin,,0,0,0,,暂停后 我还是会在110多分 看 再次暂停\N{\fs12}okay so if I pause, I'll still be at 110-ish, see, pause again.
Dialogue: 0,1:10:08.84,1:10:11.67,yin,,0,0,0,,分数还是原来的分数 之后会快速降低\N{\fs12}Okay, my score is saying the same score, down now pretty fast
Dialogue: 0,1:10:11.67,1:10:15.83,yin,,0,0,0,,因为我没有撞击黑色方块 再让它运动起来\N{\fs12}because I'm not hitting that black block, let's get him going again.
Dialogue: 0,1:10:15.83,1:10:18.49,yin,,0,0,0,,分数重新加起 下面再去另一个app\N{\fs12}Get the score back up, okay now I'm going to go to another app.
Dialogue: 0,1:10:18.49,1:10:21.56,yin,,0,0,0,,105 113 我们去另一个app\N{\fs12}105, 113, so let's go to another app.
Dialogue: 0,1:10:21.56,1:10:26.43,yin,,0,0,0,,我可以进设置 我的app现在应该暂停了\N{\fs12}Okay, maybe settings or something like that, and my app right now is paused, I hope.
Dialogue: 0,1:10:26.43,1:10:29.47,yin,,0,0,0,,回来看看Bouncer是不是和原来一样\N{\fs12}So let's go back and hopefully Bouncer will be
Dialogue: 0,1:10:29.47,1:10:32.84,yin,,0,0,0,,差不多 还是100左右\N{\fs12}about where it was, and it is, it was at about 100.
Dialogue: 0,1:10:32.84,1:10:37.56,yin,,0,0,0,,实际上 我们可以回头看看\N{\fs12}Now, in fact, if we go away and come back, if you first look,
Dialogue: 0,1:10:37.56,1:10:41.93,yin,,0,0,0,,回来时它显示了一下暂停 因为这里确实暂停了\N{\fs12}you'll see it shows paused for a second because it was paused.
Dialogue: 0,1:10:41.93,1:10:47.65,yin,,0,0,0,,你们还可以看到 这里是71 70 69 68 67\N{\fs12}Also, though, you'll notice that see this is 71, 70, 69, 68, 67.
Dialogue: 0,1:10:47.65,1:10:52.66,yin,,0,0,0,,等我回来时 它不是66 而是更少一些 这里是65\N{\fs12}But now when I come back it's not going to be at 66, it's farther along, see 65.
Dialogue: 0,1:10:52.66,1:10:53.23,yin,,0,0,0,,为什么呢\N{\fs12}Why is that?
Dialogue: 0,1:10:53.23,1:10:56.25,yin,,0,0,0,,这是因为它还运行了几秒\N{\fs12}Well that is because it does get to run for a few seconds.
Dialogue: 0,1:10:56.25,1:10:58.72,yin,,0,0,0,,我点到别的app时\N{\fs12}When I click to go to another app,
Dialogue: 0,1:10:58.72,1:11:00.90,yin,,0,0,0,,这个app还会保持活动几秒钟\N{\fs12}I stay the active app for a few seconds,
Dialogue: 0,1:11:00.90,1:11:04.02,yin,,0,0,0,,运行一下后才不是活动app\N{\fs12}and it gets to run a little bit, and now I'm not the active app,
Dialogue: 0,1:11:04.02,1:11:06.73,yin,,0,0,0,,我暂停 然后回来\N{\fs12}so I pause, and then we come back.
Dialogue: 0,1:11:06.73,1:11:10.51,yin,,0,0,0,,这里有点时间差 我只是想让你们知道一下\N{\fs12}So there is a short amount of time there, just so you know there's that window.
Dialogue: 0,1:11:10.51,1:11:14.71,yin,,0,0,0,,我们想要暂停和继续的最后一个地方是这里\N{\fs12}The last place that we want to pause and resume is here.
Dialogue: 0,1:11:14.71,1:11:16.47,yin,,0,0,0,,这是viewDidAppear\N{\fs12}Here's viewDidAppear,
Dialogue: 0,1:11:16.47,1:11:18.79,yin,,0,0,0,,这里已经是继续了 之前是开始\N{\fs12}we're already resuming here because we used to be starting
Dialogue: 0,1:11:18.79,1:11:20.25,yin,,0,0,0,,现在我们改为了继续\N{\fs12}and then we changed it to resume.
Dialogue: 0,1:11:20.25,1:11:37.55,yin,,0,0,0,,显然 在viewWillDisappear中 我们希望暂停游戏\N{\fs12}Obviously in view will disappear, we want to self pause game.
Dialogue: 0,1:11:37.55,1:11:40.37,yin,,0,0,0,,这是我们点到标签栏中\N{\fs12}That's again if we're in the tab bar,
Dialogue: 0,1:11:40.37,1:11:44.00,yin,,0,0,0,,点另一个选项卡时的情况 我们希望暂停 然后回来\N{\fs12}click on another tab, we want to pause and come back.
Dialogue: 0,1:11:45.54,1:11:48.11,yin,,0,0,0,,好 我还没有讲动作表单\N{\fs12}Okay, so I didn't get to do action sheet.
Dialogue: 0,1:11:48.11,1:11:52.30,yin,,0,0,0,,我会发布动作表单的代码\N{\fs12}I will post the code for the action sheet thing.
Dialogue: 0,1:11:52.30,1:11:53.89,yin,,0,0,0,,对于动作表单\N{\fs12}All I was going to do in the action sheet
Dialogue: 0,1:11:53.89,1:11:56.55,yin,,0,0,0,,我只是在Photomania中添加了一个按钮\N{\fs12}is just add another button in PhotoMania
Dialogue: 0,1:11:56.55,1:11:58.92,yin,,0,0,0,,来进行照片选择 叫作照片滤镜\N{\fs12}to do the little photo choosing, called filter photo,
Dialogue: 0,1:11:58.92,1:12:00.37,yin,,0,0,0,,它会给你一个动作表单\N{\fs12}and it was going to put up an action sheet,
Dialogue: 0,1:12:00.37,1:12:04.85,yin,,0,0,0,,你可以选一个滤镜 例如黑色\N{\fs12}and you could pick a photo like, or a filter, like I had noir,
Dialogue: 0,1:12:04.85,1:12:06.67,yin,,0,0,0,,铬黄 模糊\N{\fs12}and chrome, and blur,
Dialogue: 0,1:12:06.67,1:12:09.07,yin,,0,0,0,,你选一个 然后应用滤镜\N{\fs12}you pick one of those, and it would apply the filter to it,
Dialogue: 0,1:12:09.07,1:12:10.58,yin,,0,0,0,,这就是动作表单的作用\N{\fs12}and that's all we were doing on the action sheet.
Dialogue: 0,1:12:10.58,1:12:12.07,yin,,0,0,0,,它会告诉你如何弹出动作表单\N{\fs12}But it shows you how to put up an action sheet,
Dialogue: 0,1:12:12.07,1:12:14.85,yin,,0,0,0,,加载一些东西 然后对它作出反应\N{\fs12}load it up with some things, and respond to it.
Dialogue: 0,1:12:14.85,1:12:19.44,yin,,0,0,0,,我今天会发布代码 你们会看到具体怎么做\N{\fs12}So I'll just post that code today and you'll get to see that.
Dialogue: 0,1:12:19.44,1:12:20.77,yin,,0,0,0,,好 就这些了\N{\fs12}Okay, that is it.
Dialogue: 0,1:12:20.77,1:12:25.27,yin,,0,0,0,,下周是感恩节 我们一周半以后再见\N{\fs12}Uh, Thanksgiving next week so I will not see you for a week and a half.
Dialogue: 0,1:12:25.27,1:12:27.88,yin,,0,0,0,,期末项目请不要耽搁\N{\fs12}Don't procrastinate on your final projects everybody.
Dialogue: 0,1:12:27.88,1:12:31.31,yin,,0,0,0,,请正常推进 有问题的可以来问我\N{\fs12}Get them going and if you have any questions I'll be here.
Dialogue: 0,1:12:31.31,1:12:32.64,yin,,0,0,0,,谢谢\N{\fs12}Thank you.
Dialogue: 0,1:12:33.83,1:12:37.36,yin,,0,0,0,,更多内容 请访问我校官网stanford.edu\N{\fs12}> For more, please visit us at stanford.edu.
