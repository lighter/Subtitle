[Script Info]
; Script generated by Aegisub 3.2.0
; http://www.aegisub.org/
Title: Default Aegisub file
ScriptType: v4.00+
WrapStyle: 0
ScaledBorderAndShadow: yes
YCbCr Matrix: None

[Aegisub Project Garbage]
Last Style Storage: Default
Active Line: 3

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: yin,冬青黑体简体中文 W3,20,&H00FFFFFF,&HF0000000,&H00000000,&H32000000,0,0,0,0,100,100,0,0,1,1,0,2,5,5,5,134

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:05.34,0:00:07.65,yin,,0,0,0,,斯坦福大学\N{\fs12}> Stanford University.
Dialogue: 0,0:00:07.65,0:00:15.17,yin,,0,0,0,,欢迎来到CS193P课程 2013-14秋季第16讲\N{\fs12}> Okay, well welcome to lecture 16 of Stanford CS193P fall of 2013-14.
Dialogue: 0,0:00:15.17,0:00:20.12,yin,,0,0,0,,今天 我们将谈到最后的segue\N{\fs12}So today we are going to talk about the last of the segues,
Dialogue: 0,0:00:20.14,0:00:22.51,yin,,0,0,0,,也就是modal segue(模态segue)\N{\fs12}which is modal segues
Dialogue: 0,0:00:22.51,0:00:25.94,yin,,0,0,0,,还有一种相关的segue\N{\fs12}and their kind of related segue
Dialogue: 0,0:00:25.94,0:00:28.23,yin,,0,0,0,,也就是unwind segue(解开segue)\N{\fs12}which is unwinding segues.
Dialogue: 0,0:00:28.24,0:00:31.85,yin,,0,0,0,,模态segue其实很简单\N{\fs12}Okay these can be a little, modal segue's really easy.
Dialogue: 0,0:00:31.85,0:00:35.28,yin,,0,0,0,,unwind可能有些让人困扰\N{\fs12}The unwinding, you know, can be a little confusing
Dialogue: 0,0:00:35.28,0:00:39.58,yin,,0,0,0,,但愿通过幻灯片讲解和demo演示 你们能懂\N{\fs12}and so hopefully both the combination of the slides and the demo will get you there.
Dialogue: 0,0:00:39.58,0:00:43.87,yin,,0,0,0,,不过理解这些很重要 这些unwind segue\N{\fs12}But it's an important one to understand, these unwinding segues.
Dialogue: 0,0:00:43.87,0:00:46.53,yin,,0,0,0,,我们还会简要谈到文本框\N{\fs12}Also, briefly we're going to talk about text fields
Dialogue: 0,0:00:46.53,0:00:49.47,yin,,0,0,0,,这方面我还没讲过 还有警告\N{\fs12}which we haven't covered yet and also alert
Dialogue: 0,0:00:49.47,0:00:51.81,yin,,0,0,0,,以及动作表单 然后我将进行demo\N{\fs12}and action sheet and then I'm going to do this demo.
Dialogue: 0,0:00:51.81,0:00:53.13,yin,,0,0,0,,有时间再讲摄像头\N{\fs12}It says camera time permitting,
Dialogue: 0,0:00:53.13,0:00:54.68,yin,,0,0,0,,可惜我们几乎肯定没时间\N{\fs12}but we will definitely not have time for that.
Dialogue: 0,0:00:54.68,0:00:57.41,yin,,0,0,0,,这将是我们下周三的内容\N{\fs12}That's what we'll start off on Wednesday with.
Dialogue: 0,0:00:58.97,0:01:01.17,yin,,0,0,0,,好 模态视图控制器\N{\fs12}All right, modal view controllers,
Dialogue: 0,0:01:01.17,0:01:02.83,yin,,0,0,0,,这是另一种segue的方式\N{\fs12}this is another way to segue,
Dialogue: 0,0:01:02.83,0:01:05.47,yin,,0,0,0,,将视图控制器放到屏幕上的另一种方式\N{\fs12}another way to put a view controller on screen.
Dialogue: 0,0:01:05.47,0:01:08.49,yin,,0,0,0,,在导航控制器中 你们已经知道\N{\fs12}You already know about popovers and you know about push segues
Dialogue: 0,0:01:08.49,0:01:10.04,yin,,0,0,0,,popover和push segue\N{\fs12}in a navigation controller.
Dialogue: 0,0:01:10.04,0:01:12.97,yin,,0,0,0,,这里是又一种方式 叫作模态视图控制器\N{\fs12}So this is another way called modal view controllers.
Dialogue: 0,0:01:12.97,0:01:16.27,yin,,0,0,0,,模态视图控制器是将视图控制器放到屏幕上时\N{\fs12}And a modal view controller is a way of putting a view controller on screen
Dialogue: 0,0:01:16.27,0:01:19.06,yin,,0,0,0,,它会占据整个屏幕\N{\fs12}where it takes over the entire screen.
Dialogue: 0,0:01:19.06,0:01:22.40,yin,,0,0,0,,在这个视图控制器处在屏幕上时\N{\fs12}For the lifetime of that view controller being on screen,
Dialogue: 0,0:01:22.40,0:01:25.02,yin,,0,0,0,,它会占据整个屏幕\N{\fs12}it's in charge of the entire screen.
Dialogue: 0,0:01:25.02,0:01:30.27,yin,,0,0,0,,在iPhone上 占据方式是覆盖整块屏幕\N{\fs12}On the iPhone it takes over the entire screen by covering the entire screen.
Dialogue: 0,0:01:30.27,0:01:33.13,yin,,0,0,0,,在iPad上 它通常以弹窗形式占据整块屏幕\N{\fs12}On the iPad it usually takes over by being in a popover.
Dialogue: 0,0:01:33.13,0:01:35.42,yin,,0,0,0,,我们知道 弹窗本质上是模态的\N{\fs12}And as we know, popovers are essentially modal.
Dialogue: 0,0:01:35.42,0:01:36.64,yin,,0,0,0,,它们处在一种模式中\N{\fs12}They're in a mode.
Dialogue: 0,0:01:36.64,0:01:39.69,yin,,0,0,0,,弹窗出现时 其它一切都会变得灰暗\N{\fs12}When your popover comes up, everything else is kind of dark gray.
Dialogue: 0,0:01:39.69,0:01:42.61,yin,,0,0,0,,点别的地方时 弹窗就会消失\N{\fs12}And if you click on anything else, the popover goes away, right?
Dialogue: 0,0:01:42.61,0:01:44.69,yin,,0,0,0,,它其实也是一种占据\N{\fs12}So it's essentially taking over as well.
Dialogue: 0,0:01:44.69,0:01:49.01,yin,,0,0,0,,模态视图控制器是一种将视图控制器放到屏幕上\N{\fs12}So modal view controllers are a way to put things up
Dialogue: 0,0:01:49.02,0:01:51.09,yin,,0,0,0,,并占据整个屏幕的方式\N{\fs12}on screen that takes over.
Dialogue: 0,0:01:51.09,0:01:53.64,yin,,0,0,0,,我们来看看这个的iPhone版本\N{\fs12}So let's look at the iPhone version of this.
Dialogue: 0,0:01:53.64,0:01:54.59,yin,,0,0,0,,这是一个小demo\N{\fs12}Here's a little demo of it.
Dialogue: 0,0:01:54.59,0:01:56.41,yin,,0,0,0,,这是联系人app\N{\fs12}So this is the contacts app
Dialogue: 0,0:01:56.41,0:01:58.52,yin,,0,0,0,,这里有我的联系人名录\N{\fs12}and you can see I've got my contacts there,
Dialogue: 0,0:01:58.52,0:02:04.37,yin,,0,0,0,,如果我想在这里加一个联系人 我该怎么做\N{\fs12}my winning contacts, and so what if I want to add another contact here?
Dialogue: 0,0:02:04.37,0:02:07.90,yin,,0,0,0,,假设我要添加Montay Ball或是谁\N{\fs12}Let's say I want to add Montay Ball [assumed spelling] or something like that.
Dialogue: 0,0:02:07.90,0:02:09.56,yin,,0,0,0,,如何做到呢\N{\fs12}How would I do that?
Dialogue: 0,0:02:09.56,0:02:13.24,yin,,0,0,0,,我会点右上角的那个加号\N{\fs12}Well I would press that little plus up there in the corner,
Dialogue: 0,0:02:13.24,0:02:15.33,yin,,0,0,0,,点加号后会怎样\N{\fs12}and what would happen when I press plus?
Dialogue: 0,0:02:15.33,0:02:16.05,yin,,0,0,0,,我们看看\N{\fs12}So let's watch.
Dialogue: 0,0:02:16.05,0:02:19.71,yin,,0,0,0,,点加号 一整个新的视图控制器会滑入\N{\fs12}So I hit plus, and a whole new view controller slides in
Dialogue: 0,0:02:19.71,0:02:21.39,yin,,0,0,0,,完全占据屏幕\N{\fs12}and completely takes over the screen.
Dialogue: 0,0:02:21.39,0:02:23.05,yin,,0,0,0,,这不是push\N{\fs12}Now this was not a push.
Dialogue: 0,0:02:23.05,0:02:26.16,yin,,0,0,0,,这个取消按钮并不是回退按钮\N{\fs12}Okay, that cancel button there, that's not a back button.
Dialogue: 0,0:02:26.16,0:02:28.05,yin,,0,0,0,,它实际占据了整个屏幕\N{\fs12}It actually took over the whole screen.
Dialogue: 0,0:02:28.05,0:02:31.68,yin,,0,0,0,,只是取消碰巧处在回退相同的位置\N{\fs12}Now cancel happens to be in the same place that back would be,
Dialogue: 0,0:02:31.68,0:02:35.19,yin,,0,0,0,,这是很不错的UI一致性\N{\fs12}which is kind of decent UI consistency there,
Dialogue: 0,0:02:35.19,0:02:39.47,yin,,0,0,0,,不过这里使用的是不同机制\N{\fs12}but it's a different, totally different modal mechanism.
Dialogue: 0,0:02:39.47,0:02:46.03,yin,,0,0,0,,这个模态视图控制器占据了屏幕\N{\fs12}So not only, so we have this modal view controller that's taking over the screen.
Dialogue: 0,0:02:46.03,0:02:49.77,yin,,0,0,0,,这里还有另一个按钮 说添加照片\N{\fs12}And for example, there's another button on this one, add photo,
Dialogue: 0,0:02:49.77,0:02:53.58,yin,,0,0,0,,这就会使用另一个模态视图控制器 覆盖这个屏幕\N{\fs12}which uses another modal view controller and covers this guy's screen.
Dialogue: 0,0:02:53.58,0:02:55.46,yin,,0,0,0,,再看点击添加照片时会发生什么\N{\fs12}So let's watch what happens when we hit add photo.
Dialogue: 0,0:02:55.46,0:02:57.11,yin,,0,0,0,,这又覆盖了整个屏幕\N{\fs12}See? That covers up the whole screen again.
Dialogue: 0,0:02:57.11,0:03:02.17,yin,,0,0,0,,这发生了两层模态segue\N{\fs12}So now we have two levels of modal segues happening here.
Dialogue: 0,0:03:02.17,0:03:04.21,yin,,0,0,0,,这不是push 没有回退按钮\N{\fs12}And again it's not a push, there's no back button.
Dialogue: 0,0:03:04.21,0:03:07.63,yin,,0,0,0,,这里 取消按钮处在右侧\N{\fs12}In this one the cancel button happens to be on the right.
Dialogue: 0,0:03:07.63,0:03:14.16,yin,,0,0,0,,我运行的这个设备上没有任何照片和视频可供选择\N{\fs12}And I don't have any photos or videos to choose here on this device that I'm running on,
Dialogue: 0,0:03:14.16,0:03:17.49,yin,,0,0,0,,但你可以看到 没有回退按钮\N{\fs12}but you can see no back button there.
Dialogue: 0,0:03:17.49,0:03:19.67,yin,,0,0,0,,如果我点取消\N{\fs12}Now, when I cancel, okay
Dialogue: 0,0:03:19.67,0:03:23.07,yin,,0,0,0,,这个模态视图控制器会消失 看看\N{\fs12}and this modal view controller goes away, watch what happens.
Dialogue: 0,0:03:23.07,0:03:24.01,yin,,0,0,0,,它会消失\N{\fs12}It disappears.
Dialogue: 0,0:03:24.01,0:03:26.98,yin,,0,0,0,,我回到了之前的模态视图控制器\N{\fs12}I go back to the previous modal obviously.
Dialogue: 0,0:03:26.98,0:03:29.59,yin,,0,0,0,,然后如果我取消这个\N{\fs12}And then if I cancel this modal,
Dialogue: 0,0:03:29.59,0:03:32.47,yin,,0,0,0,,那样我就又会回到再之前\N{\fs12}okay, then I'll go back to the previous one from that.
Dialogue: 0,0:03:32.47,0:03:35.69,yin,,0,0,0,,模态占据屏幕 直到你点完成\N{\fs12}So modal takes over the screen until it's, you hit either done
Dialogue: 0,0:03:35.69,0:03:38.46,yin,,0,0,0,,或是取消 这时它就会消失\N{\fs12}or cancel or something and then it goes away and goes back
Dialogue: 0,0:03:38.46,0:03:40.55,yin,,0,0,0,,并回到你原来的地方\N{\fs12}to where you were, exactly where you were.
Dialogue: 0,0:03:40.55,0:03:43.65,yin,,0,0,0,,很简单 我只是想保证你们理解了\N{\fs12}So, it's pretty straightforward but just want
Dialogue: 0,0:03:43.65,0:03:47.25,yin,,0,0,0,,我们能用模态视图控制器做些什么\N{\fs12}to make sure you understand what we're doing here with modal view controllers.
Dialogue: 0,0:03:47.25,0:03:49.88,yin,,0,0,0,,下面是需要考虑的一些东西\N{\fs12}Now some things to think about,
Dialogue: 0,0:03:49.88,0:03:52.94,yin,,0,0,0,,模态segue会让用户有些失去方向\N{\fs12}modal segues can be a little disorienting to the user
Dialogue: 0,0:03:52.94,0:03:55.56,yin,,0,0,0,,他们本来是在很好的app中 本来很舒服\N{\fs12}because they're in their nice app, they're really comfy,
Dialogue: 0,0:03:55.56,0:03:59.00,yin,,0,0,0,,之后突然间 整个屏幕都被别的东西所占据\N{\fs12}and then all the sudden their whole screen is completely taken over by something else.
Dialogue: 0,0:03:59.00,0:04:00.86,yin,,0,0,0,,他们会想 哦 这是什么\N{\fs12}And like whoa, what's this? Now,
Dialogue: 0,0:04:00.88,0:04:05.48,yin,,0,0,0,,在合适的地方使用模态视图控制器倒还没问题\N{\fs12}you know, if you're using modal view controllers in the proper places, it's okay.
Dialogue: 0,0:04:05.48,0:04:06.45,yin,,0,0,0,,用户能接受\N{\fs12}The user's fine with that.
Dialogue: 0,0:04:06.45,0:04:09.97,yin,,0,0,0,,例如联系人 添加联系人 他们能够很理解\N{\fs12}Like the contacts, they're adding a new contact, they understand okay well I have
Dialogue: 0,0:04:09.97,0:04:13.01,yin,,0,0,0,,我需要填入这个联系人的信息 然后点完成\N{\fs12}to completely specify this contact before I say done,
Dialogue: 0,0:04:13.01,0:04:16.15,yin,,0,0,0,,否则这里我什么事情都做不了\N{\fs12}so I kind of can't do anything else anyway until I'm done.
Dialogue: 0,0:04:16.15,0:04:18.68,yin,,0,0,0,,但模态视图控制器有可能会被滥用\N{\fs12}But modal view controllers can be overused.
Dialogue: 0,0:04:18.68,0:04:20.39,yin,,0,0,0,,很多学生都在过度使用它\N{\fs12}I see students overusing it a lot.
Dialogue: 0,0:04:20.39,0:04:21.32,yin,,0,0,0,,他们总是喜欢说\N{\fs12}They're just kind of like oh,
Dialogue: 0,0:04:21.32,0:04:22.84,yin,,0,0,0,,我需要把这个视图控制器放到屏幕上\N{\fs12}well I need to put the view controller on the screen
Dialogue: 0,0:04:22.84,0:04:24.61,yin,,0,0,0,,就用模态视图控制器吧\N{\fs12}so I'll just put it up modally.
Dialogue: 0,0:04:24.61,0:04:28.66,yin,,0,0,0,,其实有时 push到屏幕上会更好\N{\fs12}And, whereas it might be better to push it onto screen if it's,
Dialogue: 0,0:04:28.66,0:04:32.02,yin,,0,0,0,,例如总需要回退的时候\N{\fs12}if going back makes sense at all times.
Dialogue: 0,0:04:32.02,0:04:35.49,yin,,0,0,0,,如果push什么东西 总回退没有意义\N{\fs12}If you push something and it doesn't make sense to go back
Dialogue: 0,0:04:35.49,0:04:38.46,yin,,0,0,0,,那使用push可能就不是正确的方式了\N{\fs12}at all times, then push is probably not right.
Dialogue: 0,0:04:38.46,0:04:40.65,yin,,0,0,0,,不过有时你要问自己 我能否像这样设计UI\N{\fs12}But then you might ask yourself, can I design my UI
Dialogue: 0,0:04:40.65,0:04:44.74,yin,,0,0,0,,在导航控制器中总让它回退 而没有问题\N{\fs12}so it is always okay to go back, right? You know, in a navigation controller.
Dialogue: 0,0:04:44.74,0:04:47.38,yin,,0,0,0,,模态视图控制器很容易被滥用\N{\fs12}So modal view controllers tend to get overused.
Dialogue: 0,0:04:47.38,0:04:51.87,yin,,0,0,0,,用户有时会被它们弄得一头雾水 因此 请小心使用\N{\fs12}Users can sometimes by disoriented by them so use them with care.
Dialogue: 0,0:04:51.87,0:04:54.27,yin,,0,0,0,,如何设置一个模态segue呢\N{\fs12}How do we set a modal segue up?
Dialogue: 0,0:04:54.27,0:04:55.14,yin,,0,0,0,,很简单\N{\fs12}Super simple.
Dialogue: 0,0:04:55.14,0:04:58.53,yin,,0,0,0,,到故事板 找到你想要模态segue到的视图控制器\N{\fs12}Got our story board, have the view controller you want to modal segue to,
Dialogue: 0,0:04:58.53,0:04:59.99,yin,,0,0,0,,我们只需要control拖动\N{\fs12}we just control drag.
Dialogue: 0,0:04:59.99,0:05:03.11,yin,,0,0,0,,control拖动 问你要怎样的segue\N{\fs12}Control drag, and when it says what kind of segue do you want
Dialogue: 0,0:05:03.11,0:05:05.45,yin,,0,0,0,,你选modal 而不是原来的push\N{\fs12}you say modal instead of push for example.
Dialogue: 0,0:05:05.45,0:05:07.34,yin,,0,0,0,,这样就能设置好了\N{\fs12}And bam, that's all that's necessary to set it up.
Dialogue: 0,0:05:07.34,0:05:08.78,yin,,0,0,0,,这是一个常规的segue\N{\fs12}And it's a normal segue
Dialogue: 0,0:05:08.78,0:05:11.94,yin,,0,0,0,,和其它segue一样需要准备\N{\fs12}so you're going to prepare for segue just like any other segues.
Dialogue: 0,0:05:11.94,0:05:14.53,yin,,0,0,0,,把它放到屏幕上时 情况同push很像\N{\fs12}It's very, when it comes to pushing it,
Dialogue: 0,0:05:14.53,0:05:18.43,yin,,0,0,0,,把它放到屏幕上时 情况同push很像\N{\fs12}or you know not pushing it, putting it on screen, it's very much like pushing.
Dialogue: 0,0:05:18.43,0:05:21.61,yin,,0,0,0,,你们会对此非常习惯\N{\fs12}So it's very, you'll be very used to that.
Dialogue: 0,0:05:21.61,0:05:25.51,yin,,0,0,0,,你也可以手动进行segue 就像上周我们讲的\N{\fs12}It can be manually segued to just like we talked about last week.
Dialogue: 0,0:05:25.51,0:05:28.61,yin,,0,0,0,,你甚至可以通过创建视图控制器\N{\fs12}You can even put them up by creating view controllers
Dialogue: 0,0:05:28.61,0:05:32.23,yin,,0,0,0,,把它们放到屏幕上 不过课上我没讲这个\N{\fs12}and put them on screen but we don't really talk about that in this class
Dialogue: 0,0:05:32.23,0:05:35.24,yin,,0,0,0,,因为这是很过时的做法\N{\fs12}because that's really old style way of doing things.
Dialogue: 0,0:05:35.24,0:05:39.80,yin,,0,0,0,,我们一般是在故事板中control拖动来设置segue\N{\fs12}We do things in storyboard and we control drag to set up segues.
Dialogue: 0,0:05:39.80,0:05:43.61,yin,,0,0,0,,它也需要准备 怎样准备呢\N{\fs12}So it's normal to prepare. What does a prepare look like?
Dialogue: 0,0:05:43.61,0:05:45.97,yin,,0,0,0,,同其它prepareForSegue类似\N{\fs12}It looks like any other prepare for segue, right?
Dialogue: 0,0:05:45.97,0:05:49.84,yin,,0,0,0,,你得到目标控制器 检查标识符\N{\fs12}You get the destination controller, maybe check the identifier.
Dialogue: 0,0:05:49.84,0:05:51.36,yin,,0,0,0,,看它是什么类\N{\fs12}You see what class it is.
Dialogue: 0,0:05:51.36,0:05:54.78,yin,,0,0,0,,然后你再设置你的…\N{\fs12}You know you set up your des- your,
Dialogue: 0,0:05:54.78,0:05:59.88,yin,,0,0,0,,通过传入视图控制器想要的公共API来做准备\N{\fs12}you prepare by passing whatever public API that view controller wants.
Dialogue: 0,0:05:59.88,0:06:02.69,yin,,0,0,0,,下面这里是模态segue变得有趣的地方\N{\fs12}Okay now here's where modal segues get interesting though.
Dialogue: 0,0:06:02.69,0:06:05.68,yin,,0,0,0,,也就是接收回复\N{\fs12}That's hearing back okay?
Dialogue: 0,0:06:05.68,0:06:08.03,yin,,0,0,0,,模态segue做了什么事情以后\N{\fs12}So a modal segue has gone off and done something
Dialogue: 0,0:06:08.03,0:06:11.46,yin,,0,0,0,,例如在联系人app中创建了一个新联系人\N{\fs12}like created a new contact in your contact app,
Dialogue: 0,0:06:11.46,0:06:13.26,yin,,0,0,0,,这时 联系人app中\N{\fs12}and now the contacts app,
Dialogue: 0,0:06:13.26,0:06:16.33,yin,,0,0,0,,发起segue的视图控制器希望收到回复\N{\fs12}you know the view controller that put it up wants to hear back.
Dialogue: 0,0:06:16.33,0:06:19.09,yin,,0,0,0,,你刚创建的联系人是什么\N{\fs12}Okay well what was that contact you just created?
Dialogue: 0,0:06:19.09,0:06:25.31,yin,,0,0,0,,接收回复很有趣 这是另一种segue\N{\fs12}Okay so this hearing back is kind of the interesting yet another kind of segue.
Dialogue: 0,0:06:25.31,0:06:29.46,yin,,0,0,0,,我们将这称作unwind segue\N{\fs12}This hearing back we call these unwind segues.
Dialogue: 0,0:06:29.46,0:06:34.60,yin,,0,0,0,,unwind segue是说 你回给发起你的人\N{\fs12}An unwind segue means you're going back to someone who put you up.
Dialogue: 0,0:06:34.60,0:06:36.10,yin,,0,0,0,,有人把你放到屏幕上\N{\fs12}Someone who put you on screen.
Dialogue: 0,0:06:36.10,0:06:38.42,yin,,0,0,0,,一个视图控制器把另一个放到屏幕上\N{\fs12}We call a view controller that puts another view controller
Dialogue: 0,0:06:38.42,0:06:40.48,yin,,0,0,0,,所谓presenting view controller\N{\fs12}on screen, a presenting view controller
Dialogue: 0,0:06:40.48,0:06:42.92,yin,,0,0,0,,它呈现(present)出另一个视图控制器\N{\fs12}because it's presenting this other view controller.
Dialogue: 0,0:06:42.92,0:06:46.70,yin,,0,0,0,,unwind segue会回到这个presenting视图控制器\N{\fs12}So an unwind segue, you're going back to someone who presented to you.
Dialogue: 0,0:06:46.70,0:06:50.61,yin,,0,0,0,,unwind segue也只能回到presenting视图控制器\N{\fs12}Unwind segues can only go back to someone who presented you.
Dialogue: 0,0:06:50.61,0:06:53.72,yin,,0,0,0,,不能unwind到某个非presenting视图控制器\N{\fs12}You can't unwind to someone else who didn't present you.
Dialogue: 0,0:06:53.72,0:06:57.19,yin,,0,0,0,,不过在模态引出模态再引出模态的情况下\N{\fs12}But in the case where we had modal and then that modal brought up another modal,
Dialogue: 0,0:06:57.19,0:06:59.92,yin,,0,0,0,,你可以一次解开两层\N{\fs12}you can unwind two levels at once.
Dialogue: 0,0:06:59.92,0:07:01.64,yin,,0,0,0,,解开可以是到\N{\fs12}Okay so you can unwind to anybody
Dialogue: 0,0:07:01.64,0:07:05.22,yin,,0,0,0,,直接或间接present出你的人\N{\fs12}who presented you either directly or indirectly.
Dialogue: 0,0:07:05.22,0:07:07.84,yin,,0,0,0,,unwind segue最有趣的一点是\N{\fs12}Most interesting thing about unwind segues,
Dialogue: 0,0:07:07.84,0:07:09.92,yin,,0,0,0,,只有这一种segue\N{\fs12}they're the only kind of segue
Dialogue: 0,0:07:09.92,0:07:13.01,yin,,0,0,0,,不创建一个新的视图控制器\N{\fs12}that doesn't create a new view controller.
Dialogue: 0,0:07:13.01,0:07:16.37,yin,,0,0,0,,其它segue 无论是push 是modal 还是replace\N{\fs12}Every other segue-- pushing, modal, replace--
Dialogue: 0,0:07:16.37,0:07:19.46,yin,,0,0,0,,都总会创建另外一个视图控制器\N{\fs12}all these segues always create another view controller.
Dialogue: 0,0:07:19.46,0:07:22.20,yin,,0,0,0,,每次都会从头实例化一个\N{\fs12}They instantiate one from scratch, every time.
Dialogue: 0,0:07:22.20,0:07:24.35,yin,,0,0,0,,每次在导航控制器中push时\N{\fs12}Okay every time you push in a navigation controller,
Dialogue: 0,0:07:24.35,0:07:25.86,yin,,0,0,0,,你都会得到一个新视图控制器\N{\fs12}you get a new view controller.
Dialogue: 0,0:07:25.86,0:07:28.40,yin,,0,0,0,,每次modal segue 你也会得到新的\N{\fs12}Every time you modally segue, you get a new one.
Dialogue: 0,0:07:28.40,0:07:31.69,yin,,0,0,0,,unwind segue不会这样做 因为它会unwind回\N{\fs12}Unwinds obviously don't do that because they're unwinding back
Dialogue: 0,0:07:31.69,0:07:32.85,yin,,0,0,0,,present出你的那个\N{\fs12}to someone who presented you.
Dialogue: 0,0:07:32.85,0:07:34.90,yin,,0,0,0,,这显然存在\N{\fs12}They obviously already exist.
Dialogue: 0,0:07:34.90,0:07:36.62,yin,,0,0,0,,理解我说的吗\N{\fs12}Does that make sense? See what I'm saying?
Dialogue: 0,0:07:36.62,0:07:39.19,yin,,0,0,0,,unwind segue这样看有点古怪\N{\fs12}So it's kind of a-- unwind is kind of a weird segue in that way.
Dialogue: 0,0:07:39.19,0:07:43.34,yin,,0,0,0,,它总是会回到已经存在的视图控制器\N{\fs12}It always goes back to somebody who already exists.
Dialogue: 0,0:07:43.34,0:07:45.44,yin,,0,0,0,,通常而言 unwind会和modal一同使用\N{\fs12}Normally this unwinding is used with modal.
Dialogue: 0,0:07:45.44,0:07:48.30,yin,,0,0,0,,其实它也可以同push一起用\N{\fs12}It actually can be used with pushing though.
Dialogue: 0,0:07:48.30,0:07:49.81,yin,,0,0,0,,你可以push push push\N{\fs12}You could push and push and push
Dialogue: 0,0:07:49.81,0:07:52.30,yin,,0,0,0,,然后一直unwind回顶部\N{\fs12}and then unwind all the way back up to the top.
Dialogue: 0,0:07:52.30,0:07:55.57,yin,,0,0,0,,unwind可以被用在导航控制器中\N{\fs12}Okay so unwinding can be used inside navigation controller,
Dialogue: 0,0:07:55.57,0:07:59.22,yin,,0,0,0,,不过最常用的还是modal控制器\N{\fs12}but most often probably used in modal controller.
Dialogue: 0,0:07:59.22,0:08:01.75,yin,,0,0,0,,我们来谈谈unwind 以及如何设置\N{\fs12}Okay so let's talk about unwinding and how we set that up
Dialogue: 0,0:08:01.75,0:08:04.53,yin,,0,0,0,,如何让它工作 毕竟我说了\N{\fs12}and how we make it work because it's a little, again,
Dialogue: 0,0:08:04.53,0:08:06.46,yin,,0,0,0,,它有点让人困扰\N{\fs12}like I say it's a little disorienting
Dialogue: 0,0:08:06.46,0:08:09.72,yin,,0,0,0,,因为它没有作为图像显示在故事板中\N{\fs12}because it's graphically not shown in the storyboard
Dialogue: 0,0:08:09.72,0:08:11.33,yin,,0,0,0,,同其它segue不一样\N{\fs12}in the same way as other segues.
Dialogue: 0,0:08:11.33,0:08:13.34,yin,,0,0,0,,没有线画在那里\N{\fs12}There's not the line being drawn.
Dialogue: 0,0:08:13.34,0:08:16.29,yin,,0,0,0,,不过关于unwind segue最重要的一点\N{\fs12}But the way you set it up, and the most important thing about an unwind segue
Dialogue: 0,0:08:16.29,0:08:18.64,yin,,0,0,0,,在于指定动作方法\N{\fs12}is to specify the action method
Dialogue: 0,0:08:18.64,0:08:22.65,yin,,0,0,0,,这会在presenting视图控制器中被调用\N{\fs12}that's going to get called in the presenting view controller--
Dialogue: 0,0:08:22.65,0:08:24.72,yin,,0,0,0,,present出这些东西的那个控制器\N{\fs12}the one that's presenting these guys--
Dialogue: 0,0:08:24.72,0:08:29.50,yin,,0,0,0,,unwind时有些方法需要在这其中得到调用\N{\fs12}some method has to be called in them when you unwind.
Dialogue: 0,0:08:29.50,0:08:33.08,yin,,0,0,0,,这种方法是一种IBAction\N{\fs12}That kind of method, it's an IB action, right?
Dialogue: 0,0:08:33.10,0:08:36.65,yin,,0,0,0,,这是Xcode特别注意的一种东西\N{\fs12}It's the kind of thing that Xcode is, pays special attention to.
Dialogue: 0,0:08:36.65,0:08:38.72,yin,,0,0,0,,看起来像是一个目标动作方法\N{\fs12}So it looks kind of like a target action method,
Dialogue: 0,0:08:38.72,0:08:41.25,yin,,0,0,0,,不过弄对参数非常重要\N{\fs12}but the argument is very important to get right.
Dialogue: 0,0:08:41.25,0:08:44.54,yin,,0,0,0,,这是一个UIStoryboardSegue\N{\fs12}It's a UI storyboard segue.
Dialogue: 0,0:08:44.54,0:08:48.29,yin,,0,0,0,,这是因为 这个unwind发生时 这个方法会被调用\N{\fs12}That's because when this unwind happens, this method's going to get called
Dialogue: 0,0:08:48.30,0:08:52.98,yin,,0,0,0,,而且它会把unwind segue传给你\N{\fs12}and it's going to pass you the unwind segue.
Dialogue: 0,0:08:52.98,0:08:56.52,yin,,0,0,0,,正在发生的segue本身会被传给你\N{\fs12}The segue itself that is happening is going to be passed to you.
Dialogue: 0,0:08:56.52,0:08:59.33,yin,,0,0,0,,看这个segue 你可以弄清\N{\fs12}And when you look in that segue, you can for example find
Dialogue: 0,0:08:59.33,0:09:01.45,yin,,0,0,0,,这个unwind的来源在哪\N{\fs12}out who's the source of this unwind.
Dialogue: 0,0:09:01.45,0:09:03.81,yin,,0,0,0,,也就是你present的东西\N{\fs12}That's going to be the thing you presented or the thing
Dialogue: 0,0:09:03.81,0:09:06.41,yin,,0,0,0,,或是一直present下去的东西\N{\fs12}that you presented that somebody else presented or presented down the way,
Dialogue: 0,0:09:06.41,0:09:08.51,yin,,0,0,0,,这就是源视图控制器\N{\fs12}that's going to be the source view controller.
Dialogue: 0,0:09:08.51,0:09:11.89,yin,,0,0,0,,这是我们唯一考虑segue的源视图控制器的情况\N{\fs12}So this is the only case where we've looked at the segue's source view controller.
Dialogue: 0,0:09:11.89,0:09:14.10,yin,,0,0,0,,我们一般只看segue的目标\N{\fs12}Usually we're looking at the segue's destination.
Dialogue: 0,0:09:14.10,0:09:18.10,yin,,0,0,0,,但这里 unwind segue的目标会接收这个信息\N{\fs12}But in this case the unwind segue destination is receiving this message
Dialogue: 0,0:09:18.11,0:09:20.94,yin,,0,0,0,,我们于是就能知道来源在哪\N{\fs12}so it knows who it is, and so it's looking at the source.
Dialogue: 0,0:09:20.94,0:09:24.75,yin,,0,0,0,,显然 这个segue方法的第一行\N{\fs12}Okay so obviously the first line in a segue method
Dialogue: 0,0:09:24.75,0:09:29.74,yin,,0,0,0,,通常都是 我从哪里unwind来的\N{\fs12}like this is usually who's unwi- who am I unwinding from.
Dialogue: 0,0:09:29.74,0:09:32.11,yin,,0,0,0,,知道从哪unwind来后\N{\fs12}Now that you know who you're unwinding from, you could ask
Dialogue: 0,0:09:32.11,0:09:35.10,yin,,0,0,0,,你可以问它 例如添加联系人视图控制器\N{\fs12}that thing, like the contact, the add contact view controller,
Dialogue: 0,0:09:35.10,0:09:37.87,yin,,0,0,0,,你添加的联系人是谁\N{\fs12}what was the contact you added.
Dialogue: 0,0:09:37.87,0:09:39.52,yin,,0,0,0,,你刚unwind给我\N{\fs12}You just unwound to me.
Dialogue: 0,0:09:39.52,0:09:41.26,yin,,0,0,0,,显然你添加了联系人\N{\fs12}Obviously you've chose your contact.
Dialogue: 0,0:09:41.26,0:09:42.62,yin,,0,0,0,,你添加的联系人是谁\N{\fs12}What was the contact you added?
Dialogue: 0,0:09:42.62,0:09:44.69,yin,,0,0,0,,这样你就得到了联系人 然后添加\N{\fs12}And so now you've got the contact, you could add it
Dialogue: 0,0:09:44.69,0:09:47.33,yin,,0,0,0,,到联系人列表 或是做别的什么\N{\fs12}to the list of contacts or whatever you want to do.
Dialogue: 0,0:09:47.33,0:09:51.94,yin,,0,0,0,,创建这个方法是最重要的事\N{\fs12}So creating that method is the most important thing to do,
Dialogue: 0,0:09:51.94,0:09:54.42,yin,,0,0,0,,仅仅是这个方法的创建\N{\fs12}and just the very creation of that method
Dialogue: 0,0:09:54.42,0:09:56.43,yin,,0,0,0,,就会自动让Xcode意识到\N{\fs12}will automatically make Xcode realize
Dialogue: 0,0:09:56.43,0:09:59.19,yin,,0,0,0,,你可以unwind到那个视图控制器\N{\fs12}that you can unwind to that view controller.
Dialogue: 0,0:09:59.19,0:10:02.22,yin,,0,0,0,,如果视图控制器有这种方法 IBAction\N{\fs12}If a view controller has this kind of method, IB action,
Dialogue: 0,0:10:02.22,0:10:05.03,yin,,0,0,0,,任何名称 取一个UIStoryboardSegue\N{\fs12}any name takes a UI Storyboard segue,
Dialogue: 0,0:10:05.03,0:10:08.51,yin,,0,0,0,,那个视图控制器现在就可以被unwind到了\N{\fs12}that view controller can now be unwound to.
Dialogue: 0,0:10:08.51,0:10:11.12,yin,,0,0,0,,那个视图控制器present出的任何视图控制器\N{\fs12}So any view controller that that view controller presents
Dialogue: 0,0:10:11.12,0:10:12.57,yin,,0,0,0,,能够unwind回它\N{\fs12}can unwind back to it.
Dialogue: 0,0:10:12.57,0:10:14.86,yin,,0,0,0,,如何设置这种unwind segue呢\N{\fs12}Okay so how do you set up that unwind?
Dialogue: 0,0:10:14.86,0:10:16.79,yin,,0,0,0,,这有点奇特\N{\fs12}Okay this is a little odd.
Dialogue: 0,0:10:16.79,0:10:19.52,yin,,0,0,0,,在添加联系人的视图控制器中\N{\fs12}In the, let's say, add contact view controller,
Dialogue: 0,0:10:19.52,0:10:23.10,yin,,0,0,0,,模态方式present的那个 它会有一个按钮\N{\fs12}the one that's being presented modally, it might have a button
Dialogue: 0,0:10:23.10,0:10:28.31,yin,,0,0,0,,说完成 或是保存新联系人 或创建新联系人\N{\fs12}in there like done or save new contact or create new contact.
Dialogue: 0,0:10:28.31,0:10:32.40,yin,,0,0,0,,这个按钮 实际会开启这个unwind segue\N{\fs12}That button, okay, really wants to start this unwind segue.
Dialogue: 0,0:10:32.40,0:10:36.49,yin,,0,0,0,,但你不能从那个按钮control拖动回\N{\fs12}But you can't control drag from that button all the way back
Dialogue: 0,0:10:36.49,0:10:39.35,yin,,0,0,0,,有这个方法的原来那个视图控制器\N{\fs12}to the other view controller that has this method.
Dialogue: 0,0:10:39.35,0:10:41.30,yin,,0,0,0,,你可能认为你能 但你不能\N{\fs12}You'd think you could, but you can't.
Dialogue: 0,0:10:41.30,0:10:45.32,yin,,0,0,0,,你应从那个按钮control拖动到下面那个绿色小按钮\N{\fs12}Instead, you control drag from that button down to the little green button--
Dialogue: 0,0:10:45.32,0:10:46.57,yin,,0,0,0,,看到那张图了吗\N{\fs12}you see that image I have there--
Dialogue: 0,0:10:46.57,0:10:49.36,yin,,0,0,0,,视图控制器底部的那个绿色小按钮\N{\fs12}the little green button at the bottom of the view controller
Dialogue: 0,0:10:49.36,0:10:52.40,yin,,0,0,0,,这会开启unwind segue\N{\fs12}that is starting the unwind segue.
Dialogue: 0,0:10:52.40,0:10:53.82,yin,,0,0,0,,到模态方式present的那个\N{\fs12}The thing that was presented modally.
Dialogue: 0,0:10:53.82,0:10:54.93,yin,,0,0,0,,你到下面这个绿按钮 然后放手\N{\fs12}So you go down to that green thing--
Dialogue: 0,0:10:54.93,0:10:57.51,yin,,0,0,0,,你到下面这个绿按钮 然后放手\N{\fs12}and when you do to that green thing and you let go,
Dialogue: 0,0:10:57.51,0:11:02.61,yin,,0,0,0,,它会给你一系列方法 例如这里的完成\N{\fs12}it's going to give you a list of all these methods like done right there.
Dialogue: 0,0:11:02.61,0:11:04.79,yin,,0,0,0,,这些方法都是IBAction\N{\fs12}Okay all the methods that are IB actions
Dialogue: 0,0:11:04.79,0:11:07.24,yin,,0,0,0,,将UIStoryboardSegue作为参数\N{\fs12}that take UI storyboard segues as arguments.
Dialogue: 0,0:11:07.24,0:11:09.32,yin,,0,0,0,,其中有些方法\N{\fs12}Now some of those methods might be
Dialogue: 0,0:11:09.32,0:11:14.07,yin,,0,0,0,,可能在故事板中完全无关的视图控制器中\N{\fs12}in completely unrelated view controllers off somewhere else in your storyboard because it's going to show you all of them.
Dialogue: 0,0:11:14.07,0:11:16.30,yin,,0,0,0,,Xcode知道所有这些 把它们都显示给你\N{\fs12}Xcode knows about all of them. It shows you all of them.
Dialogue: 0,0:11:16.30,0:11:21.13,yin,,0,0,0,,如果你选择的 不在present出你的视图控制器中\N{\fs12}If you pick one that wasn't, is not in a view controller that presented you,
Dialogue: 0,0:11:21.14,0:11:23.66,yin,,0,0,0,,unwind就不会发生 就像你什么都没做\N{\fs12}the unwind just will not happen. It's like you did nothing.
Dialogue: 0,0:11:23.66,0:11:25.59,yin,,0,0,0,,它不会崩溃 但是什么都不会做\N{\fs12}It's not going to crash but it's just not going to do anything.
Dialogue: 0,0:11:25.59,0:11:28.41,yin,,0,0,0,,完成按钮什么都不会做\N{\fs12}So the done button would just do nothing.
Dialogue: 0,0:11:28.41,0:11:32.05,yin,,0,0,0,,但如果运行时 它能够找到那个方法\N{\fs12}But if it can find, at run time if it can find that method
Dialogue: 0,0:11:32.05,0:11:36.79,yin,,0,0,0,,追溯present出你的链 它会调用那个方法\N{\fs12}up the change of, chain of who presented you, it will call that method.
Dialogue: 0,0:11:36.79,0:11:39.10,yin,,0,0,0,,这只是unwind的一部分\N{\fs12}Now that's only part of unwinding.
Dialogue: 0,0:11:39.10,0:11:42.37,yin,,0,0,0,,unwind的一部分是让present出你的视图控制器\N{\fs12}Part of unwinding is letting the view controller who presented you
Dialogue: 0,0:11:42.37,0:11:44.33,yin,,0,0,0,,知道 好 我完成了\N{\fs12}know yeah I'm done.
Dialogue: 0,0:11:44.33,0:11:45.84,yin,,0,0,0,,而这里是从公共API\N{\fs12}And here's from public API
Dialogue: 0,0:11:45.84,0:11:48.35,yin,,0,0,0,,你从我这里获得信息\N{\fs12}and myself [inaudible] get information out of me.
Dialogue: 0,0:11:48.35,0:11:51.77,yin,,0,0,0,,不过unwind还有另一部分 也就是为其做准备\N{\fs12}But there's another part of it which is preparing that unwind segue.
Dialogue: 0,0:11:51.77,0:11:54.65,yin,,0,0,0,,unwind segue也需要准备\N{\fs12}So the unwind segue has to be prepared as well.
Dialogue: 0,0:11:54.65,0:11:57.99,yin,,0,0,0,,而且准备unwind segue有时甚至比\N{\fs12}And in fact preparing an unwind segue is even more important
Dialogue: 0,0:11:57.99,0:12:02.26,yin,,0,0,0,,准备其它segue更重要 因为只有这个机会下\N{\fs12}sometimes than preparing other segues because it's the only chance
Dialogue: 0,0:12:02.26,0:12:07.87,yin,,0,0,0,,被present的模态视图控制器会在消失之前做点什么\N{\fs12}that the presented modal view controller has to do anything before it goes away.
Dialogue: 0,0:12:07.87,0:12:11.38,yin,,0,0,0,,也就是准备这个unwind segue的回退\N{\fs12}And that's to prepare that unwind segue to go back.
Dialogue: 0,0:12:11.38,0:12:14.99,yin,,0,0,0,,在demo中 我们会进一步完善Photomania\N{\fs12}So in the demo we're going to do a photo, some more photo mania
Dialogue: 0,0:12:14.99,0:12:16.53,yin,,0,0,0,,我们会添加一张照片\N{\fs12}and we're going to add a photo.
Dialogue: 0,0:12:16.53,0:12:19.09,yin,,0,0,0,,我们会允许从摄像头拍照\N{\fs12}We're going to allow us to take a photo with the camera instead
Dialogue: 0,0:12:19.09,0:12:22.02,yin,,0,0,0,,而不是从Flickr取回 当这个模态视图控制器\N{\fs12}of getting it from Flickr, and when that modal view controller
Dialogue: 0,0:12:22.02,0:12:25.38,yin,,0,0,0,,让你完成添加照片时 它需要将照片\N{\fs12}that lets you add that photo is done, it has to put that photo
Dialogue: 0,0:12:25.38,0:12:27.68,yin,,0,0,0,,放入到数据库 然后才能unwind\N{\fs12}in the database before it unwinds.
Dialogue: 0,0:12:27.68,0:12:30.39,yin,,0,0,0,,准备完成时segue的回退\N{\fs12}So it prepares for the segue back when it's done
Dialogue: 0,0:12:30.39,0:12:32.38,yin,,0,0,0,,需要将照片放入数据库\N{\fs12}by putting that photo in the database.
Dialogue: 0,0:12:32.38,0:12:36.55,yin,,0,0,0,,准备unwind segue是非常重要的\N{\fs12}Okay so preparing for unwind segues is very important.
Dialogue: 0,0:12:36.55,0:12:40.98,yin,,0,0,0,,考虑prepareForSegue时\N{\fs12}Now, the thing about preparing for segues is you, when you do the prepare for segue,
Dialogue: 0,0:12:40.98,0:12:43.85,yin,,0,0,0,,你需要segue的标识符\N{\fs12}you need the segue's identifier, because you've got to know
Dialogue: 0,0:12:43.85,0:12:46.30,yin,,0,0,0,,分辨出讲的是哪个unwind segue\N{\fs12}which unwind segue am I talking about
Dialogue: 0,0:12:46.30,0:12:49.08,yin,,0,0,0,,这对于unwind segue也很困难\N{\fs12}and that is also difficult with unwind segues.
Dialogue: 0,0:12:49.08,0:12:52.21,yin,,0,0,0,,设置这个的唯一位置是文档大纲\N{\fs12}The only place to set that is in the document outline.
Dialogue: 0,0:12:52.21,0:12:55.79,yin,,0,0,0,,当你通过control拖动到绿色小按钮\N{\fs12}Okay so when you create an unwind segue by control dragging
Dialogue: 0,0:12:55.79,0:12:57.25,yin,,0,0,0,,来创建unwind segue时\N{\fs12}down to the little green thing,
Dialogue: 0,0:12:57.25,0:13:00.87,yin,,0,0,0,,在文档大纲中 会有一行写着unwind segue\N{\fs12}in the document outline there'll be a little line in there unwind segue,
Dialogue: 0,0:13:00.87,0:13:03.18,yin,,0,0,0,,从某个按钮\N{\fs12}you know, from a whatever button.
Dialogue: 0,0:13:03.18,0:13:05.65,yin,,0,0,0,,你可以点这个 然后在检查器中\N{\fs12}And you can click on that and then inspect it just
Dialogue: 0,0:13:05.65,0:13:09.00,yin,,0,0,0,,同其它segue一样 说标识符是什么\N{\fs12}like any other segue and say the identifier is whatever.
Dialogue: 0,0:13:09.00,0:13:11.44,yin,,0,0,0,,然后在prepareForSegue中 你就有了标识符\N{\fs12}And then in prepare for segue you'll have the identifier.
Dialogue: 0,0:13:11.44,0:13:13.44,yin,,0,0,0,,为什么这里有所不同 要隐藏起来呢\N{\fs12}Why is that different or a little hidden?
Dialogue: 0,0:13:13.44,0:13:16.31,yin,,0,0,0,,因为unwind segue在故事板上\N{\fs12}Well because unwind segues don't have a, you know,
Dialogue: 0,0:13:16.31,0:13:19.05,yin,,0,0,0,,没有一图 说它们要去哪\N{\fs12}a drawing on the storyboard that says where they go
Dialogue: 0,0:13:19.05,0:13:20.64,yin,,0,0,0,,因为它们不知道要去哪\N{\fs12}because they don't really know where they go.
Dialogue: 0,0:13:20.64,0:13:24.75,yin,,0,0,0,,这取决于谁present出它们 它们要unwind到哪\N{\fs12}It depends on who presented them as to where they unwind to.
Dialogue: 0,0:13:24.75,0:13:27.52,yin,,0,0,0,,没有线会显示它们回去哪里\N{\fs12}So there's no line showing them going back.
Dialogue: 0,0:13:27.52,0:13:29.82,yin,,0,0,0,,这就是需要使用文档大纲的原因\N{\fs12}So that's why you have to use the document outline.
Dialogue: 0,0:13:29.82,0:13:32.09,yin,,0,0,0,,我会演示所有这些\N{\fs12}So I'm going to demo all this
Dialogue: 0,0:13:32.09,0:13:35.77,yin,,0,0,0,,但愿到时候你们就都明白了\N{\fs12}so hopefully it'll all make sense once you see it.
Dialogue: 0,0:13:35.77,0:13:39.72,yin,,0,0,0,,如何从代码上取消模态视图控制器\N{\fs12}How about dismissing modal view controllers from code?
Dialogue: 0,0:13:39.72,0:13:41.45,yin,,0,0,0,,你想让它从屏幕上消失\N{\fs12}So you just want to get it off the screen.
Dialogue: 0,0:13:41.45,0:13:44.22,yin,,0,0,0,,你不打算unwind 只打算让它从屏幕上消失\N{\fs12}You're not going to unwind, you just want to get it off the screen.
Dialogue: 0,0:13:44.22,0:13:47.83,yin,,0,0,0,,顺便说下 unwind会自动让它从屏幕上消失\N{\fs12}By the way, unwinding automatically takes it off the screen.
Dialogue: 0,0:13:47.83,0:13:49.82,yin,,0,0,0,,如果你有一个模态视图控制器 你unwind\N{\fs12}If you have a modal view controller and you unwind,
Dialogue: 0,0:13:49.82,0:13:53.05,yin,,0,0,0,,它会自动从屏幕上消失 你不需要另外要求\N{\fs12}it will automatically be removed from the screen, you do not have to dismiss it.
Dialogue: 0,0:13:53.05,0:13:55.41,yin,,0,0,0,,不过你也可以手动让它们消失\N{\fs12}But you can also dismiss them manually
Dialogue: 0,0:13:55.41,0:13:58.68,yin,,0,0,0,,做法是发送消息dismissViewControllerAnimated\N{\fs12}by sending the message dismiss view controller animated.
Dialogue: 0,0:13:58.68,0:13:59.74,yin,,0,0,0,,这个方法\N{\fs12}This method is sent
Dialogue: 0,0:13:59.74,0:14:02.43,yin,,0,0,0,,会被发送给presenting视图控制器\N{\fs12}to the presenting view controller,
Dialogue: 0,0:14:02.43,0:14:04.36,yin,,0,0,0,,不是被present的那个\N{\fs12}not the presented.
Dialogue: 0,0:14:04.36,0:14:06.40,yin,,0,0,0,,而是present的那个\N{\fs12}The presenting.
Dialogue: 0,0:14:06.40,0:14:10.03,yin,,0,0,0,,你跟视图控制器说 dismissViewControllerAnimated\N{\fs12}You say to a view controller, dismiss view controller animated.
Dialogue: 0,0:14:10.03,0:14:15.88,yin,,0,0,0,,这意味着让任何你present的视图控制器消失\N{\fs12}It means dismiss any view controller that you have presented.
Dialogue: 0,0:14:15.88,0:14:21.22,yin,,0,0,0,,幸运的是 如果你想在实际视图控制器中说这个\N{\fs12}And luckily though if you want to kind of say that in the actual view controller,
Dialogue: 0,0:14:21.22,0:14:23.18,yin,,0,0,0,,还有一个很棒的方法在UIViewController中\N{\fs12}there's a nice method in UI view controller
Dialogue: 0,0:14:23.18,0:14:25.18,yin,,0,0,0,,叫presentingViewController\N{\fs12}called presenting view controller
Dialogue: 0,0:14:25.18,0:14:28.99,yin,,0,0,0,,这会告诉你 谁present出了你 如果有的话\N{\fs12}which will tell you who presented you, if anyone presented you.
Dialogue: 0,0:14:28.99,0:14:31.16,yin,,0,0,0,,你可以让你自己消失\N{\fs12}So that's a, you can dismiss yourself basically
Dialogue: 0,0:14:31.16,0:14:33.40,yin,,0,0,0,,做法是 self.presentingViewController\N{\fs12}by saying self view controller
Dialogue: 0,0:14:33.40,0:14:35.28,yin,,0,0,0,,dismissViewControllerAnimated\N{\fs12}dismiss animated.
Dialogue: 0,0:14:35.28,0:14:38.34,yin,,0,0,0,,根据定义 那个present出你\N{\fs12}And since by definition that guy presented you,
Dialogue: 0,0:14:38.34,0:14:42.15,yin,,0,0,0,,这就会让你消失\N{\fs12}when you dismiss it's going to dismiss you.
Dialogue: 0,0:14:42.15,0:14:47.26,yin,,0,0,0,,很多人不喜欢这样 因为他们认为\N{\fs12}So just a little frowned upon because some people would argue
Dialogue: 0,0:14:47.26,0:14:50.24,yin,,0,0,0,,当一个模态视图控制器被取消时\N{\fs12}that when a view controller, modal view controller gets canceled,
Dialogue: 0,0:14:50.24,0:14:51.40,yin,,0,0,0,,应当unwind\N{\fs12}you want to unwind.
Dialogue: 0,0:14:51.40,0:14:53.80,yin,,0,0,0,,就算什么信息都没传回来\N{\fs12}Even if you're not communicating anything back,
Dialogue: 0,0:14:53.80,0:14:57.11,yin,,0,0,0,,你至少要让它知道 对 我取消了\N{\fs12}just want to let the guy know, yeah I got canceled.
Dialogue: 0,0:14:57.11,0:14:59.68,yin,,0,0,0,,如果只是取消后让自己消失\N{\fs12}If you just cancel yourself by dismissing yourself,
Dialogue: 0,0:14:59.68,0:15:04.09,yin,,0,0,0,,那present出你的人就不能得到任何通知\N{\fs12}then the guy who presented you doesn't get notified that you submitted yourself.
Dialogue: 0,0:15:04.09,0:15:06.69,yin,,0,0,0,,也有人说 取消了的话\N{\fs12}But some people say yeah but if I'm cancelling I don't want
Dialogue: 0,0:15:06.69,0:15:09.64,yin,,0,0,0,,我就不需要让它知道 我什么都没做\N{\fs12}that guy to know that I'm, I didn't do anything,
Dialogue: 0,0:15:09.65,0:15:13.01,yin,,0,0,0,,我没有添加联系人 我干嘛要让它知道\N{\fs12}I didn't add the contact in the contact case, so I don't even want him to know.
Dialogue: 0,0:15:13.01,0:15:14.90,yin,,0,0,0,,我只需要让我自己消失即可\N{\fs12}So I'm just going to dismiss myself.
Dialogue: 0,0:15:14.90,0:15:16.76,yin,,0,0,0,,具体采取哪种想法\N{\fs12}So it's kind of an art of programming as to
Dialogue: 0,0:15:16.76,0:15:19.55,yin,,0,0,0,,取决于你认为怎样编程是正确的\N{\fs12}which you believe is the right thing there.
Dialogue: 0,0:15:19.55,0:15:20.64,yin,,0,0,0,,这通常不是问题\N{\fs12}It's usually not an issue
Dialogue: 0,0:15:20.64,0:15:23.54,yin,,0,0,0,,因为在故事板中 你都把它接了起来\N{\fs12}because in your storyboard you're wiring it up anyway,
Dialogue: 0,0:15:23.54,0:15:26.76,yin,,0,0,0,,你总可以把取消按钮作为unwind接起来\N{\fs12}so you could always wire it up as an unwind that cancel button instead
Dialogue: 0,0:15:26.76,0:15:30.41,yin,,0,0,0,,而不是让取消按钮进行目标动作 然后自己消失\N{\fs12}of having the cancel button do target action and dismiss itself.
Dialogue: 0,0:15:30.41,0:15:34.34,yin,,0,0,0,,你总是可以断开任何可能设置起的目标动作\N{\fs12}You can always just disconnect any target action that might be set up.
Dialogue: 0,0:15:36.02,0:15:40.46,yin,,0,0,0,,模态视图控制器如何出现在屏幕上呢\N{\fs12}Okay how does the modal view controller appear on screen?
Dialogue: 0,0:15:40.46,0:15:43.54,yin,,0,0,0,,这是由这个模态过渡样式属性设置的\N{\fs12}That's set by this modal transition style property
Dialogue: 0,0:15:43.54,0:15:47.34,yin,,0,0,0,,它位于被present的视图控制器中 这里有各种选项\N{\fs12}in the presented view controller and it has various choices here
Dialogue: 0,0:15:47.34,0:15:49.73,yin,,0,0,0,,例如CoverVertical是从下面滑上来\N{\fs12}like cover vertically is slide up from the bottom
Dialogue: 0,0:15:49.74,0:15:51.23,yin,,0,0,0,,demo中用的就是这个\N{\fs12}like I showed in the demo there.
Dialogue: 0,0:15:51.23,0:15:52.74,yin,,0,0,0,,还是FlipHorizontal\N{\fs12}There's also flip horizontal
Dialogue: 0,0:15:52.74,0:15:55.07,yin,,0,0,0,,也就是水平翻转\N{\fs12}which will flip the new one in horizontally.
Dialogue: 0,0:15:55.07,0:15:58.95,yin,,0,0,0,,还有CrossDissolve 也就是交叉溶解淡入\N{\fs12}There's also cross dissolve, right, which kind of fades the new one in.
Dialogue: 0,0:15:58.95,0:16:03.61,yin,,0,0,0,,PartialCurl则是卷起原来那个 展示下方的新视图\N{\fs12}And partial curl which will curl up the current one and show the new one underneath.
Dialogue: 0,0:16:03.61,0:16:05.35,yin,,0,0,0,,这个有些奇特\N{\fs12}That one's kind of a weird one,
Dialogue: 0,0:16:05.35,0:16:08.37,yin,,0,0,0,,想用这种卷起的人可以去看说明文档\N{\fs12}so you'll want to check the documentation if you want to use that curl.
Dialogue: 0,0:16:08.37,0:16:10.17,yin,,0,0,0,,这里会施加一些限制\N{\fs12}It puts some limitations on you.
Dialogue: 0,0:16:10.17,0:16:12.51,yin,,0,0,0,,卷起后 你就不能再用模态了\N{\fs12}Once you curl it, you can't go modal again for example.
Dialogue: 0,0:16:12.51,0:16:14.48,yin,,0,0,0,,你不能present出另一个\N{\fs12}You can't present another one.
Dialogue: 0,0:16:14.48,0:16:19.11,yin,,0,0,0,,而且卷起的那个 没有获得viewDidDisappear\N{\fs12}Also the one that curls up, doesn't get view did disappear
Dialogue: 0,0:16:19.11,0:16:20.14,yin,,0,0,0,,因为它没有消失\N{\fs12}because it doesn't disappear.
Dialogue: 0,0:16:20.14,0:16:21.48,yin,,0,0,0,,它只是卷起了\N{\fs12}It kind of just curls up.
Dialogue: 0,0:16:21.48,0:16:24.13,yin,,0,0,0,,卷起后 屏幕上看不到它\N{\fs12}You can't really see it behind the curl but it's still
Dialogue: 0,0:16:24.13,0:16:27.01,yin,,0,0,0,,但它还在屏幕上 这对编程而言很奇怪\N{\fs12}on screen so that's a little weird programming wise.
Dialogue: 0,0:16:27.01,0:16:28.63,yin,,0,0,0,,一般而言 模态的东西会出来\N{\fs12}Okay normally a modal thing comes up
Dialogue: 0,0:16:28.63,0:16:30.76,yin,,0,0,0,,后面那个会被完全覆盖\N{\fs12}and the one behind it gets completely covered
Dialogue: 0,0:16:30.76,0:16:33.20,yin,,0,0,0,,这就会得到viewDidDisappear 因为视图确实消失了\N{\fs12}so it gets view did disappear because it's view did disappear.
Dialogue: 0,0:16:33.20,0:16:37.24,yin,,0,0,0,,完全被模态那个所覆盖 但卷起不是这样\N{\fs12}It was completely obscured by the modal one, but with the curl, not so much.
Dialogue: 0,0:16:37.24,0:16:38.70,yin,,0,0,0,,卷起要小心使用\N{\fs12}So be careful with curl.
Dialogue: 0,0:16:38.70,0:16:41.37,yin,,0,0,0,,iPad上的所有这些呢\N{\fs12}Now what about all this business on the iPad?
Dialogue: 0,0:16:41.37,0:16:44.96,yin,,0,0,0,,iPad上 我说了 我们将主要使用弹窗\N{\fs12}Okay, so on iPad again mostly we're going to try and do popovers
Dialogue: 0,0:16:44.96,0:16:47.80,yin,,0,0,0,,用于这类东西 而不是模态视图控制器\N{\fs12}for this kind of stuff instead of modal view controllers.
Dialogue: 0,0:16:47.80,0:16:49.10,yin,,0,0,0,,不过你也可以用模态视图控制器\N{\fs12}But you can do modal view controllers
Dialogue: 0,0:16:49.10,0:16:52.74,yin,,0,0,0,,你甚至可以让模态视图控制器覆盖整个屏幕\N{\fs12}and you can even have a modal view controller that controls, covers the whole screen.
Dialogue: 0,0:16:52.74,0:16:56.50,yin,,0,0,0,,你还可以决定它如何工作 如何覆盖\N{\fs12}And you determine how it works, how it covers,
Dialogue: 0,0:16:56.50,0:16:58.50,yin,,0,0,0,,使用这个模态过渡样式属性\N{\fs12}using this modal presentation style property.
Dialogue: 0,0:16:58.50,0:17:01.78,yin,,0,0,0,,这是一个不同的属性 它有一个选项便是全屏\N{\fs12}It's a different property, and one of the options is full screen--
Dialogue: 0,0:17:01.78,0:17:04.29,yin,,0,0,0,,iPad上不推荐这样做\N{\fs12}not recommended on the iPad.
Dialogue: 0,0:17:04.29,0:17:09.19,yin,,0,0,0,,PageSheet和FormSheet只是iPad上不同的\N{\fs12}There's page sheet and form sheet which are just different size versions
Dialogue: 0,0:17:09.19,0:17:10.95,yin,,0,0,0,,大小规格\N{\fs12}of the thing on the iPad.
Dialogue: 0,0:17:10.95,0:17:13.39,yin,,0,0,0,,iPad屏幕上的其它地方会变灰暗\N{\fs12}The rest of the iPad screen will be dark gray, you know kind
Dialogue: 0,0:17:13.39,0:17:15.42,yin,,0,0,0,,就像弹窗的背景一样\N{\fs12}of grayed out like a popover's background is,
Dialogue: 0,0:17:15.42,0:17:19.59,yin,,0,0,0,,一个会显示竖屏宽度 另一个会较小\N{\fs12}and then it'll show up, one's portrait sized, one's a little smaller.
Dialogue: 0,0:17:19.59,0:17:22.05,yin,,0,0,0,,CurrentContext这个很有趣\N{\fs12}And then the current context is an interesting one.
Dialogue: 0,0:17:22.05,0:17:25.26,yin,,0,0,0,,如果你有一个视图控制器和一个弹窗\N{\fs12}If you have a popover, if you have a view controller and popover
Dialogue: 0,0:17:25.26,0:17:27.78,yin,,0,0,0,,而那个视图控制器做了模态这些\N{\fs12}and that view controller does a modal,
Dialogue: 0,0:17:27.78,0:17:30.02,yin,,0,0,0,,那么如果是CurrentContext 这是默认值\N{\fs12}then if its current context, which is the default,
Dialogue: 0,0:17:30.02,0:17:31.82,yin,,0,0,0,,它就会出现在弹窗中\N{\fs12}it'll appear inside the popover.
Dialogue: 0,0:17:31.82,0:17:34.04,yin,,0,0,0,,这将是弹窗中的模态\N{\fs12}So it'll be modal inside the popover.
Dialogue: 0,0:17:34.04,0:17:34.62,yin,,0,0,0,,懂了吗\N{\fs12}You see what I mean?
Dialogue: 0,0:17:34.62,0:17:40.07,yin,,0,0,0,,它会同present它的视图控制器保持相同的context\N{\fs12}So it's going to keep the same context as the view controller that presented it.
Dialogue: 0,0:17:40.07,0:17:42.11,yin,,0,0,0,,无论如何 这些的细节你们都可以自己去查\N{\fs12}So anyway you can look all this up for details.
Dialogue: 0,0:17:42.11,0:17:45.79,yin,,0,0,0,,这两个属性在Xcode中都可以设置\N{\fs12}It's all settable in Xcode as well, these two properties.
Dialogue: 0,0:17:45.79,0:17:47.30,yin,,0,0,0,,以上是模态视图控制器\N{\fs12}All right so that's it for modal view controllers.
Dialogue: 0,0:17:47.30,0:17:51.58,yin,,0,0,0,,我会给出demo 你们会看到现场演示\N{\fs12}I'm going to demo it so you'll see it all in action.
Dialogue: 0,0:17:51.58,0:17:53.70,yin,,0,0,0,,再看另一个主题 UITextField(文本框)\N{\fs12}All right, different topic, UI text field.
Dialogue: 0,0:17:53.70,0:17:57.66,yin,,0,0,0,,我们看到过UITextView和UILabel\N{\fs12}So we've seen UI text view and UI label.
Dialogue: 0,0:17:57.66,0:17:59.76,yin,,0,0,0,,这是文本的两极\N{\fs12}Okay these are kind of two ends of the spectrum of text.
Dialogue: 0,0:17:59.76,0:18:02.14,yin,,0,0,0,,UILabel 不可编辑\N{\fs12}UI label, non editable.
Dialogue: 0,0:18:02.14,0:18:04.65,yin,,0,0,0,,其中可以有带属性的文本\N{\fs12}You know you can have attributed text in there
Dialogue: 0,0:18:04.65,0:18:07.91,yin,,0,0,0,,不过文本是静态的 你不能选它\N{\fs12}but it's static text, can't select it or anything like that.
Dialogue: 0,0:18:07.91,0:18:09.66,yin,,0,0,0,,通常都只一行文字\N{\fs12}Usually one line of text.
Dialogue: 0,0:18:09.68,0:18:12.76,yin,,0,0,0,,然后UITextView几乎就是一个文本编辑器\N{\fs12}Then you've got UI text view which is almost like a text editor,
Dialogue: 0,0:18:12.76,0:18:16.96,yin,,0,0,0,,完全可编辑 所有字体和颜色 想要怎样都行\N{\fs12}okay fully editable, all fonts and colors, everything we want.
Dialogue: 0,0:18:16.96,0:18:20.14,yin,,0,0,0,,UITextField可以说是介于两者之间\N{\fs12}So UI text field is kind of in between those two.
Dialogue: 0,0:18:20.14,0:18:23.63,yin,,0,0,0,,它是一种UIControl 同UIButton这些一样\N{\fs12}It's a UI control, like a UI button or something like that
Dialogue: 0,0:18:23.63,0:18:26.89,yin,,0,0,0,,你可以从这里设置目标动作\N{\fs12}that you can set up target action from.
Dialogue: 0,0:18:26.89,0:18:28.43,yin,,0,0,0,,这些目标动作\N{\fs12}And that target action can happen
Dialogue: 0,0:18:28.43,0:18:31.28,yin,,0,0,0,,可以在你完成文本编辑\N{\fs12}when you're done editing the text or other
Dialogue: 0,0:18:31.28,0:18:33.36,yin,,0,0,0,,或其它文本操作后发生\N{\fs12}things that are happening in the text and you can just,
Dialogue: 0,0:18:33.36,0:18:37.36,yin,,0,0,0,,你control拖动来做这个 你会看到各种选项\N{\fs12}when you control drag to do it you'll see the options you have in the little
Dialogue: 0,0:18:37.36,0:18:40.94,yin,,0,0,0,,位于出现的目标动作窗口\N{\fs12}target action window that comes up.
Dialogue: 0,0:18:40.94,0:18:43.65,yin,,0,0,0,,不过UITextField通常也只有一行文字\N{\fs12}But it's also usually just one line of text.
Dialogue: 0,0:18:43.65,0:18:45.92,yin,,0,0,0,,不像UITextView可以有很多文本\N{\fs12}It's not like UI text view that has [inaudible].
Dialogue: 0,0:18:45.92,0:18:48.71,yin,,0,0,0,,而且 用户通常只是提供文本\N{\fs12}Also, the user is usually just providing the text,
Dialogue: 0,0:18:48.71,0:18:52.25,yin,,0,0,0,,不涉及到颜色 字体这些文本属性\N{\fs12}they're not doing any colors or any of that attributed text business.
Dialogue: 0,0:18:52.25,0:18:56.41,yin,,0,0,0,,一般而言 UITextField只是纯文本\N{\fs12}Generally UI text field is just the text and nothing but the text.
Dialogue: 0,0:18:56.41,0:18:59.03,yin,,0,0,0,,不过 它有很多特性\N{\fs12}Having said that, it's got a lot of features
Dialogue: 0,0:18:59.03,0:19:02.18,yin,,0,0,0,,这让它非常酷 可以作为密码输入\N{\fs12}to make it really cool for doing things like entering passwords
Dialogue: 0,0:19:02.18,0:19:04.93,yin,,0,0,0,,或是搜索框 等等\N{\fs12}or having a search field, all those kind of things.
Dialogue: 0,0:19:04.93,0:19:06.95,yin,,0,0,0,,这是一个很强大的类\N{\fs12}So it's a pretty powerful little class.
Dialogue: 0,0:19:06.95,0:19:11.76,yin,,0,0,0,,你可以把它看成是一个可编辑的UILabel\N{\fs12}But it's kind of like an editable UI label if you want to think of it that way.
Dialogue: 0,0:19:11.76,0:19:13.38,yin,,0,0,0,,UITextField有一点很有趣\N{\fs12}One thing that's interesting about a UI text field
Dialogue: 0,0:19:13.38,0:19:16.30,yin,,0,0,0,,也就是点它时 键盘会出现\N{\fs12}of course is that when you click in it, the keyboard appears.
Dialogue: 0,0:19:16.30,0:19:18.59,yin,,0,0,0,,讲UITextView时 我并没讲键盘如何出现\N{\fs12}Now we didn't really talk about how this keyboard appears
Dialogue: 0,0:19:18.59,0:19:20.35,yin,,0,0,0,,讲UITextView时 我并没讲键盘如何出现\N{\fs12}when we talked about UI text view,
Dialogue: 0,0:19:20.35,0:19:22.42,yin,,0,0,0,,键盘是如何出现的呢\N{\fs12}but how does that work that the keyboard appears?
Dialogue: 0,0:19:22.42,0:19:27.56,yin,,0,0,0,,答案是 有一个方法叫becomeFirstResponder\N{\fs12}And the answer is, there is a method called become first responder
Dialogue: 0,0:19:27.56,0:19:30.24,yin,,0,0,0,,如果你把它发送给一个文本框\N{\fs12}that is sent, that if you send it to a text field
Dialogue: 0,0:19:30.24,0:19:33.27,yin,,0,0,0,,或是它被发送到一个文本框 键盘就会出现\N{\fs12}or it gets sent to a text field, will cause the keyboard to appear.
Dialogue: 0,0:19:33.27,0:19:35.69,yin,,0,0,0,,你把这个方法发送给文本框\N{\fs12}So this is a method you send to the text field.
Dialogue: 0,0:19:35.69,0:19:37.41,yin,,0,0,0,,它也可以被发送给文本视图\N{\fs12}You can also send it to a text view.
Dialogue: 0,0:19:37.41,0:19:39.76,yin,,0,0,0,,这样做时 键盘就会出现\N{\fs12}And when you do that, the keyboard will appear.
Dialogue: 0,0:19:39.76,0:19:41.79,yin,,0,0,0,,类似地 如果你想让键盘消失\N{\fs12}And similarly, if you want the keyboard to go away,
Dialogue: 0,0:19:41.79,0:19:44.68,yin,,0,0,0,,你可以发送消息resignFirstResponder给文本框\N{\fs12}you send a message to the text field, resign first responder.
Dialogue: 0,0:19:44.68,0:19:46.22,yin,,0,0,0,,第一响应器FirstResponder\N{\fs12}But first responder means
Dialogue: 0,0:19:46.22,0:19:50.05,yin,,0,0,0,,说的是在键盘上按键后会显示在哪里\N{\fs12}where do keyboard presses on the keyboard go?
Dialogue: 0,0:19:50.05,0:19:52.03,yin,,0,0,0,,如果你说 成为第一响应器\N{\fs12}So if you say become first responder,
Dialogue: 0,0:19:52.03,0:19:53.58,yin,,0,0,0,,文本框会变成第一响应器\N{\fs12}the text field becomes the first responder
Dialogue: 0,0:19:53.58,0:19:56.41,yin,,0,0,0,,键盘会出现 按键会显示到那个文本框中\N{\fs12}and the keyboard will appear and key presses will go to that text field
Dialogue: 0,0:19:56.41,0:19:59.22,yin,,0,0,0,,resign也一样 键盘会消失\N{\fs12}and similar to resign, it'll go away.
Dialogue: 0,0:20:01.10,0:20:04.31,yin,,0,0,0,,UITextField有委托 不像UILabel\N{\fs12}There's a delegate for UI text field unlike UI label
Dialogue: 0,0:20:04.31,0:20:06.26,yin,,0,0,0,,这里你可以看到很多东西\N{\fs12}and there's a lot of stuff you can see there.
Dialogue: 0,0:20:06.26,0:20:08.29,yin,,0,0,0,,demo中我会演示一个简单的例子\N{\fs12}I'll show you a brief example in the demo.
Dialogue: 0,0:20:08.29,0:20:13.80,yin,,0,0,0,,例如 当键盘上点击回车键时\N{\fs12}For example, when the keyboard presses the return key, when the return key is pressed
Dialogue: 0,0:20:13.80,0:20:16.25,yin,,0,0,0,,文本框被编辑 文本框的委托\N{\fs12}and that text field is being edited the text field's delegate
Dialogue: 0,0:20:16.25,0:20:18.65,yin,,0,0,0,,会发送这条消息 textFieldShouldReturn\N{\fs12}will send this message, text field should return.
Dialogue: 0,0:20:18.65,0:20:22.64,yin,,0,0,0,,返回应不应该发送它的目标动作\N{\fs12}Return yes or no whether it should send its target action basically.
Dialogue: 0,0:20:22.64,0:20:26.64,yin,,0,0,0,,这里 你可以做resignFirstResponder这些事\N{\fs12}And in there you can do things like resign first responder.
Dialogue: 0,0:20:26.64,0:20:31.09,yin,,0,0,0,,当键盘弹出后 有人点了回车 你可以让键盘消失\N{\fs12}So when the keyboard comes up, someone hits return, you can make the keyboard go away
Dialogue: 0,0:20:31.09,0:20:32.93,yin,,0,0,0,,这通常就是用户所期望的\N{\fs12}which is usually what users expect.
Dialogue: 0,0:20:32.93,0:20:34.81,yin,,0,0,0,,demo中我也会演示这个\N{\fs12}So we'll see that in the demo as well.
Dialogue: 0,0:20:34.81,0:20:36.00,yin,,0,0,0,,还有其它委托方法\N{\fs12}But there are other delegate methods,
Dialogue: 0,0:20:36.00,0:20:37.66,yin,,0,0,0,,我只是给你们举出了一个例子\N{\fs12}I just want to give you an example of one of them there.
Dialogue: 0,0:20:37.66,0:20:39.18,yin,,0,0,0,,这些方法大概有十个\N{\fs12}There's probably about 10 of them.
Dialogue: 0,0:20:39.18,0:20:41.73,yin,,0,0,0,,你们可以自己去说明文档查查\N{\fs12}Check out the documentation on that.
Dialogue: 0,0:20:41.73,0:20:44.43,yin,,0,0,0,,这里是另一个 textFieldDidEndEditing\N{\fs12}Over here's another one, text field did end editing.
Dialogue: 0,0:20:44.43,0:20:48.89,yin,,0,0,0,,resignFirstResponder完成后 这就会被发送给委托\N{\fs12}That's sent to the delegate when it resigns first responder.
Dialogue: 0,0:20:48.89,0:20:51.86,yin,,0,0,0,,当它不再是第一响应器时 这条信息就会被发送\N{\fs12}So when it stops being first responder, this message gets sent.
Dialogue: 0,0:20:51.86,0:20:56.51,yin,,0,0,0,,它还有一个广播站 广播每一次按键\N{\fs12}It also has a radio station that it broadcasts on every single keystroke.
Dialogue: 0,0:20:56.51,0:21:00.69,yin,,0,0,0,,如果你想知道每次敲入文本框的是什么字符\N{\fs12}Okay so if you want to find out every single character that's typed
Dialogue: 0,0:21:00.69,0:21:04.07,yin,,0,0,0,,你可以注册到这个广播站\N{\fs12}in your text field you can sign up to listen to this radio station
Dialogue: 0,0:21:04.07,0:21:06.87,yin,,0,0,0,,这样你就会知道发生了什么\N{\fs12}and you'll find out what's going on.
Dialogue: 0,0:21:06.87,0:21:10.26,yin,,0,0,0,,我说了 UITextField是受控的 你也可以设置目标动作\N{\fs12}And like I said, UI text field is controlled so you can set up target action as well.
Dialogue: 0,0:21:10.26,0:21:13.01,yin,,0,0,0,,想知道文本框中发生了什么 你有很多方式\N{\fs12}So there's a lot of ways to find out what's going on a text field
Dialogue: 0,0:21:13.01,0:21:15.59,yin,,0,0,0,,取决于你想要怎样的粒度\N{\fs12}depending on the granularity that you want.
Dialogue: 0,0:21:15.59,0:21:18.44,yin,,0,0,0,,键盘 其实并没有\N{\fs12}The keyboard, the exper- we don't,
Dialogue: 0,0:21:18.44,0:21:21.64,yin,,0,0,0,,一个属性说 给我一个键盘\N{\fs12}there's really no property like give me the keyboard
Dialogue: 0,0:21:21.64,0:21:23.55,yin,,0,0,0,,然后我可以设置它的属性\N{\fs12}so that I can set properties on it.
Dialogue: 0,0:21:23.55,0:21:26.22,yin,,0,0,0,,如果你想控制键盘的样子\N{\fs12}Okay when you want to control the appearance of the keyboard,
Dialogue: 0,0:21:26.22,0:21:31.45,yin,,0,0,0,,你就需要发送消息给类 UITextField\N{\fs12}you have to send messages to the class, UI text field
Dialogue: 0,0:21:31.45,0:21:34.70,yin,,0,0,0,,或UITextView 来弹出键盘\N{\fs12}or UI text view that brings the keyboard up.
Dialogue: 0,0:21:34.70,0:21:39.74,yin,,0,0,0,,这些对象 这些类 都会实现这个协议\N{\fs12}And those objects, those classes will all implement this protocol
Dialogue: 0,0:21:39.74,0:21:42.28,yin,,0,0,0,,名为UITextInputTraits\N{\fs12}called UI text input traits.
Dialogue: 0,0:21:42.28,0:21:46.39,yin,,0,0,0,,这是一组属性 你可以在文本框或文本视图中设置\N{\fs12}So these are the set of properties that you can set on a text field or on a text view
Dialogue: 0,0:21:46.39,0:21:49.45,yin,,0,0,0,,这不会控制文本框或文本视图的任何东西\N{\fs12}that aren't really controlling anything about the text view or the text field,
Dialogue: 0,0:21:49.45,0:21:54.04,yin,,0,0,0,,它们控制的是弹出键盘的属性\N{\fs12}they're controlling the properties of the keyboard that they would bring up.
Dialogue: 0,0:21:54.04,0:21:57.33,yin,,0,0,0,,这里有些属性 例如自动大写\N{\fs12}So what are some of the properties you can have like auto capitalization.
Dialogue: 0,0:21:57.33,0:21:59.14,yin,,0,0,0,,有时在文本框中\N{\fs12}Sometimes it's nice you have a text field,
Dialogue: 0,0:21:59.14,0:22:02.27,yin,,0,0,0,,你希望第一个键入的字母是大写\N{\fs12}the first character you type, you want it to be capitalized.
Dialogue: 0,0:22:02.27,0:22:05.75,yin,,0,0,0,,或者每个单词的首字母大写\N{\fs12}Or every word you type, separate word you want it
Dialogue: 0,0:22:05.75,0:22:09.80,yin,,0,0,0,,你可以设置你想要的大写方式\N{\fs12}to be capitalized so you can set the kind of capitalization type that you have.
Dialogue: 0,0:22:09.80,0:22:12.83,yin,,0,0,0,,或许文本框中是密码\N{\fs12}Maybe it's a password. This text field's a password
Dialogue: 0,0:22:12.83,0:22:15.99,yin,,0,0,0,,你希望键入时显示点\N{\fs12}and so you want it to be the dots when you type them.
Dialogue: 0,0:22:15.99,0:22:20.27,yin,,0,0,0,,出于安全考虑 这里让输入字符都是点\N{\fs12}Okay so secure text entry will make [inaudible] the dots.
Dialogue: 0,0:22:20.27,0:22:24.76,yin,,0,0,0,,回车键 键盘弹出时 它会有一个回车\N{\fs12}The return key, when the keyboard comes up it has a little return, okay,
Dialogue: 0,0:22:24.76,0:22:26.41,yin,,0,0,0,,这个上面可以有词汇\N{\fs12}and that can have a word on it
Dialogue: 0,0:22:26.41,0:22:29.51,yin,,0,0,0,,例如搜索 前进或是返回\N{\fs12}like search or go, okay, or return.
Dialogue: 0,0:22:29.51,0:22:31.94,yin,,0,0,0,,你可以通过returnKeyType来控制\N{\fs12}And you can control that with a return key type.
Dialogue: 0,0:22:31.94,0:22:35.85,yin,,0,0,0,,所有这些都是在UITextField中设置的属性\N{\fs12}So these are all things that you set, properties you set in your UI text field
Dialogue: 0,0:22:35.85,0:22:38.63,yin,,0,0,0,,不过实际控制的是键盘\N{\fs12}but you're really controlling the keyboard.
Dialogue: 0,0:22:38.63,0:22:39.94,yin,,0,0,0,,关于键盘还有一点\N{\fs12}One thing about the keyboard,
Dialogue: 0,0:22:39.94,0:22:42.74,yin,,0,0,0,,它会出现在其它视图之上\N{\fs12}it comes up on top of other views.
Dialogue: 0,0:22:42.74,0:22:43.78,yin,,0,0,0,,并覆盖它们\N{\fs12}It covers them.
Dialogue: 0,0:22:43.78,0:22:45.96,yin,,0,0,0,,它从底部出现 覆盖它们\N{\fs12}It comes up from the bottom, covers them.
Dialogue: 0,0:22:45.96,0:22:49.15,yin,,0,0,0,,如果文本框在最下面 这就会成问题\N{\fs12}All right, that can be a problem if your text field's at the bottom
Dialogue: 0,0:22:49.15,0:22:51.99,yin,,0,0,0,,因为要输入的地方被盖住了\N{\fs12}because you just covered the thing you're typing in.
Dialogue: 0,0:22:51.99,0:22:56.29,yin,,0,0,0,,一 在设计中确保UI里这个不会发生\N{\fs12}So A, try to design your UIs so that doesn't happen.
Dialogue: 0,0:22:56.29,0:23:00.45,yin,,0,0,0,,二 如果你的视图可以滚动\N{\fs12}But B, you can for example, if your view is scrollable,
Dialogue: 0,0:23:00.45,0:23:04.18,yin,,0,0,0,,你可以将文本框或整个视图往上滚动\N{\fs12}maybe scroll that text field up or even just move the whole view up
Dialogue: 0,0:23:04.20,0:23:07.21,yin,,0,0,0,,这样在弹出键盘时 你就还是能看到你\N{\fs12}so that while the keyboard's up, you can still see your text field
Dialogue: 0,0:23:07.21,0:23:09.18,yin,,0,0,0,,要键入的文本框\N{\fs12}that you're typing into.
Dialogue: 0,0:23:09.18,0:23:12.06,yin,,0,0,0,,要知道键盘弹出\N{\fs12}And so the way you find out the keyboard's come up
Dialogue: 0,0:23:12.06,0:23:13.70,yin,,0,0,0,,并盖住了多少\N{\fs12}and how much it's covering
Dialogue: 0,0:23:13.70,0:23:15.80,yin,,0,0,0,,你可以收听这个广播站\N{\fs12}is by tuning into this radio station
Dialogue: 0,0:23:15.80,0:23:20.00,yin,,0,0,0,,UIKeyboard Will或Did Show或Hide Notifications\N{\fs12}UI keyboard will or did show or hide notification.
Dialogue: 0,0:23:20.00,0:23:23.80,yin,,0,0,0,,该通知会由你所在的窗口发送\N{\fs12}It's a notification sent by the window you're in.
Dialogue: 0,0:23:23.80,0:23:27.43,yin,,0,0,0,,视图控制器的self.view.window\N{\fs12}Okay, self dot view dot window for view controller.
Dialogue: 0,0:23:27.43,0:23:30.43,yin,,0,0,0,,由这个广播站得到的用户信息\N{\fs12}And the user info that you get with this radio station
Dialogue: 0,0:23:30.44,0:23:34.11,yin,,0,0,0,,会告诉你 键盘的矩形出现在哪\N{\fs12}will tell you the rectangles of where the keyboard appeared
Dialogue: 0,0:23:34.11,0:23:36.66,yin,,0,0,0,,你有义务将它挪开\N{\fs12}and it's your responsibility to move it out of the way.
Dialogue: 0,0:23:36.66,0:23:41.77,yin,,0,0,0,,UIKit中唯一自动进行移动的类是\N{\fs12}The only class in the kit, in the UI kit that will move the thing automatically
Dialogue: 0,0:23:41.77,0:23:44.29,yin,,0,0,0,,UITableViewController\N{\fs12}for you is UI table view controller.
Dialogue: 0,0:23:44.29,0:23:46.81,yin,,0,0,0,,如果你在表格视图中有一行\N{\fs12}So if you have a row in a table view that's
Dialogue: 0,0:23:46.81,0:23:48.63,yin,,0,0,0,,处在UITableViewController中\N{\fs12}in a UI table view controller
Dialogue: 0,0:23:48.63,0:23:51.91,yin,,0,0,0,,而且它是可编辑文本 你将键盘弹出\N{\fs12}and it's editable text and you bring the keyboard up,
Dialogue: 0,0:23:51.91,0:23:54.28,yin,,0,0,0,,它会自动滚动表格视图 来移动它\N{\fs12}it'll automatically scroll the table view so move it.
Dialogue: 0,0:23:54.28,0:23:55.86,yin,,0,0,0,,这是唯一的自动做法\N{\fs12}Okay so that's the only one that automatically does it.
Dialogue: 0,0:23:55.86,0:23:58.48,yin,,0,0,0,,其它情况下 都需要你自己来\N{\fs12}Otherwise it's your responsibility to make,
Dialogue: 0,0:23:58.48,0:24:01.63,yin,,0,0,0,,移动被键盘挡住的东西\N{\fs12}move anything that gets obscured by the keyboard.
Dialogue: 0,0:24:03.27,0:24:05.70,yin,,0,0,0,,其它文本框属性 你们可以自己去查\N{\fs12}Other text field properties, you can go look those up.
Dialogue: 0,0:24:05.70,0:24:09.73,yin,,0,0,0,,它有一个很好的左右附属视图 就像annotation对话框\N{\fs12}It has a nice left and right accessory view kind of like the annotation call out.
Dialogue: 0,0:24:09.73,0:24:12.55,yin,,0,0,0,,你甚至还可以往键盘上加一个小视图\N{\fs12}You can even add a little view to the keyboard
Dialogue: 0,0:24:12.55,0:24:14.97,yin,,0,0,0,,使用这个inputAccessoryView\N{\fs12}with this input accessory view.
Dialogue: 0,0:24:14.97,0:24:17.80,yin,,0,0,0,,文本框中有很多内容值得一看\N{\fs12}There's a lot of stuff to look at in text field, I can't,
Dialogue: 0,0:24:17.80,0:24:19.53,yin,,0,0,0,,我今天没时间一一讲到\N{\fs12}I don't have time to cover it all today
Dialogue: 0,0:24:19.53,0:24:23.36,yin,,0,0,0,,你们可以自己去看UITextField的说明文档\N{\fs12}but you can look it all up in UI text field's documentation.
Dialogue: 0,0:24:23.36,0:24:25.88,yin,,0,0,0,,今天在demo演示前我想讲的最后一点是\N{\fs12}All right the last thing I'm going to talk about today before the demo is
Dialogue: 0,0:24:25.88,0:24:27.58,yin,,0,0,0,,动作表单和警告\N{\fs12}action sheet and alert.
Dialogue: 0,0:24:27.58,0:24:30.99,yin,,0,0,0,,动作表单和警告是弹出到屏幕上的东西\N{\fs12}So action sheet and alert are things that pop up on the screen
Dialogue: 0,0:24:30.99,0:24:32.75,yin,,0,0,0,,来警告用户一些事情\N{\fs12}to alert the user of something obviously
Dialogue: 0,0:24:32.75,0:24:35.44,yin,,0,0,0,,或是让它们作出一些选择\N{\fs12}or to give them kind of a branching decision.
Dialogue: 0,0:24:35.44,0:24:39.09,yin,,0,0,0,,动作表单用于用户选择 警告用于警告用户\N{\fs12}Okay action sheet for branching decisions alerts to alert them of something.
Dialogue: 0,0:24:39.09,0:24:43.33,yin,,0,0,0,,我讲它们是因为 它们有很类似的API\N{\fs12}They have very, the reason I talk about them together, they have very similar APIs,
Dialogue: 0,0:24:43.33,0:24:45.41,yin,,0,0,0,,换言之 也就是编程接口\N{\fs12}in other words programming interfaces.
Dialogue: 0,0:24:45.41,0:24:47.19,yin,,0,0,0,,只是用于不同的环境下\N{\fs12}They're used in different circumstances though.
Dialogue: 0,0:24:47.19,0:24:50.67,yin,,0,0,0,,警告更多的是说 有什么事发生了\N{\fs12}An alert is more saying something happened,
Dialogue: 0,0:24:50.67,0:24:53.37,yin,,0,0,0,,请注意 或是 我需要一点信息\N{\fs12}pay attention, or I need a little piece of information,
Dialogue: 0,0:24:53.37,0:24:56.24,yin,,0,0,0,,请现在就给我 否则我无法继续\N{\fs12}please give it to me right now or I can't proceed.
Dialogue: 0,0:24:56.24,0:25:00.60,yin,,0,0,0,,它有点像模态视图控制器 只是它只能\N{\fs12}It's a little bit like a modal view controller except for that it can only,
Dialogue: 0,0:25:00.60,0:25:03.30,yin,,0,0,0,,问一个简单问题 得到一个简单答案\N{\fs12}you know, ask a simple question and get a simple answer.
Dialogue: 0,0:25:03.30,0:25:05.08,yin,,0,0,0,,这就是警告的作用\N{\fs12}So that's what an alert is for.
Dialogue: 0,0:25:05.08,0:25:06.68,yin,,0,0,0,,不要过度使用警告\N{\fs12}Don't overuse alerts either.
Dialogue: 0,0:25:06.68,0:25:10.17,yin,,0,0,0,,同模态视图控制器一样 警告也不要过度使用\N{\fs12}Just like I say don't overuse modal view controllers, don't overuse alerts.
Dialogue: 0,0:25:10.17,0:25:11.95,yin,,0,0,0,,不要任何需要信息的时候\N{\fs12}Don't every time you need a piece of information
Dialogue: 0,0:25:11.95,0:25:14.68,yin,,0,0,0,,都弹出警告窗口找用户要\N{\fs12}from the user just put up an alert and ask them for it.
Dialogue: 0,0:25:14.68,0:25:18.83,yin,,0,0,0,,让用户自己去点然后输入会更好\N{\fs12}You know it's nicer for them to be able to just click on something and start typing.
Dialogue: 0,0:25:18.83,0:25:21.15,yin,,0,0,0,,你们可以看看联系人app\N{\fs12}Take a look for example at the contacts app.
Dialogue: 0,0:25:21.15,0:25:25.50,yin,,0,0,0,,虽然联系人app会在模态视图控制器中弹出添加联系人\N{\fs12}Even that contact app where it brought up the add contact in a modal view controller,
Dialogue: 0,0:25:25.50,0:25:31.02,yin,,0,0,0,,但在添加文本 URL或电子邮件时\N{\fs12}when it comes to adding things like text or the, you know, URLs or emails,
Dialogue: 0,0:25:31.02,0:25:33.09,yin,,0,0,0,,都只需要点击相应位置 然后键入\N{\fs12}you just click right there and you just type them in.
Dialogue: 0,0:25:33.09,0:25:36.19,yin,,0,0,0,,并不需要再次使用模态来获得这些信息\N{\fs12}It doesn't go modal again on you just for that kind of information,
Dialogue: 0,0:25:36.19,0:25:40.55,yin,,0,0,0,,你们自己去看看 怎么使用才好\N{\fs12}so check that out to see how that can be nicely used.
Dialogue: 0,0:25:40.55,0:25:44.73,yin,,0,0,0,,动作表单 可以从iPhone底部滑上来\N{\fs12}Action sheets are, they slide up from the bottom on the iPhone,
Dialogue: 0,0:25:44.73,0:25:47.96,yin,,0,0,0,,在iPad中通常是以弹窗形式出现\N{\fs12}they usually appear on a popover on the iPad.
Dialogue: 0,0:25:47.96,0:25:50.35,yin,,0,0,0,,它们被用于用户选择\N{\fs12}They are for really branching decisions, so
Dialogue: 0,0:25:50.35,0:25:52.77,yin,,0,0,0,,下面 用户想做点什么\N{\fs12}the user wants to do something next
Dialogue: 0,0:25:52.77,0:25:55.29,yin,,0,0,0,,但之前他需要告诉你\N{\fs12}but you, they need to tell you something
Dialogue: 0,0:25:55.29,0:25:58.58,yin,,0,0,0,,让你知道下一步怎么走\N{\fs12}so you can decide which way to go.
Dialogue: 0,0:25:58.58,0:26:00.92,yin,,0,0,0,,这就是动作表单的作用\N{\fs12}So that's what action sheets are for.
Dialogue: 0,0:26:00.92,0:26:02.88,yin,,0,0,0,,重复一次 它们都是模态的\N{\fs12}And again they're modal.
Dialogue: 0,0:26:02.88,0:26:06.80,yin,,0,0,0,,动作表单会让一切停止 直到用户回答了问题\N{\fs12}They stop everything until the person answers the question of what's an action sheet.
Dialogue: 0,0:26:06.80,0:26:10.20,yin,,0,0,0,,确保这确实是你想要的UI\N{\fs12}So make sure that's really the UI you want as opposed
Dialogue: 0,0:26:10.20,0:26:14.68,yin,,0,0,0,,你要的不是UI中的按钮 push出不同视图控制器\N{\fs12}to just having, you know, buttons in your UI that push different view controllers.
Dialogue: 0,0:26:14.68,0:26:17.46,yin,,0,0,0,,那也是进行分支决定的方法\N{\fs12}That's another way to do branching decisions as well.
Dialogue: 0,0:26:17.46,0:26:22.08,yin,,0,0,0,,我们会看到动作表单 这些的demo会在周三\N{\fs12}And we'll see action sheets. I'll be demoing those on Wednesday.
Dialogue: 0,0:26:22.08,0:26:24.41,yin,,0,0,0,,这两者的API是怎样的呢\N{\fs12}All right, what's the API for these two things look like?
Dialogue: 0,0:26:24.41,0:26:25.16,yin,,0,0,0,,很类似\N{\fs12}Very similar.
Dialogue: 0,0:26:25.16,0:26:27.14,yin,,0,0,0,,我首先来讲动作表单\N{\fs12}I'll start with action sheets first.
Dialogue: 0,0:26:27.14,0:26:28.34,yin,,0,0,0,,你只需alloc init\N{\fs12}You just alloc init it.
Dialogue: 0,0:26:28.34,0:26:30.89,yin,,0,0,0,,这是动作表单的指定初始化器\N{\fs12}Here's the designated initializer for action sheet.
Dialogue: 0,0:26:30.89,0:26:32.04,yin,,0,0,0,,它需要一个标题\N{\fs12}You can see that it takes a title--
Dialogue: 0,0:26:32.04,0:26:34.29,yin,,0,0,0,,动作表单顶部有一个标题\N{\fs12}the action sheet has a little title at the top.
Dialogue: 0,0:26:34.29,0:26:35.59,yin,,0,0,0,,它还有一个委托\N{\fs12}It has a delegate.
Dialogue: 0,0:26:35.59,0:26:39.59,yin,,0,0,0,,委托会告诉你 动作表单中选的是什么\N{\fs12}The delegate mostly will tell you what was chosen in the action sheet.
Dialogue: 0,0:26:39.59,0:26:43.07,yin,,0,0,0,,如果是在警告视图中 它会告诉你按的是哪个按钮\N{\fs12}Or in alert view it'll tell you which button was chosen.
Dialogue: 0,0:26:43.09,0:26:45.75,yin,,0,0,0,,还有一些特殊按钮 一个是取消按钮\N{\fs12}There are some special buttons, a cancel button,
Dialogue: 0,0:26:45.75,0:26:49.84,yin,,0,0,0,,这会取消动作表单 不做任何决定\N{\fs12}okay which cancels the action sheet without making a decision.
Dialogue: 0,0:26:49.84,0:26:51.03,yin,,0,0,0,,毁灭性按钮\N{\fs12}Destructive button,
Dialogue: 0,0:26:51.03,0:26:53.79,yin,,0,0,0,,动作表单中可以有一个这样的按钮\N{\fs12}that's, you can have one button in your action sheet like that
Dialogue: 0,0:26:53.79,0:26:56.13,yin,,0,0,0,,它可以被标成红色\N{\fs12}and that will be like in red or otherwise
Dialogue: 0,0:26:56.13,0:26:58.21,yin,,0,0,0,,告诉用户 如果你选这个\N{\fs12}telling the user, if you choose this,
Dialogue: 0,0:26:58.21,0:26:59.65,yin,,0,0,0,,毁灭性的事情会发生\N{\fs12}something destructive's going to happen.
Dialogue: 0,0:26:59.65,0:27:02.62,yin,,0,0,0,,例如删除这样的事情\N{\fs12}This is like delete, or something like that.
Dialogue: 0,0:27:02.62,0:27:04.51,yin,,0,0,0,,这就是毁灭性按钮\N{\fs12}So that's what destructive button is.
Dialogue: 0,0:27:04.51,0:27:06.94,yin,,0,0,0,,然后你可以有任意数量的标题\N{\fs12}And then you can have as many other titles as you want.
Dialogue: 0,0:27:06.94,0:27:09.16,yin,,0,0,0,,这些是你可以选的其它分支\N{\fs12}Those are all the other branches you can take besides the
Dialogue: 0,0:27:09.16,0:27:11.86,yin,,0,0,0,,除了毁灭性按钮 或是取消 什么都不做\N{\fs12}destructive one or cancel, not doing anything.
Dialogue: 0,0:27:11.86,0:27:14.29,yin,,0,0,0,,你还可以通过程序添加按钮\N{\fs12}You can also add buttons programmatically.
Dialogue: 0,0:27:14.29,0:27:16.75,yin,,0,0,0,,如果你想在alloc init中提供它们\N{\fs12}If you don't want to provide them in the alloc init
Dialogue: 0,0:27:16.75,0:27:20.12,yin,,0,0,0,,你可以调用动作表单中的addButtonWithTitle\N{\fs12}you can just call add button with title to add in the action sheet.
Dialogue: 0,0:27:20.12,0:27:23.90,yin,,0,0,0,,然后是显示动作表单 你可以这样做\N{\fs12}And then it's time to display the action sheet and you'd kind
Dialogue: 0,0:27:23.90,0:27:26.87,yin,,0,0,0,,取决于你处在怎样的上下文中\N{\fs12}of do this, depends on where, what context you're in.
Dialogue: 0,0:27:26.87,0:27:29.86,yin,,0,0,0,,在iPhone上 几乎总是用showInView\N{\fs12}On the iPhone, you've almost always going to do show in view.
Dialogue: 0,0:27:29.86,0:27:32.32,yin,,0,0,0,,视图很多时候是self.view\N{\fs12}A lot of times self dot view,
Dialogue: 0,0:27:32.32,0:27:36.09,yin,,0,0,0,,或者是self.view中的某个视图\N{\fs12}or if you have a view that's inside your self dot view, you could show it from that.
Dialogue: 0,0:27:36.09,0:27:37.43,yin,,0,0,0,,在iPhone上这些都行\N{\fs12}But it doesn't really matter on the iPhone
Dialogue: 0,0:27:37.43,0:27:39.75,yin,,0,0,0,,因为它总会从底部滑上来\N{\fs12}because it's always going to slide up from the bottom.
Dialogue: 0,0:27:39.75,0:27:41.42,yin,,0,0,0,,无论你怎么在iPhone上呈现动作表单\N{\fs12}No matter how you present an action sheet on an iPhone,
Dialogue: 0,0:27:41.42,0:27:43.63,yin,,0,0,0,,它总会从底部滑上来\N{\fs12}it's always going to slide up from the bottom.
Dialogue: 0,0:27:43.63,0:27:47.74,yin,,0,0,0,,不过iPad上 它会以弹窗形式出现\N{\fs12}But on the iPad, since it's going to appear in a popover,
Dialogue: 0,0:27:47.74,0:27:51.49,yin,,0,0,0,,使用showFromBarButtonItem这些显然会更好\N{\fs12}it makes a lot of sense to, for example, use show from bar button item
Dialogue: 0,0:27:51.49,0:27:52.70,yin,,0,0,0,,弹窗会出现\N{\fs12}and it'll put the popover
Dialogue: 0,0:27:52.70,0:27:55.67,yin,,0,0,0,,弹窗上的小箭头会指向那个栏按钮项目\N{\fs12}and the little arrow on the popover will point at that bar button item.
Dialogue: 0,0:27:55.67,0:27:57.43,yin,,0,0,0,,你甚至可以用showFromRect\N{\fs12}Or even show from rect.
Dialogue: 0,0:27:57.43,0:27:59.95,yin,,0,0,0,,你在视图中任意指定一个矩形\N{\fs12}So you specify an arbitrary rectangle in your view
Dialogue: 0,0:27:59.95,0:28:02.48,yin,,0,0,0,,弹窗到这里 然后指向它\N{\fs12}and it'll bring a popover up and point to that.
Dialogue: 0,0:28:02.48,0:28:06.06,yin,,0,0,0,,例如 想象你有一些文本\N{\fs12}So for example, let's imagine you are, have some text
Dialogue: 0,0:28:06.06,0:28:09.08,yin,,0,0,0,,用户双击了一个词\N{\fs12}and someone double clicks a word and then they want
Dialogue: 0,0:28:09.08,0:28:14.31,yin,,0,0,0,,他想定义这个词 或是复制这个词\N{\fs12}to define the word or copy the word or something like that.
Dialogue: 0,0:28:14.31,0:28:16.26,yin,,0,0,0,,复制粘贴我可能不会用它\N{\fs12}I probably wouldn't use it for copy and paste but
Dialogue: 0,0:28:16.26,0:28:17.91,yin,,0,0,0,,反正是对这个词做点什么\N{\fs12}do something with that word.
Dialogue: 0,0:28:17.91,0:28:21.56,yin,,0,0,0,,这时你可能会说 showFromRect 并把这个词给矩形\N{\fs12}And then you might say, show from rect and give the rectangle of the word.
Dialogue: 0,0:28:21.56,0:28:22.81,yin,,0,0,0,,懂我的意思吗\N{\fs12}You see what I mean?
Dialogue: 0,0:28:22.81,0:28:25.77,yin,,0,0,0,,iBooks就是这样做的\N{\fs12}So this is like, this is what, you know, iBooks does.
Dialogue: 0,0:28:25.77,0:28:27.14,yin,,0,0,0,,你点一个词 你说定义\N{\fs12}You select a word and you say define,
Dialogue: 0,0:28:27.14,0:28:30.51,yin,,0,0,0,,它会弹窗 这不是动作表单 不过这是弹窗\N{\fs12}it'll make a little popover-- that's not an action sheet but it'll make a little popover.
Dialogue: 0,0:28:30.51,0:28:32.65,yin,,0,0,0,,你可以对动作表单做相同的事\N{\fs12}So you can do the same thing with action sheets.
Dialogue: 0,0:28:32.65,0:28:35.10,yin,,0,0,0,,在iPad上 你需要用showFromRect\N{\fs12}Okay so on the iPad you're going to use show from rect,
Dialogue: 0,0:28:35.10,0:28:36.40,yin,,0,0,0,,showFromBarButtonItem\N{\fs12}show from bar button item.
Dialogue: 0,0:28:36.40,0:28:38.46,yin,,0,0,0,,在iPhone上 选哪个都没关系\N{\fs12}On the iPhone it almost doesn't matter which one you use,
Dialogue: 0,0:28:38.46,0:28:40.82,yin,,0,0,0,,它总会从底部弹出\N{\fs12}it's going to come up from the bottom.
Dialogue: 0,0:28:42.03,0:28:45.52,yin,,0,0,0,,弄清选的是哪个按钮 这是委托方法\N{\fs12}Finding out which button is chosen, this is the delegate method you get,
Dialogue: 0,0:28:45.52,0:28:47.76,yin,,0,0,0,,didDismissWithButtonIndex\N{\fs12}did dismiss with button index.
Dialogue: 0,0:28:47.76,0:28:49.61,yin,,0,0,0,,这都是由按钮索引完成的\N{\fs12}It's all done by button index.
Dialogue: 0,0:28:49.61,0:28:52.40,yin,,0,0,0,,你可以去查哪个是取消按钮 哪个是毁灭性按钮\N{\fs12}You can look up which is the cancel button and which is the destructive button,
Dialogue: 0,0:28:52.40,0:28:53.82,yin,,0,0,0,,哪些是其它按钮\N{\fs12}which are the other buttons.
Dialogue: 0,0:28:53.82,0:28:58.06,yin,,0,0,0,,你还可以取得按钮标题和索引 并对比选择的那个\N{\fs12}You can also get the button title and index and compare it to the one that was chosen.
Dialogue: 0,0:28:58.06,0:29:00.08,yin,,0,0,0,,这里如果要本地化 你就需要小心一些\N{\fs12}Be a little careful there if you're doing localization
Dialogue: 0,0:29:00.08,0:29:03.05,yin,,0,0,0,,因为你的动作表单可能会有本地化的词\N{\fs12}because your action sheet might have localized words in it
Dialogue: 0,0:29:03.05,0:29:04.84,yin,,0,0,0,,这时你要看哪个被选了\N{\fs12}and then you want to see which one is chosen.
Dialogue: 0,0:29:04.84,0:29:08.88,yin,,0,0,0,,确保你对比了本地化的词\N{\fs12}Make sure you're comparing localized, the localized words, all right?
Dialogue: 0,0:29:08.88,0:29:13.41,yin,,0,0,0,,否则 如果你想更独立于本地化 你可以只使用索引\N{\fs12}Or otherwise just use indexes if you want to kind of be more localization independent.
Dialogue: 0,0:29:13.41,0:29:18.47,yin,,0,0,0,,你也可以在程序中 取消一个动作表单\N{\fs12}You can programmatically dismiss an action sheet.
Dialogue: 0,0:29:18.47,0:29:20.16,yin,,0,0,0,,为什么要这样做呢\N{\fs12}And why would you ever want to do this?
Dialogue: 0,0:29:20.16,0:29:22.60,yin,,0,0,0,,弹出动作表单 让用户进行选择\N{\fs12}Okay you put up an action sheet, a decision branch [inaudible],
Dialogue: 0,0:29:22.60,0:29:24.63,yin,,0,0,0,,为什么又要取消这个\N{\fs12}why would you ever want to dismiss it yourself?
Dialogue: 0,0:29:24.63,0:29:28.78,yin,,0,0,0,,主要原因在于 你有可能被放入后台\N{\fs12}Well, the main reason is, you get put in the background.
Dialogue: 0,0:29:28.78,0:29:30.52,yin,,0,0,0,,有动作表单时\N{\fs12}So anytime you have an action sheet up
Dialogue: 0,0:29:30.52,0:29:33.62,yin,,0,0,0,,用户如果点击home键进入另一个app\N{\fs12}and someone clicks the home button to go to another app,
Dialogue: 0,0:29:33.62,0:29:36.22,yin,,0,0,0,,这个动作表单就应当取消\N{\fs12}you should dismiss that action sheet.
Dialogue: 0,0:29:36.22,0:29:37.92,yin,,0,0,0,,为什么这样做呢\N{\fs12}Why would you do that?
Dialogue: 0,0:29:37.92,0:29:40.44,yin,,0,0,0,,因为当用户回到你时\N{\fs12}Well because when the user comes back to you,
Dialogue: 0,0:29:40.44,0:29:42.63,yin,,0,0,0,,这就可能是第二天了\N{\fs12}they'll probably be, that could be the next day.
Dialogue: 0,0:29:42.63,0:29:45.63,yin,,0,0,0,,用户可能根本记不得这个动作表单为什么弹出\N{\fs12}They might be kind of confused why this action sheet is up.
Dialogue: 0,0:29:45.63,0:29:48.64,yin,,0,0,0,,用户不记得为什么要进行这个选择\N{\fs12}They don't remember why they forced that branching decision.
Dialogue: 0,0:29:48.64,0:29:51.76,yin,,0,0,0,,你应当让用户回到之前那一步\N{\fs12}So you're better to go back to the previous step for them
Dialogue: 0,0:29:51.76,0:29:55.44,yin,,0,0,0,,让其再次选择做分支决策 然后再弹出动作表单\N{\fs12}and let them choose that branching decision again and make the action sheet come back up.
Dialogue: 0,0:29:55.44,0:29:57.54,yin,,0,0,0,,怎么知道你进入了后台呢\N{\fs12}So how do you find out you entered the background?
Dialogue: 0,0:29:57.54,0:29:58.88,yin,,0,0,0,,这里有个很棒的广播站\N{\fs12}There's this nice radio station,
Dialogue: 0,0:29:58.88,0:30:01.04,yin,,0,0,0,,UIApplicationDidEnterBackgroundNotification\N{\fs12}UI application did enter background notification.
Dialogue: 0,0:30:01.04,0:30:02.39,yin,,0,0,0,,你只需要收听这个\N{\fs12}You just listen to that, boom,
Dialogue: 0,0:30:02.39,0:30:04.24,yin,,0,0,0,,你就知道自己是否被丢到了后台\N{\fs12}you'll find out you were put in the background.
Dialogue: 0,0:30:04.24,0:30:07.19,yin,,0,0,0,,如果被丢到后台 取消动作表单\N{\fs12}Just dismiss the action sheet, and you know how to do this
Dialogue: 0,0:30:07.19,0:30:08.82,yin,,0,0,0,,使用block 这很简单\N{\fs12}with blocks so it's really really easy.
Dialogue: 0,0:30:08.82,0:30:11.41,yin,,0,0,0,,一行代码 弹出动作表单后\N{\fs12}One liner when you put up the action sheet
Dialogue: 0,0:30:11.41,0:30:13.98,yin,,0,0,0,,一行代码 当广播站说到了后台后\N{\fs12}to put a one liner in there that when it gets to this radio station,
Dialogue: 0,0:30:13.98,0:30:15.92,yin,,0,0,0,,动作表单就会被取消\N{\fs12}it just dismisses it.
Dialogue: 0,0:30:18.05,0:30:20.90,yin,,0,0,0,,弹窗还有一些特殊考虑\N{\fs12}There's special popover considerations.
Dialogue: 0,0:30:20.90,0:30:23.56,yin,,0,0,0,,这里弹窗动作表单也有相同的问题\N{\fs12}We have the same problem here with popover action sheets
Dialogue: 0,0:30:23.56,0:30:25.13,yin,,0,0,0,,同Photomania中一样\N{\fs12}that we had when we did PhotoMania
Dialogue: 0,0:30:25.13,0:30:28.82,yin,,0,0,0,,我们点URL时会得到越来越多的弹窗\N{\fs12}where we kept pressing a URL and we got more and more and more of them.
Dialogue: 0,0:30:28.82,0:30:30.20,yin,,0,0,0,,这里也是一样\N{\fs12}Okay same thing here.
Dialogue: 0,0:30:30.20,0:30:35.50,yin,,0,0,0,,在动作表单弹出时要小心 不要再弹出\N{\fs12}You have to be careful if your action sheet's already up, don't put it up again.
Dialogue: 0,0:30:37.00,0:30:38.98,yin,,0,0,0,,再看警告视图\N{\fs12}Alert view.
Dialogue: 0,0:30:38.98,0:30:42.04,yin,,0,0,0,,警告视图可以有多个按钮 像左边这样\N{\fs12}Alert view can have multiple buttons like the one on the left.
Dialogue: 0,0:30:42.04,0:30:44.76,yin,,0,0,0,,也可以有文本框 像右边这样\N{\fs12}It can also have a little text field in it like the one on the right
Dialogue: 0,0:30:44.76,0:30:46.08,yin,,0,0,0,,这很有趣\N{\fs12}which is kind of fun.
Dialogue: 0,0:30:46.08,0:30:48.74,yin,,0,0,0,,它的API同动作表单完全一样\N{\fs12}And its API looks exactly like action sheet.
Dialogue: 0,0:30:48.74,0:30:52.92,yin,,0,0,0,,你可以从程序添加按钮\N{\fs12}You can add buttons programmatically.
Dialogue: 0,0:30:52.92,0:30:55.77,yin,,0,0,0,,显示它只需要一个方法show\N{\fs12}Showing it is always just the one method show
Dialogue: 0,0:30:55.77,0:30:58.70,yin,,0,0,0,,因为警告总会弹出到屏幕中央\N{\fs12}because alerts always come up in the middle of the screen.
Dialogue: 0,0:30:58.70,0:31:01.85,yin,,0,0,0,,我想我说过 只有表格视图控制器可以移开\N{\fs12}I think I said only table view controllers will move out of the way.
Dialogue: 0,0:31:01.85,0:31:03.37,yin,,0,0,0,,警告也可以移开\N{\fs12}Alerts will also move out of the way.
Dialogue: 0,0:31:03.37,0:31:06.02,yin,,0,0,0,,如果由于有文本框而弹出键盘\N{\fs12}If you bring up a keyboard because there's a text field in your alert,
Dialogue: 0,0:31:06.02,0:31:08.93,yin,,0,0,0,,警告会往上移\N{\fs12}the alert will move up.
Dialogue: 0,0:31:08.93,0:31:12.83,yin,,0,0,0,,显示 在iPad和iPhone上 都只需要show\N{\fs12}So anyway, show. On either iPad or iPhone, you just do show.
Dialogue: 0,0:31:12.83,0:31:15.39,yin,,0,0,0,,这是在警告中获得文本框的方式\N{\fs12}Here's how you get a text field in your alert.
Dialogue: 0,0:31:15.39,0:31:17.80,yin,,0,0,0,,你只需要说alert.alertViewStyle =\N{\fs12}You just say alert dot alertviewstyle equals
Dialogue: 0,0:31:17.80,0:31:19.34,yin,,0,0,0,,这其中一种有文本的样式\N{\fs12}one of these styles that has text:
Dialogue: 0,0:31:19.34,0:31:22.18,yin,,0,0,0,,SecureText PlainText LoginAndPassword\N{\fs12}secure text, plain text, login and password.
Dialogue: 0,0:31:22.18,0:31:24.14,yin,,0,0,0,,然后你得到文本框\N{\fs12}And then you get the text field
Dialogue: 0,0:31:24.14,0:31:26.18,yin,,0,0,0,,你能从中获得文本\N{\fs12}so you can get the text out of them
Dialogue: 0,0:31:26.18,0:31:28.68,yin,,0,0,0,,通过alertView textFieldAtIndex\N{\fs12}by alert view text field add index.
Dialogue: 0,0:31:28.68,0:31:31.28,yin,,0,0,0,,索引0 这是只有一个文本框的情况\N{\fs12}Okay, index zero if there's only one text field.
Dialogue: 0,0:31:31.28,0:31:34.28,yin,,0,0,0,,索引0和1 例如有帐号和密码的情况\N{\fs12}Index zero and one if there's login and password for example.
Dialogue: 0,0:31:34.28,0:31:36.41,yin,,0,0,0,,这就是得到文本框的方式\N{\fs12}So that's how you can get text field.
Dialogue: 0,0:31:37.08,0:31:42.26,yin,,0,0,0,,下面是demo时间 所有这些我都会在demo中演示\N{\fs12}All right, time for the demo so I'm going to show all of these things in the demo.
Dialogue: 0,0:31:42.26,0:31:45.24,yin,,0,0,0,,我说了 我们会完善Photomania\N{\fs12}And like I said, what we're going to do is we're going to enhance PhotoMania
Dialogue: 0,0:31:45.24,0:31:49.09,yin,,0,0,0,,让用户能够通过摄像头来拍照\N{\fs12}so that it can, so the user can take photos with their camera.
Dialogue: 0,0:31:49.09,0:31:51.99,yin,,0,0,0,,今天我们不打算讲到摄像头那部分\N{\fs12}Now we're not actually going to get to the camera part today,
Dialogue: 0,0:31:51.99,0:31:53.37,yin,,0,0,0,,不过其它我们都会演示\N{\fs12}but we're going to do all the rest of it.
Dialogue: 0,0:31:53.37,0:31:56.61,yin,,0,0,0,,最重要的是 我们将用到modal segue\N{\fs12}Most importantly we're going to do that modal segue
Dialogue: 0,0:31:56.61,0:31:58.03,yin,,0,0,0,,和unwind segue\N{\fs12}and unwind segue
Dialogue: 0,0:31:58.03,0:32:01.86,yin,,0,0,0,,让这个找用户要照片的视图控制器出现\N{\fs12}to put this view controller up that's going to ask for the photo.
Dialogue: 0,0:32:01.86,0:32:03.30,yin,,0,0,0,,这将是一个视图控制器\N{\fs12}Okay it's going to be a view controller.
Dialogue: 0,0:32:03.30,0:32:06.33,yin,,0,0,0,,它的作用就是让用户使用摄像头拍照\N{\fs12}Its only job is to let the user take a picture with the camera,
Dialogue: 0,0:32:06.33,0:32:09.61,yin,,0,0,0,,给照片一个标题和一个副标题 找到其位置\N{\fs12}give it a title and subtitle, find out their location.
Dialogue: 0,0:32:09.61,0:32:12.32,yin,,0,0,0,,这里我还会回头给出Core Location的demo\N{\fs12}Okay I'm going to go back and show you a core location demo here
Dialogue: 0,0:32:12.32,0:32:14.17,yin,,0,0,0,,因为之前我没演示过\N{\fs12}because I never showed you that before.
Dialogue: 0,0:32:14.17,0:32:16.39,yin,,0,0,0,,然后 我将能创建一张照片\N{\fs12}And then now I can create a photo
Dialogue: 0,0:32:16.39,0:32:19.40,yin,,0,0,0,,因为这里我有了所有信息 标题 子标题 图像\N{\fs12}because I've got all the pieces-- title, subtitle, image,
Dialogue: 0,0:32:19.40,0:32:22.08,yin,,0,0,0,,我要设置一个缩略图 然后是位置\N{\fs12}I'll make a thumbnail, and then the location.
Dialogue: 0,0:32:22.08,0:32:24.68,yin,,0,0,0,,我可以在数据库中创建一张照片\N{\fs12}Now I can make a photo in the database.
Dialogue: 0,0:32:24.68,0:32:27.60,yin,,0,0,0,,大家都理解我们要做什么了吗\N{\fs12}Okay everyone understand what we're going to do?
Dialogue: 0,0:32:27.60,0:32:30.29,yin,,0,0,0,,好 下面来演示\N{\fs12}Okay, let's dive right in here.
Dialogue: 0,0:32:30.29,0:32:33.92,yin,,0,0,0,,先看看后面的内容 因为后面我们不会回到幻灯片了\N{\fs12}I'm going, let's show coming up because I'm not going to go back to the slides.
Dialogue: 0,0:32:33.92,0:32:36.33,yin,,0,0,0,,后面我会继续这个demo 加入摄像头部分\N{\fs12}I'll continue this demo by doing the actual camera part
Dialogue: 0,0:32:36.33,0:32:38.24,yin,,0,0,0,,然后我还会谈到Core Motion\N{\fs12}and then I'm also going to talk about core motion
Dialogue: 0,0:32:38.24,0:32:41.30,yin,,0,0,0,,也就是加速计 陀螺仪这些\N{\fs12}which is accelerometer, gyro, all that stuff,
Dialogue: 0,0:32:41.30,0:32:44.01,yin,,0,0,0,,这是周三的内容 我们有另外一个demo\N{\fs12}on Wednesday, okay with another demo.
Dialogue: 0,0:32:44.01,0:32:48.24,yin,,0,0,0,,周五的辅导课是Sprite Kit\N{\fs12}Friday's section is sprite kit
Dialogue: 0,0:32:48.24,0:32:53.28,yin,,0,0,0,,这是iOS7的新工具包 用于2.5D游戏\N{\fs12}which is a new iOS 7 kit for doing 2.5D games.
Dialogue: 0,0:32:53.28,0:32:54.76,yin,,0,0,0,,看起来是3D\N{\fs12}Okay games that look 3D
Dialogue: 0,0:32:54.76,0:32:57.21,yin,,0,0,0,,但实际上是由2D图像做成\N{\fs12}but they're really made out of 2D images.
Dialogue: 0,0:32:57.21,0:32:59.76,yin,,0,0,0,,然后下一周放假\N{\fs12}And then next week we have off and then
Dialogue: 0,0:32:59.76,0:33:04.58,yin,,0,0,0,,回来以后 我们还有各式主题\N{\fs12}when we come back we'll have more miscellaneous topics.
Dialogue: 0,0:33:04.58,0:33:08.29,yin,,0,0,0,,好 Photomania 在哪\N{\fs12}Okay so PhotoMania, where is it?
Dialogue: 0,0:33:08.29,0:33:11.93,yin,,0,0,0,,在上课之前 我给Photomania加了一个东西\N{\fs12}Okay so just before class I added one thing to PhotoMania
Dialogue: 0,0:33:11.93,0:33:14.45,yin,,0,0,0,,我打算展示我所加的代码\N{\fs12}and I'm going to show you the code I added.
Dialogue: 0,0:33:14.45,0:33:19.64,yin,,0,0,0,,我为用户加了一个拍照者到数据库\N{\fs12}What I did was I added a photographer to my database for the user.
Dialogue: 0,0:33:19.64,0:33:24.28,yin,,0,0,0,,这是一个拍照者 也就是使用我们设备的用户\N{\fs12}Okay this is the photographer, the user, who's using my device.
Dialogue: 0,0:33:24.28,0:33:27.51,yin,,0,0,0,,因为这里我将添加这位用户所拍的照片\N{\fs12}That's because I'm going to add photos and he's going to,
Dialogue: 0,0:33:27.51,0:33:29.34,yin,,0,0,0,,因为这里我将添加这位用户所拍的照片\N{\fs12}her or she, is going to be the photographer.
Dialogue: 0,0:33:29.34,0:33:31.20,yin,,0,0,0,,怎么做到呢\N{\fs12}So how did I do that?
Dialogue: 0,0:33:31.20,0:33:35.73,yin,,0,0,0,,我将两个方法加到了我的Photographer category\N{\fs12}I added these two methods to my photographer category here,
Dialogue: 0,0:33:35.73,0:33:37.81,yin,,0,0,0,,userInManagedObjectContext\N{\fs12}user in managed object context.
Dialogue: 0,0:33:37.81,0:33:41.92,yin,,0,0,0,,这给了我一个唯一的拍照者 用于用户\N{\fs12}That gives me a photographer for the user, unique photographer.
Dialogue: 0,0:33:41.92,0:33:46.85,yin,,0,0,0,,然后isUser则是检验 这个拍照者是不是用户\N{\fs12}And then is user which just tells me whether a particular photographer is the user.
Dialogue: 0,0:33:46.85,0:33:49.74,yin,,0,0,0,,这个的实现我做得很简单\N{\fs12}And the implementation of these, I kind of went cheapo,
Dialogue: 0,0:33:49.74,0:33:51.94,yin,,0,0,0,,或许还有更好的做法\N{\fs12}there'll probably be much better ways to do this,
Dialogue: 0,0:33:51.94,0:33:55.94,yin,,0,0,0,,我只是创建了一个拍照者 名为 My Photos\N{\fs12}but I just created a photographer with the name my photos,
Dialogue: 0,0:33:55.94,0:33:59.16,yin,,0,0,0,,我还在前面加了个空格 这样它就会排在前面\N{\fs12}and I put a spacebar at the beginning so it would sort at the beginning.
Dialogue: 0,0:33:59.16,0:34:00.71,yin,,0,0,0,,更好的做法\N{\fs12}But really the way to do this would be
Dialogue: 0,0:34:00.71,0:34:04.74,yin,,0,0,0,,其实是添加另一个属性到拍照者 也就是"是用户"\N{\fs12}to add another attribute to your photographer which is, is the user.
Dialogue: 0,0:34:04.74,0:34:09.28,yin,,0,0,0,,然后排序再把这个排到第一位 然后再按名字排\N{\fs12}And then when you sort, you would sort by that first, and then secondarily by the name.
Dialogue: 0,0:34:09.28,0:34:12.35,yin,,0,0,0,,这样这个名字就不需要这么特殊\N{\fs12}And that would make it so that this name wouldn't have
Dialogue: 0,0:34:12.35,0:34:15.70,yin,,0,0,0,,因为我们将使用属性来设置\N{\fs12}to be unique because it would be the, you know, that attribute set.
Dialogue: 0,0:34:15.70,0:34:19.44,yin,,0,0,0,,这里 我检查了用户是不是self\N{\fs12}And then here I'm just checking to see if the user is self.
Dialogue: 0,0:34:20.35,0:34:22.16,yin,,0,0,0,,我在这里只加了一行\N{\fs12}The only other line of code I added
Dialogue: 0,0:34:22.16,0:34:28.12,yin,,0,0,0,,也就是 在数据库context可用时 我总会在app委托中\N{\fs12}to this was I always create this magic user in app delegate
Dialogue: 0,0:34:28.12,0:34:31.11,yin,,0,0,0,,创建这个特殊的用户\N{\fs12}when the database context becomes available.
Dialogue: 0,0:34:31.11,0:34:32.71,yin,,0,0,0,,就是这样了\N{\fs12}That's it.
Dialogue: 0,0:34:32.71,0:34:34.86,yin,,0,0,0,,大家都明白之前我做的吗\N{\fs12}Everyone understand what I did so far?
Dialogue: 0,0:34:34.86,0:34:35.92,yin,,0,0,0,,所有我都展示过\N{\fs12}I've shown you everything.
Dialogue: 0,0:34:35.92,0:34:37.76,yin,,0,0,0,,我们看看这是怎样的\N{\fs12}So let's look what this looks like.
Dialogue: 0,0:34:37.76,0:34:39.83,yin,,0,0,0,,运行Photomania 可以看到这里\N{\fs12}So here I'm running PhotoMania and you can see right here
Dialogue: 0,0:34:39.83,0:34:43.88,yin,,0,0,0,,最开始我就有一个拍照者 My Photos 我可以点它\N{\fs12}at the beginning I have a photographer, my photos, and I can click on it.
Dialogue: 0,0:34:43.88,0:34:44.95,yin,,0,0,0,,它会显示我的所有照片\N{\fs12}I'll show all my photos.
Dialogue: 0,0:34:44.95,0:34:48.87,yin,,0,0,0,,现在一张都没有 因为摄像头这些我们还没用到\N{\fs12}I don't have any yet because we haven't hooked up this whole camera business.
Dialogue: 0,0:34:48.87,0:34:52.43,yin,,0,0,0,,不过在这个UI中 我会考虑我的照片\N{\fs12}But what I'm going to do in this UI is when I'm looking
Dialogue: 0,0:34:52.43,0:34:55.03,yin,,0,0,0,,并在这上面加一个小按钮\N{\fs12}at my photos, I'm going to add a little button up here,
Dialogue: 0,0:34:55.03,0:34:59.13,yin,,0,0,0,,形如相机 它会通过模态present出一个视图控制器\N{\fs12}looks like a camera, and it's going to modally present a view controller
Dialogue: 0,0:34:59.13,0:35:02.60,yin,,0,0,0,,这就让我能够拍照 并存入数据库中\N{\fs12}that lets me take a picture and put it in the database.
Dialogue: 0,0:35:04.33,0:35:06.56,yin,,0,0,0,,好 我们将把它加到这里\N{\fs12}Good. All right so that's what we're going to do, we're just going to add this here.
Dialogue: 0,0:35:06.56,0:35:09.17,yin,,0,0,0,,看_Night Flyer_时 我们不希望\N{\fs12}Now, that camera, we don't want that camera button here
Dialogue: 0,0:35:09.17,0:35:10.77,yin,,0,0,0,,相机按钮出现在这里\N{\fs12}when we're looking at night flyer.
Dialogue: 0,0:35:10.77,0:35:13.53,yin,,0,0,0,,我们显然不能添加_Night Flyer_的照片\N{\fs12}Okay we don't want that night flyer to be able to add one,
Dialogue: 0,0:35:13.53,0:35:17.09,yin,,0,0,0,,我们只能对My Photos做这件事\N{\fs12}so we're only going to do it when it's my photos.
Dialogue: 0,0:35:17.09,0:35:20.42,yin,,0,0,0,,这个要怎么做呢\N{\fs12}All right, so how are we going to do that?
Dialogue: 0,0:35:20.42,0:35:22.73,yin,,0,0,0,,看我们的视图\N{\fs12}Let's go look at our view.
Dialogue: 0,0:35:23.96,0:35:26.18,yin,,0,0,0,,我们打算在iPhone上来做\N{\fs12}We're going to do this on the iPhone.
Dialogue: 0,0:35:26.35,0:35:29.44,yin,,0,0,0,,周三我们可能不会再在iPad上做\N{\fs12}Probably not going to get around to doing it on the iPad
Dialogue: 0,0:35:29.44,0:35:31.41,yin,,0,0,0,,我们将只针对iPhone\N{\fs12}on Wednesday, we'll just do it iPhone only.
Dialogue: 0,0:35:31.41,0:35:33.90,yin,,0,0,0,,这是我的拍照者列表\N{\fs12}Here is my list of photographers.
Dialogue: 0,0:35:33.90,0:35:37.12,yin,,0,0,0,,这是那个地图视图 带有特定拍照者的照片\N{\fs12}Here is that map view with the photos by a given photographers.
Dialogue: 0,0:35:37.12,0:35:40.27,yin,,0,0,0,,这里是我希望有那个按钮的位置\N{\fs12}Here's where I want to have that little map button.
Dialogue: 0,0:35:40.27,0:35:48.10,yin,,0,0,0,,因此 我只需要到这下面 抓取一个栏按钮项目\N{\fs12}So I'm just going to go down here and grab a bar button item.
Dialogue: 0,0:35:48.10,0:35:49.24,yin,,0,0,0,,它在这里\N{\fs12}Here's one right here.
Dialogue: 0,0:35:49.24,0:35:50.32,yin,,0,0,0,,放到这里\N{\fs12}Put it here.
Dialogue: 0,0:35:50.32,0:35:54.51,yin,,0,0,0,,我可以在这里写相机 拍照或别的什么\N{\fs12}I could say the word camera or take photo or something here,
Dialogue: 0,0:35:54.51,0:35:59.00,yin,,0,0,0,,不过这里可以用一个内建的相机按钮\N{\fs12}but it actually turns out there's a nice built-in one for camera.
Dialogue: 0,0:35:59.00,0:36:00.83,yin,,0,0,0,,内建栏按钮项目\N{\fs12}Whoo, built in bar button item.
Dialogue: 0,0:36:00.83,0:36:02.49,yin,,0,0,0,,看起来很棒\N{\fs12}Looks good.
Dialogue: 0,0:36:02.49,0:36:08.04,yin,,0,0,0,,重复一次 我只打算在拍照者是用户本人时\N{\fs12}So again I only want to have this camera appear when I'm showing the photographer
Dialogue: 0,0:36:08.04,0:36:10.26,yin,,0,0,0,,才显示这个按钮\N{\fs12}who is the user.
Dialogue: 0,0:36:10.26,0:36:14.14,yin,,0,0,0,,我要在PhotosByPhotographerMapViewController中\N{\fs12}So I'm going to put a little bit of code in my photos
Dialogue: 0,0:36:14.14,0:36:17.44,yin,,0,0,0,,加入一段用于这个的代码\N{\fs12}by photographer map view controller which is the code for that thing,
Dialogue: 0,0:36:17.44,0:36:20.87,yin,,0,0,0,,只在那种情形下显示按钮\N{\fs12}to only show that button in that circumstance.
Dialogue: 0,0:36:20.87,0:36:31.21,yin,,0,0,0,,首先 我要创建一个outlet到它\N{\fs12}So first of all I'm going to create a little outlet to it.
Dialogue: 0,0:36:31.21,0:36:35.51,yin,,0,0,0,,这里腾出一些空间来显示这些\N{\fs12}Trying to make it more space here as I show these.
Dialogue: 0,0:36:35.51,0:36:39.66,yin,,0,0,0,,这里是这个\N{\fs12}Okay so here is this guy right here
Dialogue: 0,0:36:39.66,0:36:42.72,yin,,0,0,0,,我要到.m文件\N{\fs12}and I'm going to go to the dot m.
Dialogue: 0,0:36:42.72,0:36:45.48,yin,,0,0,0,,这是我的PhotosByPhotographerMapViewController\N{\fs12}So here's my photos by photographer with map view controller.
Dialogue: 0,0:36:45.48,0:36:46.86,yin,,0,0,0,,这个就在这里\N{\fs12}That's this. That's where this is.
Dialogue: 0,0:36:46.86,0:36:49.07,yin,,0,0,0,,我要control拖动\N{\fs12}So I'm going to control drag
Dialogue: 0,0:36:49.07,0:36:52.74,yin,,0,0,0,,从这个小按钮 为它创建一个outlet\N{\fs12}from this little button right here to make a outlet for it.
Dialogue: 0,0:36:52.74,0:36:56.68,yin,,0,0,0,,命名为addPhotoBarButtonItem\N{\fs12}I'm going to call it the add photo bar button item.
Dialogue: 0,0:36:56.68,0:36:59.13,yin,,0,0,0,,这样我就得到了addPhotoBarButtonItem\N{\fs12}So I've got my add photo bar button item.
Dialogue: 0,0:36:59.13,0:37:01.27,yin,,0,0,0,,然后我还要加一点代码\N{\fs12}And now I'm just going to put a little bit of code
Dialogue: 0,0:37:01.27,0:37:05.75,yin,,0,0,0,,只在拍照者是用户时才把按钮放到这里\N{\fs12}that only puts that here if my current photographer--
Dialogue: 0,0:37:05.75,0:37:09.56,yin,,0,0,0,,这是我为这些设定拍照者的地方\N{\fs12}here's where I set my photographer for this thing-- is the user.
Dialogue: 0,0:37:09.56,0:37:11.97,yin,,0,0,0,,这里我将有一个方法 self\N{\fs12}So I'm going to have a little method here. I'm going to call it self
Dialogue: 0,0:37:11.98,0:37:16.44,yin,,0,0,0,,updateAddPhotoBarButtonItem\N{\fs12}update, add photo, bar button item.
Dialogue: 0,0:37:16.44,0:37:23.68,yin,,0,0,0,,我需要这个更新函数\N{\fs12}And I'm just going to have a little-- this update this thing.
Dialogue: 0,0:37:23.68,0:37:26.73,yin,,0,0,0,,我们这里需要Photographer+Create\N{\fs12}We need photographer create for that
Dialogue: 0,0:37:26.73,0:37:29.13,yin,,0,0,0,,因为这就是我们要加入的地方\N{\fs12}because that's where that thing we just added.
Dialogue: 0,0:37:29.13,0:37:32.38,yin,,0,0,0,,这是我刚才快速键入的\N{\fs12}All right so here's what I just typed in right here really fast
Dialogue: 0,0:37:32.38,0:37:34.06,yin,,0,0,0,,你们可以离线去看\N{\fs12}and you can look at this offline.
Dialogue: 0,0:37:34.06,0:37:37.51,yin,,0,0,0,,这里没有什么新东西 我就不讲了\N{\fs12}There's nothing really new to teach you here so I'm not going to go through it.
Dialogue: 0,0:37:37.51,0:37:40.98,yin,,0,0,0,,只需要知道 它会更新这里这个导航项目的\N{\fs12}But suffice it to say it's really updating the right bar button items
Dialogue: 0,0:37:40.98,0:37:44.65,yin,,0,0,0,,正确的栏按钮项目 来决定有没有这个\N{\fs12}of this navigation item right here to have this or not.
Dialogue: 0,0:37:44.65,0:37:48.70,yin,,0,0,0,,我们来看看\N{\fs12}So let's go take a look.
Dialogue: 0,0:37:48.70,0:37:51.28,yin,,0,0,0,,来到这里 它有这个\N{\fs12}Okay so we go here, it's got this.
Dialogue: 0,0:37:51.28,0:37:53.75,yin,,0,0,0,,回到这里 它没有\N{\fs12}Go back here, doesn't have it.
Dialogue: 0,0:37:53.75,0:37:56.08,yin,,0,0,0,,这很好\N{\fs12}See? Okay so that's good.
Dialogue: 0,0:37:56.08,0:37:58.19,yin,,0,0,0,,下面我们需要 按这个按钮时\N{\fs12}So now we need to make it so when we press this
Dialogue: 0,0:37:58.19,0:38:00.47,yin,,0,0,0,,程序就会modal segue到新UI\N{\fs12}we do this modal segue to a new UI.
Dialogue: 0,0:38:00.47,0:38:05.10,yin,,0,0,0,,我们来做这个 回到iPhone故事板来腾空间\N{\fs12}So let's go do that, back to our iPhone storyboard to make space.
Dialogue: 0,0:38:05.10,0:38:10.34,yin,,0,0,0,,让我们把这个做成新UI来做这个\N{\fs12}All right so let's make this new UI that we want to do that,
Dialogue: 0,0:38:10.34,0:38:14.34,yin,,0,0,0,,我要创建一个新视图控制器 拖出来\N{\fs12}so I'm going to create a new view controller here, drag this out.
Dialogue: 0,0:38:14.34,0:38:16.70,yin,,0,0,0,,这是我的新视图控制器\N{\fs12}Here's my new view controller.
Dialogue: 0,0:38:16.72,0:38:19.25,yin,,0,0,0,,将它很好地对齐到这里\N{\fs12}Okay, and we'll line it up there nicely.
Dialogue: 0,0:38:19.25,0:38:21.96,yin,,0,0,0,,这个视图控制器中有些什么呢\N{\fs12}And what is this view controller going to have in it?
Dialogue: 0,0:38:21.96,0:38:25.38,yin,,0,0,0,,我们看看 我要从这里拖出很多好东西\N{\fs12}Well, let's see, I'm going to drag a whole bunch of nice stuff out here.
Dialogue: 0,0:38:25.38,0:38:29.94,yin,,0,0,0,,它需要一个取消按钮 这里我们放个取消\N{\fs12}It wants a cancel button, so let's do a cancel.
Dialogue: 0,0:38:29.94,0:38:33.32,yin,,0,0,0,,这时我会决定 我其实不想添加\N{\fs12}That's if I decide eh, I don't really want to add one after all.
Dialogue: 0,0:38:33.32,0:38:35.33,yin,,0,0,0,,它还需要一个完成按钮\N{\fs12}It wants a done button.
Dialogue: 0,0:38:35.33,0:38:36.76,yin,,0,0,0,,来执行完成操作\N{\fs12}So if we're going to do a done,
Dialogue: 0,0:38:36.76,0:38:40.22,yin,,0,0,0,,它还需要一个拍照按钮\N{\fs12}it probably wants a take photo button, okay,
Dialogue: 0,0:38:40.22,0:38:45.42,yin,,0,0,0,,点它会弹出拍照用户界面\N{\fs12}that we'll click that will cause us to bring up the camera taking user interface.
Dialogue: 0,0:38:45.42,0:38:48.44,yin,,0,0,0,,这个放到上面这里\N{\fs12}I will put these somewhere here, put that up there.
Dialogue: 0,0:38:48.44,0:38:51.12,yin,,0,0,0,,这个对齐地放到这里\N{\fs12}Let's put this one lined up over there.
Dialogue: 0,0:38:51.12,0:38:52.37,yin,,0,0,0,,这个放到别处\N{\fs12}Put this somewhere.
Dialogue: 0,0:38:52.37,0:38:55.93,yin,,0,0,0,,我需要一个图像视图 一个UIImageView\N{\fs12}We need a view, I want to have an image view, a UI image view
Dialogue: 0,0:38:55.93,0:38:58.44,yin,,0,0,0,,为我显示我刚拍的照片\N{\fs12}that shows me what I just took with the camera.
Dialogue: 0,0:38:58.44,0:39:02.84,yin,,0,0,0,,把这个拖出来 放到这里\N{\fs12}So let's drag that out, put that here let's say.
Dialogue: 0,0:39:02.84,0:39:08.31,yin,,0,0,0,,或许是这样 拉成一个正方形\N{\fs12}Maybe, I don't know, something like let's make it square.
Dialogue: 0,0:39:09.23,0:39:11.34,yin,,0,0,0,,这就是我的正方形\N{\fs12}There, that's my square one.
Dialogue: 0,0:39:11.34,0:39:13.15,yin,,0,0,0,,把拍照拉下一些\N{\fs12}Put take photo down here.
Dialogue: 0,0:39:13.15,0:39:16.57,yin,,0,0,0,,然后 对于标题和副标题再放一些文本框\N{\fs12}Okay, and then I'm going to have some text fields for the title and subtitle.
Dialogue: 0,0:39:16.57,0:39:17.83,yin,,0,0,0,,把它们拖出来\N{\fs12}So let's drag those out.
Dialogue: 0,0:39:17.83,0:39:20.43,yin,,0,0,0,,这是文本框 我们第一次用它\N{\fs12}So here's text field, first time we've used that.
Dialogue: 0,0:39:20.43,0:39:22.44,yin,,0,0,0,,像这样 这就有了一个\N{\fs12}But here we go. There's one there.
Dialogue: 0,0:39:22.44,0:39:26.10,yin,,0,0,0,,拉宽一些 像这样\N{\fs12}Let's make it a little wider, like that.
Dialogue: 0,0:39:26.10,0:39:29.44,yin,,0,0,0,,为标题和副标题粘贴复制\N{\fs12}Let's copy and paste for title and subtitle.
Dialogue: 0,0:39:29.44,0:39:32.00,yin,,0,0,0,,为这些东西加个标签\N{\fs12}Let's get a label for each of these things.
Dialogue: 0,0:39:32.00,0:39:37.90,yin,,0,0,0,,这是副标题标签 复制粘贴 这是标题标签\N{\fs12}There's the subtitle label and let's copy and paste the new title label.
Dialogue: 0,0:39:37.90,0:39:41.04,yin,,0,0,0,,然后把这些对齐\N{\fs12}And then let's line these things up.
Dialogue: 0,0:39:41.04,0:39:43.12,yin,,0,0,0,,像这样\N{\fs12}Something like that.
Dialogue: 0,0:39:43.12,0:39:46.25,yin,,0,0,0,,我们要对齐基线\N{\fs12}We'll line up the baselines probably of our--
Dialogue: 0,0:39:46.25,0:39:49.89,yin,,0,0,0,,把这个挪开 这里对齐基线\N{\fs12}let's get that out of the way-- line up the baselines here.
Dialogue: 0,0:39:49.89,0:39:52.34,yin,,0,0,0,,中间可能好了\N{\fs12}Center's probably just as good.
Dialogue: 0,0:39:52.34,0:39:55.00,yin,,0,0,0,,就这样吧 这就标题和副标题\N{\fs12}So anyway, so there's our title, there's our subtitle.
Dialogue: 0,0:39:55.00,0:39:58.83,yin,,0,0,0,,然后我们创建一个UIViewController的自定义子类\N{\fs12}And now let's create a custom UI view controller subclass
Dialogue: 0,0:39:58.83,0:40:02.09,yin,,0,0,0,,这样我们就能把所有这些东西关联起来\N{\fs12}so we can wire all this business up to something.
Dialogue: 0,0:40:02.09,0:40:05.39,yin,,0,0,0,,我们可以到这里点新文件\N{\fs12}So we can go here, new, file.
Dialogue: 0,0:40:05.39,0:40:06.92,yin,,0,0,0,,创建一个新的\N{\fs12}And we're creating a new one.
Dialogue: 0,0:40:06.92,0:40:09.19,yin,,0,0,0,,这将是一个常规的UIViewController\N{\fs12}This is going to be a normal UI view controller.
Dialogue: 0,0:40:09.19,0:40:12.77,yin,,0,0,0,,让我们把它称作AddPhotoViewController\N{\fs12}It's going to call, let's call it add photo view controller
Dialogue: 0,0:40:12.77,0:40:13.92,yin,,0,0,0,,这就是它的作用\N{\fs12}because that's what it does, right?
Dialogue: 0,0:40:13.92,0:40:17.58,yin,,0,0,0,,它会添加一张照片到数据库 这是一个很好的名字\N{\fs12}It adds a photo to the database so that's a good name for it.
Dialogue: 0,0:40:17.58,0:40:21.43,yin,,0,0,0,,把这同其它所有控制器放一起\N{\fs12}We'll put it where all the rest of our controllers are.
Dialogue: 0,0:40:21.43,0:40:22.75,yin,,0,0,0,,这里\N{\fs12}There it is.
Dialogue: 0,0:40:22.75,0:40:24.75,yin,,0,0,0,,这是我们的init\N{\fs12}Okay, this is our init, we don't need any
Dialogue: 0,0:40:24.75,0:40:27.44,yin,,0,0,0,,这一大堆样板内容都不需要\N{\fs12}of this boilerplate that it puts in here.
Dialogue: 0,0:40:27.44,0:40:29.71,yin,,0,0,0,,删掉这些\N{\fs12}Get rid of that.
Dialogue: 0,0:40:29.71,0:40:33.28,yin,,0,0,0,,让我们来设置它的ID\N{\fs12}Let's go ahead and set our identity of this thing
Dialogue: 0,0:40:33.28,0:40:36.12,yin,,0,0,0,,设为这个新的AddPhotoViewController\N{\fs12}to be this new add photo view controller.
Dialogue: 0,0:40:36.12,0:40:40.35,yin,,0,0,0,,让我们关联一些outlet 来指向这其中一些东西\N{\fs12}Let's wire up some outlets to point to some of these things.
Dialogue: 0,0:40:44.29,0:40:49.00,yin,,0,0,0,,我们需要outlet到这两个文本框 让我们来做这个\N{\fs12}All right so, we need an outlet to both of these text fields, so let's do that.
Dialogue: 0,0:40:49.00,0:40:53.75,yin,,0,0,0,,这是我们的标题文本框 和这个关联起来\N{\fs12}This is our title text field and we'll wire this one up.
Dialogue: 0,0:40:53.75,0:40:58.00,yin,,0,0,0,,这是我们的副标题文本框\N{\fs12}This is our subtitle text field.
Dialogue: 0,0:40:58.00,0:41:00.47,yin,,0,0,0,,我们再点亮取消按钮\N{\fs12}And let's light the cancel button.
Dialogue: 0,0:41:00.47,0:41:01.61,yin,,0,0,0,,关联起这个\N{\fs12}Let's wire that up.
Dialogue: 0,0:41:01.61,0:41:05.39,yin,,0,0,0,,取消 完成\N{\fs12}Cancel. Done.
Dialogue: 0,0:41:05.39,0:41:08.59,yin,,0,0,0,,我们再来关联拍照片按钮\N{\fs12}Let's wire up the take photo.
Dialogue: 0,0:41:08.59,0:41:10.52,yin,,0,0,0,,拍照片\N{\fs12}Take photo.
Dialogue: 0,0:41:11.60,0:41:13.90,yin,,0,0,0,,完成 好\N{\fs12}Done. Okay.
Dialogue: 0,0:41:13.90,0:41:18.42,yin,,0,0,0,,我不喜欢这样 我们这样\N{\fs12}Now you know I don't like those like that so we'll do that.
Dialogue: 0,0:41:18.42,0:41:23.37,yin,,0,0,0,,我们再把这个图像视图关联起来\N{\fs12}Let's also wire up this image view right here.
Dialogue: 0,0:41:23.37,0:41:26.63,yin,,0,0,0,,我还要做一件事 碰到这样的图像视图时\N{\fs12}Okay I'm also going to do something that I did in image view controller
Dialogue: 0,0:41:26.63,0:41:30.43,yin,,0,0,0,,我总喜欢在图像视图控制器中做这件事 也就是\N{\fs12}which I always like to do when I have an image view like that, which is I'm going
Dialogue: 0,0:41:30.43,0:41:34.78,yin,,0,0,0,,设置一个非原子的 强的UIImage *image属性\N{\fs12}to have a non atomic strong UI image star image.
Dialogue: 0,0:41:34.78,0:41:36.84,yin,,0,0,0,,这里有一个属性叫image\N{\fs12}Okay so I'm going to have a property called image
Dialogue: 0,0:41:36.84,0:41:39.38,yin,,0,0,0,,不过我会将它存在图像视图中\N{\fs12}but I'm going to store it in the image view.
Dialogue: 0,0:41:39.38,0:41:42.08,yin,,0,0,0,,我们对视图控制器做过相同的事\N{\fs12}Same exact thing we did for view controller.
Dialogue: 0,0:41:42.08,0:41:46.94,yin,,0,0,0,,这里我们将加入setImage\N{\fs12}So here I'm just going to have set image.
Dialogue: 0,0:41:46.94,0:41:49.85,yin,,0,0,0,,它会在图像视图控制器中进行设置\N{\fs12}Okay and it's just going to set in the image view controller
Dialogue: 0,0:41:49.85,0:41:50.95,yin,,0,0,0,,并返回图像视图控制器\N{\fs12}and return the image view controller.
Dialogue: 0,0:41:50.95,0:41:52.99,yin,,0,0,0,,这样做是因为我需要\N{\fs12}And the reason I'm doing this is because I'm going to need
Dialogue: 0,0:41:52.99,0:41:56.24,yin,,0,0,0,,在以后图像被设置时做些事情\N{\fs12}to do some things when the image is set in the future.
Dialogue: 0,0:41:56.24,0:42:00.36,yin,,0,0,0,,因此 我需要预先把这个准备好\N{\fs12}So I'm just kind of getting it ahead of myself and getting it ready for that.
Dialogue: 0,0:42:00.36,0:42:02.35,yin,,0,0,0,,大家都理解我刚做的吗\N{\fs12}Everyone understand what I'm doing there though?
Dialogue: 0,0:42:04.10,0:42:10.84,yin,,0,0,0,,好 下面把这个放到屏幕上\N{\fs12}Okay, so let's go ahead and put this on screen briefly
Dialogue: 0,0:42:10.84,0:42:14.72,yin,,0,0,0,,通过创建一个modal segue 从这里到这里\N{\fs12}by creating a modal segue from here to here.
Dialogue: 0,0:42:14.72,0:42:17.62,yin,,0,0,0,,我还想简单展示一下这些文本框\N{\fs12}And I just want to show you a little bit about these text fields.
Dialogue: 0,0:42:17.62,0:42:21.11,yin,,0,0,0,,我要让这个像这样\N{\fs12}So I'm just going to have this guy right here go like this,
Dialogue: 0,0:42:21.11,0:42:23.70,yin,,0,0,0,,这里不选push 而选modal\N{\fs12}and instead of push I'm going to do modal.
Dialogue: 0,0:42:23.70,0:42:26.62,yin,,0,0,0,,这就会让这个用modal方式显示在屏幕上\N{\fs12}So that's going to put this thing on screen modally.
Dialogue: 0,0:42:26.62,0:42:29.33,yin,,0,0,0,,这是一个modal segue\N{\fs12}This is a modal segue right here.
Dialogue: 0,0:42:29.33,0:42:34.16,yin,,0,0,0,,这里我们可以称它为Add Photo Segue\N{\fs12}This for example, we could call it the add photo segue.
Dialogue: 0,0:42:34.16,0:42:37.47,yin,,0,0,0,,检查标识符或许甚至可以掠过\N{\fs12}I'll probably skip even checking that identifier.
Dialogue: 0,0:42:37.47,0:42:39.81,yin,,0,0,0,,无论如何 我们试运行一下\N{\fs12}But anyway, let's go ahead and run
Dialogue: 0,0:42:39.81,0:42:43.07,yin,,0,0,0,,把这个放到屏幕上 展示一些文本框的内容\N{\fs12}so we can get this thing on screen and I can show you something about the text field.
Dialogue: 0,0:42:43.07,0:42:44.99,yin,,0,0,0,,这里是我们的相机\N{\fs12}So here we go, here's our camera.
Dialogue: 0,0:42:44.99,0:42:47.74,yin,,0,0,0,,点它 它会用modal方式显示在屏幕上\N{\fs12}And when I click this, it comes up on screen modally.
Dialogue: 0,0:42:47.74,0:42:50.87,yin,,0,0,0,,modal一定要有取消的办法\N{\fs12}Now one thing about modal, you better have a way to get rid of it.
Dialogue: 0,0:42:50.87,0:42:52.91,yin,,0,0,0,,这个我们还没关联\N{\fs12}And we haven't wired any of this up.
Dialogue: 0,0:42:52.91,0:42:54.99,yin,,0,0,0,,我的app这就完了\N{\fs12}This is, my app is done now.
Dialogue: 0,0:42:54.99,0:42:56.53,yin,,0,0,0,,我无法回退\N{\fs12}I can't get back.
Dialogue: 0,0:42:56.53,0:43:00.06,yin,,0,0,0,,我需要要么unwind 要么取消\N{\fs12}So I have to either unwind or I have to cancel myself.
Dialogue: 0,0:43:00.06,0:43:02.28,yin,,0,0,0,,但我现在还没做这些\N{\fs12}But we're not doing that right now,
Dialogue: 0,0:43:02.28,0:43:04.63,yin,,0,0,0,,我现在只想看看这些文本框\N{\fs12}what I'm doing now is I want to look at these text fields.
Dialogue: 0,0:43:04.63,0:43:08.45,yin,,0,0,0,,我点标题 然后就可以开始输入标题\N{\fs12}So if I click here title, okay, and I could type, start typing
Dialogue: 0,0:43:08.45,0:43:11.77,yin,,0,0,0,,好 这就是我想要的标题了\N{\fs12}in a title here, and I'm like okay that's where I want the title to be.
Dialogue: 0,0:43:11.77,0:43:14.59,yin,,0,0,0,,但点这个没反应\N{\fs12}Oh, I can't get, I can't get rid of this.
Dialogue: 0,0:43:14.59,0:43:16.81,yin,,0,0,0,,键盘无法消失\N{\fs12}There's no way to get rid of this keyboard.
Dialogue: 0,0:43:16.81,0:43:18.57,yin,,0,0,0,,点别处都没用\N{\fs12}Okay there's nowhere I can click,
Dialogue: 0,0:43:18.57,0:43:20.42,yin,,0,0,0,,我什么都做不了 这个一直都在\N{\fs12}there's nothing I can do, this thing is up.
Dialogue: 0,0:43:20.42,0:43:23.74,yin,,0,0,0,,而且我的照片在它下面 照片也看不见\N{\fs12}And my photo is underneath it, so I can't see my photo.
Dialogue: 0,0:43:23.74,0:43:25.30,yin,,0,0,0,,这太糟糕了\N{\fs12}Okay this is awful.
Dialogue: 0,0:43:25.30,0:43:31.21,yin,,0,0,0,,在点return时 我需要能够消掉这个键盘\N{\fs12}So I really want to be able to dismiss this keyboard when I hit return here.
Dialogue: 0,0:43:31.21,0:43:34.56,yin,,0,0,0,,我们可以使用UITextFieldDelegate来做这个\N{\fs12}So we can do that using the UI text field's delegate.
Dialogue: 0,0:43:34.56,0:43:36.44,yin,,0,0,0,,我们来做这个\N{\fs12}So let's go ahead and do that.
Dialogue: 0,0:43:36.44,0:43:38.28,yin,,0,0,0,,我们到这里来\N{\fs12}Okay we're going to go here
Dialogue: 0,0:43:38.28,0:43:41.41,yin,,0,0,0,,我要做点有趣的事 我从没这样做过\N{\fs12}and I'm going to do something a little interesting we haven't done before
Dialogue: 0,0:43:41.41,0:43:44.54,yin,,0,0,0,,也就是 我要在故事板中关联一个委托\N{\fs12}which is I'm going to wire up a delegate in the storyboard.
Dialogue: 0,0:43:44.54,0:43:46.21,yin,,0,0,0,,这一般是在代码中做的事\N{\fs12}Normally we would do this in code.
Dialogue: 0,0:43:46.21,0:43:49.01,yin,,0,0,0,,例如文本框的setter被调用时\N{\fs12}Like when the setter for that text field was called we'd say
Dialogue: 0,0:43:49.01,0:43:52.98,yin,,0,0,0,,我们说textField.delegate = self\N{\fs12}self, you know, we'd say text field dot delegate equals self.
Dialogue: 0,0:43:52.98,0:43:55.83,yin,,0,0,0,,但这里 我直接control拖动\N{\fs12}But here I'm going to do it by control dragging
Dialogue: 0,0:43:55.83,0:43:58.59,yin,,0,0,0,,从文本框到我的视图控制器\N{\fs12}from the text field down to my view controller.
Dialogue: 0,0:43:58.59,0:44:03.46,yin,,0,0,0,,这时 我就可以设置它的委托了 看到了吧\N{\fs12}And when I do you'll see that I can set its delegate.
Dialogue: 0,0:44:03.46,0:44:08.62,yin,,0,0,0,,我将文本框的委托设置为我的视图控制器\N{\fs12}So I'm setting the text field's delegate to be my view controller.
Dialogue: 0,0:44:08.62,0:44:10.36,yin,,0,0,0,,另一个我也来设置\N{\fs12}I'll set the other one too.
Dialogue: 0,0:44:10.36,0:44:13.76,yin,,0,0,0,,这两个 右键点击你都能看到\N{\fs12}So both of these guys, if you right click on them you'll see
Dialogue: 0,0:44:13.76,0:44:17.68,yin,,0,0,0,,它们的委托是Add Photo View Controller\N{\fs12}that their delegate is my add photo view controller.
Dialogue: 0,0:44:17.68,0:44:22.29,yin,,0,0,0,,在AddPhotoViewController中\N{\fs12}Now I still have to, in my add photo view controller right
Dialogue: 0,0:44:22.29,0:44:24.65,yin,,0,0,0,,这里 我还需要说\N{\fs12}here, I still have to say oh yes,
Dialogue: 0,0:44:24.65,0:44:28.74,yin,,0,0,0,,我是一个UITextFieldDelegate\N{\fs12}I'm a UI text field delegate.
Dialogue: 0,0:44:28.74,0:44:31.82,yin,,0,0,0,,还是那句话 所有这些方法都是可选的\N{\fs12}All right now again, all these methods are optional
Dialogue: 0,0:44:31.82,0:44:33.56,yin,,0,0,0,,没有这些关系也不大\N{\fs12}so it really wouldn't be that big a deal if I didn't
Dialogue: 0,0:44:33.56,0:44:36.48,yin,,0,0,0,,不过 为了程序的恰当 我会这样做\N{\fs12}but still, just to be proper, I should do that.
Dialogue: 0,0:44:36.48,0:44:39.52,yin,,0,0,0,,现在 我可以实现这其中一些\N{\fs12}And I, now I can implement some of these ones.
Dialogue: 0,0:44:39.52,0:44:42.39,yin,,0,0,0,,例如这里有一个叫\N{\fs12}Like a good one here would be shou- what's it called?
Dialogue: 0,0:44:42.39,0:44:43.65,yin,,0,0,0,,textFieldShouldReturn\N{\fs12}Text field should return.
Dialogue: 0,0:44:43.65,0:44:46.58,yin,,0,0,0,,textField打头的还有一些\N{\fs12}So here's some of the text field ones. These ones [inaudible].
Dialogue: 0,0:44:46.58,0:44:49.36,yin,,0,0,0,,我们要的是textFieldShouldReturn\N{\fs12}So let's do text field should return.
Dialogue: 0,0:44:49.36,0:44:52.97,yin,,0,0,0,,如果文本框问我 我是否该return\N{\fs12}And so if the text field asks me, should I return?
Dialogue: 0,0:44:52.97,0:44:55.89,yin,,0,0,0,,我会说 是 你该return\N{\fs12}I'm going to say yes, you should return.
Dialogue: 0,0:44:55.89,0:45:00.17,yin,,0,0,0,,也就是说 如果有目标动作在return时发生 做就是了\N{\fs12}Meaning if you have target action that fires when you return, go ahead and do it.
Dialogue: 0,0:45:00.17,0:45:04.58,yin,,0,0,0,,不过我还要说 文本框先生 请消掉第一响应器\N{\fs12}But I'm also going to say, Mr. Text Field, please resign first responder.
Dialogue: 0,0:45:04.58,0:45:08.24,yin,,0,0,0,,换言之 停止使用键盘\N{\fs12}In other words, stop using the keyboard.
Dialogue: 0,0:45:08.24,0:45:11.54,yin,,0,0,0,,加入这些代码 然后运行\N{\fs12}So just by putting this in here, now when we run
Dialogue: 0,0:45:11.54,0:45:15.83,yin,,0,0,0,,转到这个界面 点这里\N{\fs12}and bring this baby back up and we click here
Dialogue: 0,0:45:15.83,0:45:19.63,yin,,0,0,0,,开始输入 点return 文本被留在了这里\N{\fs12}and we start typing and we hit return, it leaves the text in there,
Dialogue: 0,0:45:19.64,0:45:24.65,yin,,0,0,0,,虽然这里有一些拼写错误校正\N{\fs12}even does its little fixing the misspellings.
Dialogue: 0,0:45:24.65,0:45:26.79,yin,,0,0,0,,键盘消失了\N{\fs12}And the keyboard goes away.
Dialogue: 0,0:45:26.79,0:45:29.12,yin,,0,0,0,,我可以让它弹出来 然后再让它消失\N{\fs12}And I can bring this one back and make this one go away.
Dialogue: 0,0:45:29.12,0:45:32.79,yin,,0,0,0,,这个UI就好很多了 特别是让键盘能够消失\N{\fs12}So it's a much nicer UI to be able to make that keyboard go away especially
Dialogue: 0,0:45:32.79,0:45:36.15,yin,,0,0,0,,键盘下如果有东西 你就不需要滚动到上面来\N{\fs12}if you have something underneath the keyboard and you don't scroll it up.
Dialogue: 0,0:45:36.15,0:45:37.95,yin,,0,0,0,,我展示这个\N{\fs12}So I just wanted to show you that just
Dialogue: 0,0:45:37.95,0:45:39.79,yin,,0,0,0,,只是想让你们知道 一\N{\fs12}to show you how we can A,
Dialogue: 0,0:45:39.79,0:45:42.32,yin,,0,0,0,,如何在故事板中设置文本框委托\N{\fs12}set the text delegate in the storyboard,
Dialogue: 0,0:45:42.32,0:45:45.27,yin,,0,0,0,,二 如何使用委托来做一些有价值的事\N{\fs12}and B, how we could use a delegate method to do something valuable.
Dialogue: 0,0:45:45.27,0:45:47.97,yin,,0,0,0,,以上就是关于文本框我要演示的东西\N{\fs12}So that's all I'm going to show you for text field.
Dialogue: 0,0:45:47.97,0:45:51.63,yin,,0,0,0,,剩下的内容你们应该可以自己去看\N{\fs12}I think you can figure out the rest on your own.
Dialogue: 0,0:45:51.63,0:45:55.07,yin,,0,0,0,,下面我们再回到segue\N{\fs12}All right so now let's get back to the segueing okay?
Dialogue: 0,0:45:55.07,0:45:58.08,yin,,0,0,0,,我们有这个 它segue到这里\N{\fs12}So we have this guy right here and it segues to here.
Dialogue: 0,0:45:58.08,0:46:00.32,yin,,0,0,0,,我们已经设置了这个modal segue\N{\fs12}So we already set up this modal segue,
Dialogue: 0,0:46:00.32,0:46:03.98,yin,,0,0,0,,我们没有准备它 也不能从它unwind\N{\fs12}but we don't actually prepare it nor can we unwind from it.
Dialogue: 0,0:46:03.98,0:46:06.85,yin,,0,0,0,,这两个视图控制器之间的整个关系还没有完成\N{\fs12}So we really haven't finished with the whole relationship
Dialogue: 0,0:46:06.85,0:46:08.14,yin,,0,0,0,,这两个视图控制器之间的整个关系还没有完成\N{\fs12}between these two view controllers.
Dialogue: 0,0:46:08.14,0:46:14.43,yin,,0,0,0,,我们首先看看这个模态视图控制器的公共API\N{\fs12}So let's first look at the public API of this modal view controller to kind
Dialogue: 0,0:46:14.43,0:46:16.59,yin,,0,0,0,,来理解它是如何通信的\N{\fs12}of understand how it's going to communicate.
Dialogue: 0,0:46:16.59,0:46:19.69,yin,,0,0,0,,我们来看看AddPhotoViewController的公共API\N{\fs12}So I'm going to look at the public API of add photo view controller
Dialogue: 0,0:46:19.69,0:46:21.15,yin,,0,0,0,,它有两个东西\N{\fs12}and it really has two things.
Dialogue: 0,0:46:21.15,0:46:22.67,yin,,0,0,0,,它有一个输入\N{\fs12}It has an input
Dialogue: 0,0:46:22.67,0:46:35.11,yin,,0,0,0,,也就是photographerTakingPhoto(拍照的拍照者)\N{\fs12}which is the photographer who is taking the photo.
Dialogue: 0,0:46:35.11,0:46:40.51,yin,,0,0,0,,这里我们或许总是会传入用户 这个特殊拍照者\N{\fs12}Now hopefully we always pass in the user, right, that special photographer.
Dialogue: 0,0:46:40.51,0:46:42.98,yin,,0,0,0,,不过这个AddPhotoViewController可以更通用一些\N{\fs12}But this add photo view controller can be more generic
Dialogue: 0,0:46:42.98,0:46:45.10,yin,,0,0,0,,它可以说 给我一个拍照者\N{\fs12}about it and just say, hey give me a photographer,
Dialogue: 0,0:46:45.10,0:46:48.11,yin,,0,0,0,,我要拍张照 然后为这个拍照者将其添加到数据库\N{\fs12}I'll take a photo and add it to the database for that photographer.
Dialogue: 0,0:46:48.11,0:46:50.38,yin,,0,0,0,,不过我们会有我们的地图\N{\fs12}But we're going to have our map,
Dialogue: 0,0:46:50.38,0:46:52.88,yin,,0,0,0,,PhotosByPhotographerMapViewController\N{\fs12}photos by photographer map view controller.
Dialogue: 0,0:46:52.88,0:46:56.09,yin,,0,0,0,,如果是用户 而且相机按钮被点\N{\fs12}If it's the user and that camera button gets pressed,
Dialogue: 0,0:46:56.09,0:46:58.09,yin,,0,0,0,,我们就会传入用户的那个\N{\fs12}we're going to pass in the user's one.
Dialogue: 0,0:46:58.09,0:46:59.45,yin,,0,0,0,,这是入\N{\fs12}So that's the in.
Dialogue: 0,0:46:59.45,0:47:05.05,yin,,0,0,0,,这里导入Photographer\N{\fs12}So that's import photographer.
Dialogue: 0,0:47:05.05,0:47:07.92,yin,,0,0,0,,我们还需要导入Photo\N{\fs12}And we're also going to import photo while I'm here
Dialogue: 0,0:47:07.92,0:47:14.27,yin,,0,0,0,,因为这个视图控制器还有一个输出 也就是\N{\fs12}because this thing, this view controller also has an output which is
Dialogue: 0,0:47:14.27,0:47:15.88,yin,,0,0,0,,非原子 强\N{\fs12}nonatomic strong
Dialogue: 0,0:47:15.88,0:47:20.38,yin,,0,0,0,,添加到数据库的照片\N{\fs12}the photo that was added to the database.
Dialogue: 0,0:47:20.38,0:47:22.19,yin,,0,0,0,,应该是Photo\N{\fs12}Oops, photo.
Dialogue: 0,0:47:22.19,0:47:25.02,yin,,0,0,0,,这是一个AddPhotoViewController\N{\fs12}Okay so this is an add photo view controller.
Dialogue: 0,0:47:25.02,0:47:27.50,yin,,0,0,0,,它为给定拍照者添加一张照片\N{\fs12}It adds a photo for that given photographer
Dialogue: 0,0:47:27.50,0:47:32.18,yin,,0,0,0,,完成这个后 这就会被设为它添加的照片\N{\fs12}and when it's done doing that, this will be set to the photo it added.
Dialogue: 0,0:47:32.18,0:47:36.76,yin,,0,0,0,,segue到它的人 unwind回来后就能看到\N{\fs12}So anyone who segues to it, when they unwind back, they can look
Dialogue: 0,0:47:36.76,0:47:38.98,yin,,0,0,0,,添加的是什么照片\N{\fs12}and see what was the photo that was added?
Dialogue: 0,0:47:38.98,0:47:41.23,yin,,0,0,0,,理解这里我们做的是什么吗\N{\fs12}That make sense what we're doing there?
Dialogue: 0,0:47:41.23,0:47:46.20,yin,,0,0,0,,我们需要从入和出两方面来实现这个API\N{\fs12}So we have to implement this API both on the way in and on the way out.
Dialogue: 0,0:47:46.20,0:47:47.93,yin,,0,0,0,,首先看入\N{\fs12}So let's talk about on the way in first
Dialogue: 0,0:47:47.93,0:47:50.26,yin,,0,0,0,,因为这是你们习惯的常规segue\N{\fs12}because that's normal segueing that you're used to.
Dialogue: 0,0:47:50.26,0:47:54.16,yin,,0,0,0,,在PhotosByPhotographerMapViewController中来做\N{\fs12}We're just going to do this in our photos by photographer map view controller
Dialogue: 0,0:47:54.16,0:47:56.75,yin,,0,0,0,,我们只需要准备这个segue\N{\fs12}and all we're going to do is prepare that segue.
Dialogue: 0,0:47:56.75,0:47:58.42,yin,,0,0,0,,这之前\N{\fs12}Before we do that let's go ahead
Dialogue: 0,0:47:58.42,0:48:03.10,yin,,0,0,0,,我们先导入AddPhotoViewController\N{\fs12}and import our add photo view controller
Dialogue: 0,0:48:03.10,0:48:05.55,yin,,0,0,0,,因为我们要用它 我们要准备它\N{\fs12}because we're going to use it. We're going to prepare it.
Dialogue: 0,0:48:05.55,0:48:07.61,yin,,0,0,0,,让我们这样做\N{\fs12}And so let's do that.
Dialogue: 0,0:48:07.61,0:48:09.21,yin,,0,0,0,,这是prepareForSegue\N{\fs12}And here's prepare for segue.
Dialogue: 0,0:48:09.21,0:48:12.19,yin,,0,0,0,,这是一个很常规的segue 和其它segue一样\N{\fs12}This is a normal segue just like any other segue
Dialogue: 0,0:48:12.19,0:48:13.69,yin,,0,0,0,,我要准备它\N{\fs12}and I'm just going to prepare it.
Dialogue: 0,0:48:13.69,0:48:16.35,yin,,0,0,0,,让我们说 如果sender…\N{\fs12}Let's say if the sender--
Dialogue: 0,0:48:16.35,0:48:21.35,yin,,0,0,0,,不对 如果segue的目标视图控制器\N{\fs12}no if the segue's destination view controller is kind
Dialogue: 0,0:48:21.35,0:48:26.37,yin,,0,0,0,,是AddPhotoViewController这一类\N{\fs12}of class, add photo view controller,
Dialogue: 0,0:48:26.37,0:48:31.46,yin,,0,0,0,,那么AddPhotoViewController *apvc\N{\fs12}then add photo view controller-- add photo view controller--
Dialogue: 0,0:48:31.46,0:48:35.64,yin,,0,0,0,,= (AddPh… 你们不要沿用我这种糟糕的风格\N{\fs12}equals add ph- yeah you guys should not be using my bad style
Dialogue: 0,0:48:35.64,0:48:39.12,yin,,0,0,0,,我这里只是出于demo方便\N{\fs12}here but that's demo naming right there.
Dialogue: 0,0:48:39.12,0:48:41.46,yin,,0,0,0,,segue.destinationViewController\N{\fs12}Segue dot destination view controller.
Dialogue: 0,0:48:41.46,0:48:45.12,yin,,0,0,0,,这里我有了要segue到的视图控制器\N{\fs12}Okay so now I have the view controller I'm segueing to here
Dialogue: 0,0:48:45.12,0:48:47.03,yin,,0,0,0,,在这个modal segue中\N{\fs12}in this modal segue so I'm going
Dialogue: 0,0:48:47.03,0:48:49.49,yin,,0,0,0,,我要设置它的photographerTakingPhoto\N{\fs12}to set its photographer that's taking the photo
Dialogue: 0,0:48:49.49,0:48:51.53,yin,,0,0,0,,= self.photographer\N{\fs12}equal to self dot photographer.
Dialogue: 0,0:48:51.53,0:48:54.94,yin,,0,0,0,,这将总是用户 因为只有是用户时\N{\fs12}Now this is always going to be the user because the only time
Dialogue: 0,0:48:54.94,0:48:58.95,yin,,0,0,0,,那个相机按钮才会出现在右上角\N{\fs12}that little camera button is there is when it's the user.
Dialogue: 0,0:48:58.95,0:49:03.00,yin,,0,0,0,,不过这里出于双保险考虑 我可以检查是不是用户\N{\fs12}But to be double safe here, maybe I would want to check and see is user, right,
Dialogue: 0,0:49:03.00,0:49:05.29,yin,,0,0,0,,不过这里出于双保险考虑 我可以检查是不是用户\N{\fs12}[inaudible] photographer is user.
Dialogue: 0,0:49:05.29,0:49:08.35,yin,,0,0,0,,这里我就不检查了 毕竟是demo\N{\fs12}But I'm not going to be double safe because it's demo.
Dialogue: 0,0:49:08.35,0:49:09.97,yin,,0,0,0,,这是这个segue\N{\fs12}So there, that's that segue.
Dialogue: 0,0:49:09.97,0:49:13.67,yin,,0,0,0,,如果sender是annotation 我还要处理这个segue\N{\fs12}I'm still going to do this segue if the sender is an annotation.
Dialogue: 0,0:49:13.67,0:49:16.24,yin,,0,0,0,,换言之 有人点了大头针\N{\fs12}In other words, someone clicks on the pin, [inaudible] do that one too.
Dialogue: 0,0:49:16.24,0:49:19.85,yin,,0,0,0,,这里或许我应该放到else里面\N{\fs12}I could probably put an else in here if I wanted to.
Dialogue: 0,0:49:19.85,0:49:21.65,yin,,0,0,0,,或者else if\N{\fs12}Even else if.
Dialogue: 0,0:49:21.65,0:49:23.39,yin,,0,0,0,,像这样\N{\fs12}Something like that.
Dialogue: 0,0:49:23.39,0:49:25.93,yin,,0,0,0,,因为这里不是一种情况 就是另一种\N{\fs12}Okay because obviously it's going to be one or the other.
Dialogue: 0,0:49:25.93,0:49:29.77,yin,,0,0,0,,或许我还应该检查segue标识符 确保是Add Photo\N{\fs12}I also probably could've checked my segues identifier here to make sure it's add photo.
Dialogue: 0,0:49:29.77,0:49:31.45,yin,,0,0,0,,想的话 我可以那样做\N{\fs12}I can do that if I want to.
Dialogue: 0,0:49:31.45,0:49:35.89,yin,,0,0,0,,无论如何 但愿这部分segue你们完全理解了\N{\fs12}But anyway, hopefully this side of this segue you totally understand, right?
Dialogue: 0,0:49:35.89,0:49:39.93,yin,,0,0,0,,常规segue 我们只是采用了modal方式\N{\fs12}Okay, normal segueing, we're just doing it modally rather than not.
Dialogue: 0,0:49:39.93,0:49:41.85,yin,,0,0,0,,现在往前解决了\N{\fs12}Okay, so now we've got to it.
Dialogue: 0,0:49:41.85,0:49:45.27,yin,,0,0,0,,下面才是麻烦的部分 即unwind\N{\fs12}Now the hard part, unwinding.
Dialogue: 0,0:49:45.27,0:49:50.38,yin,,0,0,0,,我们希望在完成工作时听到它的回复\N{\fs12}So now we want to hear about it when the thing is done.
Dialogue: 0,0:49:50.38,0:49:52.32,yin,,0,0,0,,我说过 这个完成时\N{\fs12}And I told you that that's done
Dialogue: 0,0:49:52.32,0:49:58.86,yin,,0,0,0,,通过实现一个特殊的IBAction方法\N{\fs12}by implementing a special IB action, okay, method,
Dialogue: 0,0:49:58.87,0:50:03.21,yin,,0,0,0,,叫什么都行 它unwind时会发生什么呢\N{\fs12}and we can call it anything we want. And what is going to happen when it's unwinding?
Dialogue: 0,0:50:03.21,0:50:04.98,yin,,0,0,0,,一张照片会被添加\N{\fs12}Well a photo's going to be added.
Dialogue: 0,0:50:04.98,0:50:08.76,yin,,0,0,0,,或许我应该把这个方法叫作addedPhoto\N{\fs12}So maybe I'll call this method added photo.
Dialogue: 0,0:50:08.76,0:50:10.34,yin,,0,0,0,,因为这就是它的作用\N{\fs12}Because that's what it does.
Dialogue: 0,0:50:10.34,0:50:17.28,yin,,0,0,0,,真正关键的是 参数是一个UIStoryboardSegue\N{\fs12}And the real key is that the argument is a UI storyboard segue.
Dialogue: 0,0:50:17.28,0:50:22.50,yin,,0,0,0,,这是unwind时需要调用的方法\N{\fs12}So this method is the method that's going to get called when we unwind, all right?
Dialogue: 0,0:50:22.50,0:50:26.73,yin,,0,0,0,,加入这个之后 Xcode就知道了\N{\fs12}Now the very adding of this has caused Xcode to know about it,
Dialogue: 0,0:50:26.73,0:50:30.30,yin,,0,0,0,,当我们回到故事板control拖动\N{\fs12}so that if we go back to our storyboard and wind u-
Dialogue: 0,0:50:30.30,0:50:34.58,yin,,0,0,0,,来关联 来unwind 它就会自动\N{\fs12}you know control drag to hook up and unwind, it's going to know about it.
Dialogue: 0,0:50:34.58,0:50:36.24,yin,,0,0,0,,让我们来做这个\N{\fs12}So let's go do that.
Dialogue: 0,0:50:36.24,0:50:38.59,yin,,0,0,0,,我们回到了这里\N{\fs12}We're back in our thing here.
Dialogue: 0,0:50:38.59,0:50:39.65,yin,,0,0,0,,取消\N{\fs12}Cancel.
Dialogue: 0,0:50:39.65,0:50:41.74,yin,,0,0,0,,我们简单谈下取消\N{\fs12}Let's talk about cancel briefly.
Dialogue: 0,0:50:41.76,0:50:44.18,yin,,0,0,0,,这里我打算在点取消时\N{\fs12}I'm going to make the executive decision that cancel,
Dialogue: 0,0:50:44.18,0:50:46.97,yin,,0,0,0,,仅仅消掉而不unwind\N{\fs12}it's just going to dismiss, it's not going to unwind.
Dialogue: 0,0:50:46.97,0:50:50.11,yin,,0,0,0,,我这里已经有了一个取消方法\N{\fs12}All right? And I already have a cancel method right here.
Dialogue: 0,0:50:50.11,0:50:52.05,yin,,0,0,0,,我已经将它同目标动作关联了起来\N{\fs12}I already wired it up for target action.
Dialogue: 0,0:50:52.05,0:50:53.55,yin,,0,0,0,,怎么做到呢\N{\fs12}So how do I do that?
Dialogue: 0,0:50:53.55,0:50:58.24,yin,,0,0,0,,self.presentingViewController\N{\fs12}Self dot presenting view controller presenting
Dialogue: 0,0:50:58.25,0:51:01.26,yin,,0,0,0,,dismiss… YES\N{\fs12}dismiss, yes.
Dialogue: 0,0:51:01.26,0:51:06.79,yin,,0,0,0,,该完成处理器在视图控制器完全被消掉时就会被调用\N{\fs12}And this completion handler is called once the view controller is fully dismissed.
Dialogue: 0,0:51:06.79,0:51:10.15,yin,,0,0,0,,也就是说 在其viewDidDisappear被调用之后\N{\fs12}In other words, after its view did disappear is called.
Dialogue: 0,0:51:10.15,0:51:12.59,yin,,0,0,0,,那时 我们什么都不需要做\N{\fs12}We don't need to do anything at that time.
Dialogue: 0,0:51:12.59,0:51:16.17,yin,,0,0,0,,有些人认为 这比它实际更神奇\N{\fs12}Some people think this, this is more magic than it is.
Dialogue: 0,0:51:16.17,0:51:19.32,yin,,0,0,0,,这是一个很简单的方式 在这个东西消失后\N{\fs12}It's really just a simple way to, after this thing is gone,
Dialogue: 0,0:51:19.32,0:51:21.16,yin,,0,0,0,,做点什么来收尾\N{\fs12}do something to clean up or something.
Dialogue: 0,0:51:21.16,0:51:24.64,yin,,0,0,0,,不过 我们不需要做这个\N{\fs12}But we're no, we don't need to do that.
Dialogue: 0,0:51:24.64,0:51:26.57,yin,,0,0,0,,无论如何 取消就是这样了\N{\fs12}So anyways, so that's it. So that cancel.
Dialogue: 0,0:51:26.57,0:51:28.76,yin,,0,0,0,,我们现在可以运行一下\N{\fs12}So in fact if we run right now
Dialogue: 0,0:51:30.57,0:51:33.77,yin,,0,0,0,,选My Photos再到这里 取消就能奏效了\N{\fs12}and we bring our photos and we go up here, cancel will work you see?
Dialogue: 0,0:51:33.77,0:51:35.22,yin,,0,0,0,,视图被消掉了\N{\fs12}It just dismisses it.
Dialogue: 0,0:51:35.22,0:51:38.16,yin,,0,0,0,,它没有unwind 没有调用addedPhoto\N{\fs12}And it doesn't unwind, it doesn't call that added photo.
Dialogue: 0,0:51:38.16,0:51:40.70,yin,,0,0,0,,取消只是让其消失\N{\fs12}It just cancels it, gone.
Dialogue: 0,0:51:40.70,0:51:43.90,yin,,0,0,0,,完成 这个是我们要unwind的\N{\fs12}Now done, this is the one we want to unwind.
Dialogue: 0,0:51:43.90,0:51:47.55,yin,,0,0,0,,我们希望它创建这张照片 然后unwind回来\N{\fs12}We want it to create this photo and then unwind back
Dialogue: 0,0:51:47.55,0:51:51.99,yin,,0,0,0,,到这个地图视图控制器 并调用addedPhoto\N{\fs12}to this map view controller right here and call added photo.
Dialogue: 0,0:51:51.99,0:51:54.68,yin,,0,0,0,,addedPhoto被调用时 我们要做什么\N{\fs12}Okay what's, what are we going to do when added photo is called?
Dialogue: 0,0:51:54.68,0:51:56.74,yin,,0,0,0,,我们来看看\N{\fs12}Well, let's see.
Dialogue: 0,0:51:56.74,0:51:59.23,yin,,0,0,0,,我们来做一些事情\N{\fs12}Let's do a couple of things.
Dialogue: 0,0:51:59.23,0:52:03.25,yin,,0,0,0,,一 让我们确保这个的来源\N{\fs12}One, let's make sure that the source
Dialogue: 0,0:52:03.25,0:52:07.94,yin,,0,0,0,,是一个AddPhotoViewController\N{\fs12}of this is an add photo view controller,
Dialogue: 0,0:52:07.94,0:52:09.23,yin,,0,0,0,,它显然应该是\N{\fs12}which it should be
Dialogue: 0,0:52:09.23,0:52:11.24,yin,,0,0,0,,因为我们只知道对这个进行unwind\N{\fs12}because it's the only thing we know how to unwind for.
Dialogue: 0,0:52:11.24,0:52:13.79,yin,,0,0,0,,而且 还有谁能调用addedPhoto呢\N{\fs12}And also because who else would call added photo?
Dialogue: 0,0:52:13.79,0:52:15.19,yin,,0,0,0,,无论如何 我们会检查它\N{\fs12}But we'll check it anyway.
Dialogue: 0,0:52:15.19,0:52:17.44,yin,,0,0,0,,然后 我要复制粘贴这个\N{\fs12}And then we're going to do, I'm going to copy and paste this
Dialogue: 0,0:52:17.44,0:52:19.41,yin,,0,0,0,,这就不需要重新键入了\N{\fs12}so I don't have to type all that again.
Dialogue: 0,0:52:19.41,0:52:20.85,yin,,0,0,0,,不过这里要变\N{\fs12}Okay now I'm just going to change,
Dialogue: 0,0:52:20.85,0:52:23.04,yin,,0,0,0,,这是源视图控制器\N{\fs12}but this is the source view controller instead
Dialogue: 0,0:52:23.04,0:52:25.50,yin,,0,0,0,,而不是目标视图控制器\N{\fs12}of the destination view controller.
Dialogue: 0,0:52:25.50,0:52:26.93,yin,,0,0,0,,我有了我的apvc\N{\fs12}So I've got my APVC.
Dialogue: 0,0:52:26.93,0:52:30.51,yin,,0,0,0,,然后我说 添加的照片是什么\N{\fs12}Now I'm going to say, okay well what was the photo that was added?
Dialogue: 0,0:52:30.51,0:52:33.48,yin,,0,0,0,,是apvc的addedPhoto\N{\fs12}Well it's the APVCs added photo.
Dialogue: 0,0:52:33.48,0:52:38.17,yin,,0,0,0,,这是它公共API的一部分 公共API的出那部分\N{\fs12}That's part of its public API, the out of its public API.
Dialogue: 0,0:52:38.17,0:52:40.47,yin,,0,0,0,,我把这抓出来 我打算说\N{\fs12}So I'm grabbing that out, and now I'm going to say
Dialogue: 0,0:52:40.47,0:52:43.73,yin,,0,0,0,,如果我们加了一张照片 那么我想做什么呢\N{\fs12}if we added a photo, then what might I want to do?
Dialogue: 0,0:52:43.73,0:52:47.27,yin,,0,0,0,,我在显示PhotosByPhotographer\N{\fs12}I'm the map view-- I'm showing photos by a photographer
Dialogue: 0,0:52:47.27,0:52:49.33,yin,,0,0,0,,因此我可以这样\N{\fs12}so I probably want to do, for example,
Dialogue: 0,0:52:49.33,0:52:53.02,yin,,0,0,0,,mapView addAnnotation 这张addedPhoto\N{\fs12}map view, add annotation this added photo.
Dialogue: 0,0:52:53.02,0:52:55.48,yin,,0,0,0,,换言之 将这张照片加到我的地图\N{\fs12}In other words, add this photo to my map.
Dialogue: 0,0:52:55.48,0:53:01.16,yin,,0,0,0,,我还可以说 self.mapView 显示那个annotation\N{\fs12}I might also want to say self dot map view show that annotation.
Dialogue: 0,0:53:01.16,0:53:05.48,yin,,0,0,0,,放大到那个拍照所在的位置\N{\fs12}Zoom in to that part of the world where the photo was taken.
Dialogue: 0,0:53:05.48,0:53:07.40,yin,,0,0,0,,我或许还可以说\N{\fs12}I might want to say, I probably want to say
Dialogue: 0,0:53:07.40,0:53:09.36,yin,,0,0,0,,photosByPhotographer = nil\N{\fs12}photos by photography equals nil
Dialogue: 0,0:53:09.36,0:53:10.61,yin,,0,0,0,,并重新计算这个\N{\fs12}and have that recalculate
Dialogue: 0,0:53:10.61,0:53:12.98,yin,,0,0,0,,因为我为这个拍照者添加了一张新照片\N{\fs12}because I've added a new photo for this photographer.
Dialogue: 0,0:53:12.98,0:53:15.95,yin,,0,0,0,,这样下次有人问我这个 它就能够工作\N{\fs12}So the next time someone asks me about that it'll work.
Dialogue: 0,0:53:15.95,0:53:19.46,yin,,0,0,0,,否则 出于教学目的 我可以查看日志\N{\fs12}Otherwise, for instructional purposes here, I'm going to log
Dialogue: 0,0:53:19.46,0:53:20.78,yin,,0,0,0,,这里我可以说\N{\fs12}and say
Dialogue: 0,0:53:20.78,0:53:25.39,yin,,0,0,0,,AddPhotoViewController没有…\N{\fs12}add photo view controller, did not--
Dialogue: 0,0:53:25.39,0:53:32.60,yin,,0,0,0,,我甚至可以说 出乎意料地没有添加照片\N{\fs12}or I'll even say-- unexpectedly did not add a photo.
Dialogue: 0,0:53:32.60,0:53:37.28,yin,,0,0,0,,因为unwind时 应该会添加一张照片\N{\fs12}Okay because if I'm getting unwound to, it should have added a photo.
Dialogue: 0,0:53:37.28,0:53:40.27,yin,,0,0,0,,如果这里是nil 那就肯定出错了\N{\fs12}Okay so if this is nil, then something's wrong.
Dialogue: 0,0:53:40.27,0:53:43.00,yin,,0,0,0,,我们会看到这种情况发生\N{\fs12}So but we're going to see that happen because we're going
Dialogue: 0,0:53:43.00,0:53:46.11,yin,,0,0,0,,我们会尝试没添加照片到数据库的情况\N{\fs12}to try this without adding the, without the photo being added
Dialogue: 0,0:53:46.11,0:53:48.02,yin,,0,0,0,,看看那时会发生什么\N{\fs12}to the database and see what happens here.
Dialogue: 0,0:53:48.02,0:53:50.54,yin,,0,0,0,,大家都理解这些对吧\N{\fs12}So everyone understands what happen- what's going on here right?
Dialogue: 0,0:53:50.54,0:53:52.80,yin,,0,0,0,,我们正unwind回这个\N{\fs12}We're unwinding back to this guy.
Dialogue: 0,0:53:52.80,0:53:55.95,yin,,0,0,0,,这个正在接收unwind\N{\fs12}This guy is receiving the unwind
Dialogue: 0,0:53:55.95,0:53:58.98,yin,,0,0,0,,并对添加的照片做些什么\N{\fs12}and doing something with the photo that was added with the add photo.
Dialogue: 0,0:53:58.98,0:54:03.64,yin,,0,0,0,,好 让我们把这些关联起来\N{\fs12}All right so now let's go ahead and wire that up.
Dialogue: 0,0:54:03.64,0:54:08.08,yin,,0,0,0,,我说了 我们会选择这里导致unwind的UI\N{\fs12}So as I said, we're going to pick whatever UI in here is going to cause the unwind,
Dialogue: 0,0:54:08.08,0:54:09.03,yin,,0,0,0,,也就是完成按钮\N{\fs12}which is the done button.
Dialogue: 0,0:54:09.03,0:54:11.47,yin,,0,0,0,,我要control拖动到这个绿色按钮\N{\fs12}I'm going to control drag to this green button.
Dialogue: 0,0:54:11.47,0:54:14.08,yin,,0,0,0,,释放后 看看会发生什么\N{\fs12}And when I let go, watch what happens.
Dialogue: 0,0:54:14.08,0:54:17.95,yin,,0,0,0,,看到addedPhoto出现在列表中了吗\N{\fs12}You see how added photo is in the list?
Dialogue: 0,0:54:17.95,0:54:22.53,yin,,0,0,0,,拥有UIStoryboardSegue作为参数的任何IBAction\N{\fs12}And every single IB action that had a UI storyboard segue as an argument
Dialogue: 0,0:54:22.53,0:54:24.16,yin,,0,0,0,,都会被列在这里\N{\fs12}would be listed here.
Dialogue: 0,0:54:24.16,0:54:27.65,yin,,0,0,0,,不过这里只有addedPhoto 这正是我们要的\N{\fs12}But added photo, obviously only one, it's the one we want,
Dialogue: 0,0:54:27.65,0:54:28.82,yin,,0,0,0,,我要点这个\N{\fs12}so I'm going to click that.
Dialogue: 0,0:54:28.82,0:54:34.00,yin,,0,0,0,,现在 我创建了unwind 它会unwind回这个\N{\fs12}So now I've created an unwind that will unwind back to this guy.
Dialogue: 0,0:54:34.00,0:54:38.04,yin,,0,0,0,,我说过 这只能在文档大纲中看到\N{\fs12}And I told you that the only place you can really see this is in the document outline.
Dialogue: 0,0:54:38.04,0:54:38.88,yin,,0,0,0,,这里\N{\fs12}You can see it right here.
Dialogue: 0,0:54:38.88,0:54:43.29,yin,,0,0,0,,看到了吗 unwind segue从完成到退出\N{\fs12}See? Unwind segue from done to exit.
Dialogue: 0,0:54:43.29,0:54:45.84,yin,,0,0,0,,这是一个常规的segue\N{\fs12}And I can, this is a normal segue
Dialogue: 0,0:54:45.84,0:54:48.06,yin,,0,0,0,,因此我可以设置它的标识符\N{\fs12}so I could set its identifier for example to something
Dialogue: 0,0:54:48.06,0:54:52.00,yin,,0,0,0,,例如Do Add Photo这之类\N{\fs12}like do add photo or something like that
Dialogue: 0,0:54:52.00,0:54:54.76,yin,,0,0,0,,因为该unwind segue的作用就是添加照片\N{\fs12}because that's what this unwind segue does. It does the add photo.
Dialogue: 0,0:54:54.76,0:54:56.95,yin,,0,0,0,,这就是完成的作用\N{\fs12}It's the done basically.
Dialogue: 0,0:54:56.95,0:54:58.42,yin,,0,0,0,,不过这个我甚至不需要做\N{\fs12}Okay but I wouldn't even need to do that.
Dialogue: 0,0:54:58.42,0:55:02.44,yin,,0,0,0,,最后我还是需要做这个 不过目前还不用\N{\fs12}So let's go-- well I will need to do it eventually-- but for this so far I didn't.
Dialogue: 0,0:55:02.44,0:55:06.30,yin,,0,0,0,,下面我运行一下 看会发生什么\N{\fs12}So let's go ahead and see what happens here when we run this.
Dialogue: 0,0:55:06.30,0:55:08.68,yin,,0,0,0,,我打算到这里 再到这里\N{\fs12}Okay so I'm going to go here, I'm going to go here,
Dialogue: 0,0:55:08.68,0:55:12.65,yin,,0,0,0,,这次点完成 看它unwind\N{\fs12}and I'm going to hit done this time and we'll watch it unwind.
Dialogue: 0,0:55:12.65,0:55:14.18,yin,,0,0,0,,它unwind了\N{\fs12}Okay it unwound, right?
Dialogue: 0,0:55:14.18,0:55:17.54,yin,,0,0,0,,窗口被消掉\N{\fs12}It dis- dismissed it.
Dialogue: 0,0:55:17.54,0:55:20.35,yin,,0,0,0,,看看下面这里的控制台信息\N{\fs12}And look down in my console down here.
Dialogue: 0,0:55:20.35,0:55:24.15,yin,,0,0,0,,AddPhotoViewController出乎意料地没有添加照片\N{\fs12}Add photo view unexpectedly did not add a photo
Dialogue: 0,0:55:24.15,0:55:25.97,yin,,0,0,0,,这正是我们所期望的\N{\fs12}which is exactly what we'd expect, right?
Dialogue: 0,0:55:25.97,0:55:31.40,yin,,0,0,0,,它unwind到了这里 做了这个 但没有添加照片\N{\fs12}It unwound over to here, did this, but it never added the photo
Dialogue: 0,0:55:31.40,0:55:35.60,yin,,0,0,0,,因为UI中我没有获得所有信息\N{\fs12}because I never take all the information here that's in my UI
Dialogue: 0,0:55:35.60,0:55:38.61,yin,,0,0,0,,例如标题 副标题 照片\N{\fs12}like the title, the subtitle, the photo--
Dialogue: 0,0:55:38.61,0:55:41.94,yin,,0,0,0,,我没有把这些添加到照片中 并添加到数据库\N{\fs12}I never put them into a photo and added it to the database.
Dialogue: 0,0:55:41.94,0:55:43.14,yin,,0,0,0,,它说得没错\N{\fs12}So it's right.
Dialogue: 0,0:55:43.14,0:55:47.97,yin,,0,0,0,,这里的汇报很正确 因为确实没有添加照片\N{\fs12}This thing is properly reporting here that it did not add a photo.
Dialogue: 0,0:55:47.97,0:55:50.08,yin,,0,0,0,,我们来处理这个 怎么做呢\N{\fs12}So let's do that. How do we do that?
Dialogue: 0,0:55:50.08,0:55:54.69,yin,,0,0,0,,这就是prepareForSegue对unwind非常重要的地方\N{\fs12}This is where prepare for segue is so important for unwinds.
Dialogue: 0,0:55:54.69,0:55:56.60,yin,,0,0,0,,因为prepareForSegue…\N{\fs12}Because prepare for segue--
Dialogue: 0,0:55:56.60,0:56:00.84,yin,,0,0,0,,因为这个unwind segue发生在这个视图控制器中\N{\fs12}since this unwind segue happens in this view controller, okay--
Dialogue: 0,0:56:00.84,0:56:03.88,yin,,0,0,0,,unwind到这里 所以这个需要准备\N{\fs12}unwinds over to there, this guy gets to prepare.
Dialogue: 0,0:56:03.88,0:56:09.09,yin,,0,0,0,,这个在做准备时 需要创建照片\N{\fs12}And what this guy wants to do when he prepares is create that photo.
Dialogue: 0,0:56:09.09,0:56:10.34,yin,,0,0,0,,理解吗\N{\fs12}Make sense?
Dialogue: 0,0:56:10.34,0:56:13.41,yin,,0,0,0,,这里要创建照片 我们只需要prepareForSegue\N{\fs12}So all we got to do to make that photo is implement prepare
Dialogue: 0,0:56:13.41,0:56:15.87,yin,,0,0,0,,这里 在添加视图控制器中\N{\fs12}for segue here in this add view controller.
Dialogue: 0,0:56:15.87,0:56:17.71,yin,,0,0,0,,我们来做这个\N{\fs12}So let's do that.
Dialogue: 0,0:56:17.71,0:56:20.77,yin,,0,0,0,,添加视图控制器中 放到这里\N{\fs12}Add view controller. Let's put this right here.
Dialogue: 0,0:56:20.77,0:56:23.51,yin,,0,0,0,,这是常规的prepareForSegue\N{\fs12}This is normal prepare for segue here.
Dialogue: 0,0:56:23.51,0:56:26.64,yin,,0,0,0,,我们需要明确是哪个segue\N{\fs12}We need to figure out which segue it is
Dialogue: 0,0:56:26.64,0:56:32.09,yin,,0,0,0,,我们这里不能看目标视图控制器\N{\fs12}and so we could-- we really can't look at the destination view controller here.
Dialogue: 0,0:56:32.09,0:56:34.52,yin,,0,0,0,,因为添加照片视图控制器可以说是\N{\fs12}Because add photo view controller is kind of like part
Dialogue: 0,0:56:34.52,0:56:36.99,yin,,0,0,0,,另外一个视图控制器的视图的一部分\N{\fs12}of the view of that other view controller.
Dialogue: 0,0:56:36.99,0:56:39.60,yin,,0,0,0,,关于PhotosByPhotographerMapViewController\N{\fs12}So it really can't be looking, it can't know anything
Dialogue: 0,0:56:39.60,0:56:42.00,yin,,0,0,0,,它不知道任何信息\N{\fs12}about the photos by photographer map view controller.
Dialogue: 0,0:56:42.00,0:56:46.27,yin,,0,0,0,,不过我们可以看segue的标识符\N{\fs12}But what we can do is look at the segue's identifier.
Dialogue: 0,0:56:46.27,0:56:49.49,yin,,0,0,0,,如果segue的标识符是之前我设置的\N{\fs12}So if the segue's identifier is what I set there
Dialogue: 0,0:56:49.49,0:56:51.68,yin,,0,0,0,,也就是Do Add Photo\N{\fs12}which was do add photo, right?
Dialogue: 0,0:56:51.68,0:56:53.87,yin,,0,0,0,,这是我之前在故事板中设置的\N{\fs12}That's what I set it to in the storyboard--
Dialogue: 0,0:56:53.87,0:56:57.06,yin,,0,0,0,,或许这里我们可以这样做\N{\fs12}and probably we want to have this be called something
Dialogue: 0,0:56:57.06,0:57:02.33,yin,,0,0,0,,写上UNWIND_SEGUE_IDENTIFIER 像这样\N{\fs12}like unwind segue identifier or something like that.
Dialogue: 0,0:57:02.33,0:57:07.86,yin,,0,0,0,,在上面这里定义 复制 #define\N{\fs12}We'll put this up here. Copy, pound sign, define.
Dialogue: 0,0:57:07.86,0:57:11.42,yin,,0,0,0,,像这样 这就定义了一个常数\N{\fs12}Like that. So I have a nice constant there.
Dialogue: 0,0:57:11.42,0:57:14.02,yin,,0,0,0,,马上我们就会用到这个常数\N{\fs12}We're going to need this constant in a second as you'll see.
Dialogue: 0,0:57:14.02,0:57:17.96,yin,,0,0,0,,如果这是unwind 那么我们就希望创建照片\N{\fs12}So if this is the unwind, then we want to create that photo.
Dialogue: 0,0:57:17.96,0:57:19.20,yin,,0,0,0,,创建照片需要什么呢\N{\fs12}So what do we need to create the photo?
Dialogue: 0,0:57:19.20,0:57:22.80,yin,,0,0,0,,首先 我需要一个ManagedObjectContext\N{\fs12}Well, first thing I need is a managed object context.
Dialogue: 0,0:57:22.80,0:57:26.30,yin,,0,0,0,,如果对数据库无能为力 我就创建不了照片\N{\fs12}Okay I can't create a photo unless I have a handle on the database.
Dialogue: 0,0:57:26.30,0:57:31.76,yin,,0,0,0,,不过我可以做到 因为self.photographerTakingPhoto\N{\fs12}But I do because self dot photographer taking the photo
Dialogue: 0,0:57:31.76,0:57:34.05,yin,,0,0,0,,有一个ManagedObjectContext 我要把这张照片\N{\fs12}has a managed object context, so I'm going to put this photo
Dialogue: 0,0:57:34.05,0:57:37.09,yin,,0,0,0,,放到拍照者相同的数据库中 这也正是我要的\N{\fs12}in the same database that the photographer's in which is exactly what I want.
Dialogue: 0,0:57:37.77,0:57:39.01,yin,,0,0,0,,这很好\N{\fs12}So that's good.
Dialogue: 0,0:57:39.01,0:57:43.49,yin,,0,0,0,,如果这个context不是nil 那么我们就能创建照片\N{\fs12}So if that context is not nil, then we can create our photo.
Dialogue: 0,0:57:43.49,0:57:50.99,yin,,0,0,0,,Photo *photo = … 之前还需要导入Photo\N{\fs12}So photo star photo equals, and let's import photo.
Dialogue: 0,0:57:50.99,0:57:53.36,yin,,0,0,0,,如何创建照片呢\N{\fs12}Okay, so how do we create a photo?
Dialogue: 0,0:57:53.36,0:57:58.73,yin,,0,0,0,,NSEntityDescription insertNewObjectForIdentity…\N{\fs12}NS entity description, insert new object for identity,
Dialogue: 0,0:57:58.73,0:58:00.19,yin,,0,0,0,,Photo\N{\fs12}photo,
Dialogue: 0,0:58:00.19,0:58:02.88,yin,,0,0,0,,而context是context\N{\fs12}and the context is that context.
Dialogue: 0,0:58:02.88,0:58:04.64,yin,,0,0,0,,我这就创建了一张照片\N{\fs12}All right I've created a photo!
Dialogue: 0,0:58:04.64,0:58:06.50,yin,,0,0,0,,下面 我只需要设置照片中的所有信息\N{\fs12}Now I just need to set everything in the photo.
Dialogue: 0,0:58:06.50,0:58:14.67,yin,,0,0,0,,photo.title = self.titleTextField.text\N{\fs12}So photo dot title equals self dot title text field dot text.
Dialogue: 0,0:58:14.67,0:58:18.89,yin,,0,0,0,,错了 删掉方括号\N{\fs12}Oops. Get rid of these square brackets.
Dialogue: 0,0:58:18.89,0:58:24.85,yin,,0,0,0,,然后photo.subtitle = self.subtitleTextField.text\N{\fs12}All right, and photo dot subtitle equals self dot subtitle title field dot text.
Dialogue: 0,0:58:24.85,0:58:27.90,yin,,0,0,0,,这时 我们就能从那些文本框中抓出文本了\N{\fs12}So here's how we are grabbing the text out of those text fields
Dialogue: 0,0:58:27.90,0:58:30.02,yin,,0,0,0,,就像使用标签一样\N{\fs12}just using, just like a label, right?
Dialogue: 0,0:58:30.02,0:58:33.23,yin,,0,0,0,,抓取文本属性 这是一个NSString\N{\fs12}Just grabbing the text property which is an NS string.
Dialogue: 0,0:58:33.23,0:58:36.21,yin,,0,0,0,,我们还从该照片中获得什么\N{\fs12}And what else do we got to get out of this photo?
Dialogue: 0,0:58:36.21,0:58:38.10,yin,,0,0,0,,还有不少信息\N{\fs12}Well quite a few other things actually.
Dialogue: 0,0:58:38.10,0:58:40.83,yin,,0,0,0,,我们得到photo.whoTook\N{\fs12}We got photo dot who took.
Dialogue: 0,0:58:40.83,0:58:45.14,yin,,0,0,0,,都知道这是什么吧\N{\fs12}Everyone know what that is?
Dialogue: 0,0:58:45.14,0:58:49.17,yin,,0,0,0,,photographerTakingPhoto 这就是这里的whoTook\N{\fs12}All right, photographer taking the photo, that's who took this thing.
Dialogue: 0,0:58:49.17,0:58:52.84,yin,,0,0,0,,photo.latitude呢\N{\fs12}How about photo dot latitude?
Dialogue: 0,0:58:52.84,0:58:55.22,yin,,0,0,0,,我们还没有纬度\N{\fs12}Okay, well we don't have the latitude.
Dialogue: 0,0:58:55.22,0:59:00.82,yin,,0,0,0,,我们需要获取纬度 为此 这里我需要添加一些属性\N{\fs12}We've got to get that latitude, so to do that I'm going to add some properties here.
Dialogue: 0,0:59:00.82,0:59:02.52,yin,,0,0,0,,我添加了这些属性\N{\fs12}Okay so I added these properties.
Dialogue: 0,0:59:02.52,0:59:06.61,yin,,0,0,0,,一个是跟踪位置 在CLLocation中\N{\fs12}One is to keep track of our location, in the CL location.
Dialogue: 0,0:59:06.61,0:59:08.91,yin,,0,0,0,,一个是跟踪图像的URL\N{\fs12}One is to keep track of the URL of our image.
Dialogue: 0,0:59:08.91,0:59:10.28,yin,,0,0,0,,一个是缩略图\N{\fs12}One is our thumbnail.
Dialogue: 0,0:59:10.28,0:59:14.69,yin,,0,0,0,,而且我还说 addedPhoto等于某个东西\N{\fs12}And also I'm going to say add photo, added photo equals something.
Dialogue: 0,0:59:14.69,0:59:16.62,yin,,0,0,0,,这个设置为读写\N{\fs12}So I'm going to make this one read write and I'm going
Dialogue: 0,0:59:16.62,0:59:18.99,yin,,0,0,0,,而这个设置为只读\N{\fs12}to make this one read only over here.
Dialogue: 0,0:59:18.99,0:59:22.50,yin,,0,0,0,,这样这个参数就只能往外出去\N{\fs12}So that this is truly an outgoing parameter.
Dialogue: 0,0:59:22.50,0:59:25.35,yin,,0,0,0,,这里面设置为读写\N{\fs12}So I'll make it read write here internally.
Dialogue: 0,0:59:25.35,0:59:29.80,yin,,0,0,0,,我需要导入Core Location\N{\fs12}So I need to import core location,
Dialogue: 0,0:59:29.80,0:59:33.46,yin,,0,0,0,,因为这里在用Core Location\N{\fs12}okay because I'm using core location right here.
Dialogue: 0,0:59:33.46,0:59:36.66,yin,,0,0,0,,我们还要设置这个位置 等下我们就会这样做\N{\fs12}Okay and we're going to have to set this location which we'll do in a moment.
Dialogue: 0,0:59:36.66,0:59:37.95,yin,,0,0,0,,不过现在 我们到这里\N{\fs12}But in the meantime, let's go here.
Dialogue: 0,0:59:37.95,0:59:43.38,yin,,0,0,0,,这将是self.location.coordinate.latitude\N{\fs12}This is going to be self dot location dot coordinate dot latitude.
Dialogue: 0,0:59:43.38,0:59:45.53,yin,,0,0,0,,然后photo.longitude =\N{\fs12}And photo out longitude equals
Dialogue: 0,0:59:45.53,0:59:49.47,yin,,0,0,0,,self.location.coordinate.longitude\N{\fs12}self dot location dot coordinate dot longitude.
Dialogue: 0,0:59:49.47,0:59:53.06,yin,,0,0,0,,然后我们说photo.imageURL =\N{\fs12}And then let's say photo dot image URL equals
Dialogue: 0,0:59:53.06,0:59:57.23,yin,,0,0,0,,self.imageURL absoluteString\N{\fs12}self dot image dot URL, absolute string
Dialogue: 0,0:59:57.23,0:59:59.07,yin,,0,0,0,,我们需要实现这个\N{\fs12}and we're going to have to implement this.
Dialogue: 0,0:59:59.07,1:00:02.61,yin,,0,0,0,,因为现在 我们的图像只是在那个图像视图中\N{\fs12}Because right now our image is just in that image view.
Dialogue: 0,1:00:02.61,1:00:05.92,yin,,0,0,0,,我们需要把它放到磁盘上 并得到一个URL\N{\fs12}We're going to have to put it on disk and get a URL to it.
Dialogue: 0,1:00:05.92,1:00:07.41,yin,,0,0,0,,我们需要实现这个\N{\fs12}So we'll have to implement that.
Dialogue: 0,1:00:07.43,1:00:09.72,yin,,0,0,0,,然后我们有photo.thumbnailURL =\N{\fs12}And then we got photo dot thumbnail URL equals
Dialogue: 0,1:00:09.72,1:00:13.26,yin,,0,0,0,,这里还是一样的做法 absoluteString\N{\fs12}or do the same thing here, absolute string.
Dialogue: 0,1:00:13.26,1:00:15.20,yin,,0,0,0,,最后我们要说\N{\fs12}Okay and then finally we're going to say
Dialogue: 0,1:00:15.20,1:00:18.73,yin,,0,0,0,,self.addedPhoto = photo\N{\fs12}self dot added photo equals the photo.
Dialogue: 0,1:00:22.13,1:00:25.03,yin,,0,0,0,,在unwind中 在unwind的准备中\N{\fs12}So in the unwind, in preparing for the unwind,
Dialogue: 0,1:00:25.03,1:00:26.85,yin,,0,0,0,,我们将照片放入了数据库\N{\fs12}we put that photo in the database.
Dialogue: 0,1:00:26.85,1:00:29.06,yin,,0,0,0,,不过这里可能会有问题\N{\fs12}Now, there could be a problem here.
Dialogue: 0,1:00:29.06,1:00:31.41,yin,,0,0,0,,如果用户还没有拍照呢\N{\fs12}What happens if the user hasn't taken a photo yet?
Dialogue: 0,1:00:31.41,1:00:34.40,yin,,0,0,0,,它们没有点拍照\N{\fs12}Okay, they haven't hit take photo.
Dialogue: 0,1:00:34.40,1:00:35.90,yin,,0,0,0,,我不能做这些\N{\fs12}Th- I can't do this.
Dialogue: 0,1:00:35.90,1:00:39.76,yin,,0,0,0,,空照片什么意义都没有\N{\fs12}Okay a photo of, blank photo makes no sense whatsoever.
Dialogue: 0,1:00:39.76,1:00:43.03,yin,,0,0,0,,这是一个常规的segue准备\N{\fs12}So this is a normal segue preparation.
Dialogue: 0,1:00:43.03,1:00:45.15,yin,,0,0,0,,我还可以这样做 BOOL\N{\fs12}So I can also do bool
Dialogue: 0,1:00:45.16,1:00:49.70,yin,,0,0,0,,shouldPerformSegueWithIdentifier\N{\fs12}should perform segue with the identifier.
Dialogue: 0,1:00:49.70,1:00:54.40,yin,,0,0,0,,用来检查点击时是否应该进行unwind\N{\fs12}So this is whether we should do the unwind at all when we click it.
Dialogue: 0,1:00:54.40,1:00:56.54,yin,,0,0,0,,我还是要做相同的事情\N{\fs12}So again I'm going to do the same,
Dialogue: 0,1:00:56.54,1:00:59.60,yin,,0,0,0,,如果segue的标识符等于那个UNWIND常数\N{\fs12}if segue identifier is that unwind guy.
Dialogue: 0,1:00:59.60,1:01:02.56,yin,,0,0,0,,然后我要检查一些东西\N{\fs12}And then I'm just going to check some things
Dialogue: 0,1:01:02.56,1:01:09.24,yin,,0,0,0,,如果没有self.image 那么我就会警告\N{\fs12}to make sure things are okay like if not self dot image, then I'm going to complain.
Dialogue: 0,1:01:09.24,1:01:12.97,yin,,0,0,0,,这里我们说 尚未拍照\N{\fs12}So let's say no photo taken.
Dialogue: 0,1:01:14.41,1:01:19.00,yin,,0,0,0,,我可以说 否则\N{\fs12}Okay or I might say or else
Dialogue: 0,1:01:19.00,1:01:27.27,yin,,0,0,0,,如果self.titleTextField.text length\N{\fs12}if self dot title text field dot text length
Dialogue: 0,1:01:27.27,1:01:31.26,yin,,0,0,0,,非 这里我强制要求标题存在\N{\fs12}not-- so if, I'll force a title here
Dialogue: 0,1:01:31.26,1:01:37.01,yin,,0,0,0,,这时我也要self alert说 必须有标题\N{\fs12}and I'll say self alert title required.
Dialogue: 0,1:01:37.01,1:01:38.74,yin,,0,0,0,,这里叹号好多\N{\fs12}Too many exclamation points there.
Dialogue: 0,1:01:38.74,1:01:40.42,yin,,0,0,0,,否则 返回YES\N{\fs12}Otherwise, we'll return yes.
Dialogue: 0,1:01:40.42,1:01:45.61,yin,,0,0,0,,这两种情况下我们都应返回NO 不应segue\N{\fs12}In both of these cases we want to return no that we should not segue.
Dialogue: 0,1:01:45.61,1:01:52.31,yin,,0,0,0,,在尝试这些segue之前 我们先来看这个\N{\fs12}Now before we go on and try all this segueing stuff, let's talk about this okay?
Dialogue: 0,1:01:52.31,1:01:56.41,yin,,0,0,0,,看到这个方法了吗 alert 我还没有定义\N{\fs12}See this little method alert which I haven't defined yet?
Dialogue: 0,1:01:56.41,1:01:57.75,yin,,0,0,0,,让我们来实现这个\N{\fs12}Let's go ahead and implement that.
Dialogue: 0,1:01:57.75,1:02:01.18,yin,,0,0,0,,这对于我们讨论警告视图是个不错的例子\N{\fs12}This is a good aside for us to talk about alert view here.
Dialogue: 0,1:02:01.18,1:02:07.41,yin,,0,0,0,,我们这样 (void)alert:(NSString *)msg\N{\fs12}So let's do void alert NS string, message.
Dialogue: 0,1:02:07.41,1:02:12.94,yin,,0,0,0,,我们这里会显示一个警告框 给出这个消息\N{\fs12}What we want to do here is put up an alert that says whatever that message is.
Dialogue: 0,1:02:12.94,1:02:14.24,yin,,0,0,0,,如何做到呢\N{\fs12}So how do we do that?
Dialogue: 0,1:02:14.24,1:02:20.17,yin,,0,0,0,,UIAlertVIew alloc init这一长串\N{\fs12}UI alert view, alloc init this long thing.
Dialogue: 0,1:02:20.18,1:02:21.47,yin,,0,0,0,,标题是什么\N{\fs12}What's the title?
Dialogue: 0,1:02:21.47,1:02:25.50,yin,,0,0,0,,我们正在添加照片 不妨设这个为警告框\N{\fs12}Well, we're adding a photo so we'll say the title of this alert.
Dialogue: 0,1:02:25.50,1:02:26.66,yin,,0,0,0,,顶部的标题\N{\fs12}That's the little title at the top.
Dialogue: 0,1:02:26.66,1:02:28.50,yin,,0,0,0,,不是消息 而是顶部标题\N{\fs12}Not the message but the title at the top.
Dialogue: 0,1:02:28.50,1:02:29.07,yin,,0,0,0,,添加照片\N{\fs12}Say add photo.
Dialogue: 0,1:02:29.07,1:02:32.14,yin,,0,0,0,,消息则是我们想在这里显示的消息\N{\fs12}The message is the message that we want to give right here.
Dialogue: 0,1:02:32.14,1:02:35.51,yin,,0,0,0,,委托 这个我设为不要委托\N{\fs12}Delegate, I'm going to make this one have no delegate.
Dialogue: 0,1:02:35.51,1:02:37.26,yin,,0,0,0,,等下再来看委托\N{\fs12}Show it with a delegate in a minute.
Dialogue: 0,1:02:37.26,1:02:38.28,yin,,0,0,0,,取消按钮\N{\fs12}Cancel button.
Dialogue: 0,1:02:38.28,1:02:40.05,yin,,0,0,0,,没有取消\N{\fs12}There's no cancel.
Dialogue: 0,1:02:40.05,1:02:43.57,yin,,0,0,0,,唯一的按钮是OK\N{\fs12}And the only button is okay.
Dialogue: 0,1:02:43.57,1:02:50.53,yin,,0,0,0,,我创建了这个警告视图 下面我要显示它\N{\fs12}So I've created this alert view, now I'm going to show it.
Dialogue: 0,1:02:50.53,1:02:52.42,yin,,0,0,0,,都理解了吗\N{\fs12}Everyone understand that?
Dialogue: 0,1:02:52.42,1:02:54.44,yin,,0,0,0,,这里不过是显示\N{\fs12}So that's just showing.
Dialogue: 0,1:02:54.44,1:02:57.96,yin,,0,0,0,,我们来看看这个\N{\fs12}So let's go ahead and take a look at this.
Dialogue: 0,1:02:57.96,1:02:59.49,yin,,0,0,0,,看看这里怎么了\N{\fs12}What have we got here?
Dialogue: 0,1:02:59.49,1:03:04.46,yin,,0,0,0,,抱歉 这里只是一个标识符\N{\fs12}Oh sorry, this is just the identifier.
Dialogue: 0,1:03:07.59,1:03:09.03,yin,,0,0,0,,看看还有什么\N{\fs12}Yeah what else have we got here?
Dialogue: 0,1:03:09.03,1:03:16.54,yin,,0,0,0,,这里是否则 返回super should…\N{\fs12}Okay this else return super should okay?
Dialogue: 0,1:03:16.54,1:03:19.88,yin,,0,0,0,,这里是说 如果这不是我们的标识符\N{\fs12}That's if we don't, if it's not our identifier,
Dialogue: 0,1:03:19.88,1:03:23.28,yin,,0,0,0,,而是别的 那么我们就用super\N{\fs12}it's some other one, then we'll do super.
Dialogue: 0,1:03:23.28,1:03:24.57,yin,,0,0,0,,让我们这样做\N{\fs12}So let's do that.
Dialogue: 0,1:03:24.59,1:03:26.53,yin,,0,0,0,,进入照片\N{\fs12}All right so we'll go to photos.
Dialogue: 0,1:03:26.53,1:03:27.48,yin,,0,0,0,,到这里\N{\fs12}We go here.
Dialogue: 0,1:03:27.48,1:03:29.50,yin,,0,0,0,,下面尝试unwind\N{\fs12}Now let's try to unwind.
Dialogue: 0,1:03:29.50,1:03:30.89,yin,,0,0,0,,尚未拍照\N{\fs12}No photo taken.
Dialogue: 0,1:03:30.89,1:03:33.46,yin,,0,0,0,,shouldPerform方法给出了警告\N{\fs12}So did our should perform put up an alert?
Dialogue: 0,1:03:33.46,1:03:35.09,yin,,0,0,0,,尚未拍照\N{\fs12}No photo taken.
Dialogue: 0,1:03:35.09,1:03:37.46,yin,,0,0,0,,看到了吗 这很好\N{\fs12}See that? So that's good.
Dialogue: 0,1:03:37.46,1:03:40.83,yin,,0,0,0,,我们尝试unwind 这样unwind就快搞定了\N{\fs12}So we're trying to unwind so we're getting closer to unwinding.
Dialogue: 0,1:03:40.83,1:03:45.63,yin,,0,0,0,,我们还需要得到照片 并确保设置了标题\N{\fs12}We still have to get an image and we have to make sure we set our title.
Dialogue: 0,1:03:45.63,1:03:46.87,yin,,0,0,0,,我们很近了\N{\fs12}So we're getting closer.
Dialogue: 0,1:03:46.87,1:03:48.71,yin,,0,0,0,,这里我还想讲点题外话\N{\fs12}I'm going to take another little aside
Dialogue: 0,1:03:48.71,1:03:51.47,yin,,0,0,0,,也就是使用委托来进行警告\N{\fs12}to show you doing an alert with a delegate.
Dialogue: 0,1:03:51.47,1:03:53.65,yin,,0,0,0,,如果应用程序中\N{\fs12}What if I had something in my application
Dialogue: 0,1:03:53.65,1:03:59.14,yin,,0,0,0,,我得到了一个致命错误 致命警告 这会怎样\N{\fs12}which was a fatal error, fatal alert.
Dialogue: 0,1:03:59.14,1:04:02.98,yin,,0,0,0,,这个警告很糟糕 我需要立刻取消\N{\fs12}So this is some alert that's so bad I got to cancel right away.
Dialogue: 0,1:04:02.98,1:04:04.79,yin,,0,0,0,,直接取消\N{\fs12}Just do cancel.
Dialogue: 0,1:04:04.79,1:04:05.71,yin,,0,0,0,,如何实现这个\N{\fs12}How would I implement that?
Dialogue: 0,1:04:05.71,1:04:10.04,yin,,0,0,0,,我可以使用和这里相同的警告\N{\fs12}Well, I would do the same alert that I'm doing here.
Dialogue: 0,1:04:10.04,1:04:12.32,yin,,0,0,0,,但委托不为nil\N{\fs12}But instead of having the delegate be nil,
Dialogue: 0,1:04:12.32,1:04:16.87,yin,,0,0,0,,而为self 这样我就能在用户点OK时\N{\fs12}I'm going to have the delegate be self so that I can find out when the user clicks okay.
Dialogue: 0,1:04:16.87,1:04:19.43,yin,,0,0,0,,直接取消掉\N{\fs12}And when they click okay, I'm going to cancel.
Dialogue: 0,1:04:19.43,1:04:21.71,yin,,0,0,0,,我要消掉自己\N{\fs12}I'm going to dismiss myself.
Dialogue: 0,1:04:21.71,1:04:26.00,yin,,0,0,0,,要做这个 我需要是一个UIAlertViewDelegate\N{\fs12}So to do this, I need to be a UI alert view delegate.
Dialogue: 0,1:04:28.57,1:04:31.61,yin,,0,0,0,,然后 我要实现alertView\N{\fs12}And then I'm going to implement the alert view.
Dialogue: 0,1:04:31.61,1:04:34.90,yin,,0,0,0,,这里有不少 我要用的是\N{\fs12}I'm going to do the one dis- you can see there's a few here--
Dialogue: 0,1:04:34.90,1:04:37.68,yin,,0,0,0,,didDismissWithButtonIndex\N{\fs12}did dismiss with button index. That's the one I'm going to do.
Dialogue: 0,1:04:37.68,1:04:41.84,yin,,0,0,0,,这里我只有一个按钮 因此无需考察按钮索引\N{\fs12}And I only have this one button so I didn't even need to look at the button index.
Dialogue: 0,1:04:41.84,1:04:45.52,yin,,0,0,0,,我知道这里我需要取消\N{\fs12}I know that in this case I want to cancel.
Dialogue: 0,1:04:45.52,1:04:48.10,yin,,0,0,0,,我没有将自己设置为这个的委托\N{\fs12}Now I didn't set myself as the delegate for this one,
Dialogue: 0,1:04:48.10,1:04:50.00,yin,,0,0,0,,因此对于常规警告我不打算取消\N{\fs12}so I'm not going to cancel for a normal alert.
Dialogue: 0,1:04:50.00,1:04:53.71,yin,,0,0,0,,只在致命警告时 我才会取消\N{\fs12}Only for a fatal alert am I going to cancel.
Dialogue: 0,1:04:53.71,1:04:55.53,yin,,0,0,0,,什么叫致命呢\N{\fs12}Now what would be fatal?
Dialogue: 0,1:04:55.53,1:04:57.91,yin,,0,0,0,,这里什么情况才会致命呢\N{\fs12}What kind of things would be fatal in this?
Dialogue: 0,1:04:57.91,1:05:00.91,yin,,0,0,0,,如果我的设备没有摄像头\N{\fs12}Well, what if my device has no camera?
Dialogue: 0,1:05:00.91,1:05:02.06,yin,,0,0,0,,这就是致命了\N{\fs12}Okay that's fatal.
Dialogue: 0,1:05:02.06,1:05:05.13,yin,,0,0,0,,没有摄像头 这些东西都只是浪费时间\N{\fs12}It's just a waste of time to have this thing up if my device has no camera.
Dialogue: 0,1:05:05.13,1:05:09.09,yin,,0,0,0,,另外 Photomania的本质是照片位置\N{\fs12}Or, since this PhotoMania is fundamentally locations
Dialogue: 0,1:05:09.09,1:05:12.67,yin,,0,0,0,,如果我无法获知位置 那也会没有意义\N{\fs12}of photos, what if I can't get the location?
Dialogue: 0,1:05:12.67,1:05:15.66,yin,,0,0,0,,或许用户不允许我获得位置信息\N{\fs12}Okay the user maybe doesn't allow me to get the location.
Dialogue: 0,1:05:15.66,1:05:20.25,yin,,0,0,0,,因此 我们这里再加个方法 canAddPhoto\N{\fs12}So let's go ahead and put a method up here called can add photo.
Dialogue: 0,1:05:20.25,1:05:23.19,yin,,0,0,0,,这里需要导入一些东西\N{\fs12}We've got to import some stuff here.
Dialogue: 0,1:05:23.19,1:05:26.55,yin,,0,0,0,,canAddPhoto会检查是否能添加照片\N{\fs12}So this can add photo method is going to check some
Dialogue: 0,1:05:26.55,1:05:31.08,yin,,0,0,0,,这些致命错误包括 我有没有摄像头\N{\fs12}of these fatal errors like do I have a camera available?
Dialogue: 0,1:05:31.08,1:05:34.53,yin,,0,0,0,,我问UIImagePickerController 有没摄像头可用\N{\fs12}I'm asking the UI image picker controller, is there a camera available?
Dialogue: 0,1:05:34.53,1:05:36.58,yin,,0,0,0,,我还要确保我能得到一张图像\N{\fs12}I'm also making sure I can get an image
Dialogue: 0,1:05:36.58,1:05:38.58,yin,,0,0,0,,一般你可能不会检查这个\N{\fs12}which really you usually don't have to check this.
Dialogue: 0,1:05:38.58,1:05:41.22,yin,,0,0,0,,多数时候 你只需检查能否录视频\N{\fs12}Mostly you're checking this to see if it'll do video.
Dialogue: 0,1:05:41.22,1:05:43.36,yin,,0,0,0,,所有摄像头都能拍摄图像\N{\fs12}All cameras can do image,
Dialogue: 0,1:05:43.36,1:05:45.46,yin,,0,0,0,,这里我就演示一下这些检查\N{\fs12}but just to show you what it looks like to check it.
Dialogue: 0,1:05:45.46,1:05:48.25,yin,,0,0,0,,然后我还要检查位置管理器\N{\fs12}And then I'm also going to check my location manager
Dialogue: 0,1:05:48.25,1:05:51.20,yin,,0,0,0,,确保我的授权状态不是受限\N{\fs12}to make sure my authorization status is not restricted.
Dialogue: 0,1:05:51.20,1:05:56.06,yin,,0,0,0,,也就是说 我的授权状态要么是允许 要么是拒绝\N{\fs12}So that means my authorization status is either you're authorized, or denied.
Dialogue: 0,1:05:56.06,1:05:58.44,yin,,0,0,0,,为什么这里我只检查受限呢\N{\fs12}Now why am I only checking restricted here?
Dialogue: 0,1:05:58.44,1:06:00.77,yin,,0,0,0,,因为这是致命错误\N{\fs12}Because this is going to be a fatal error.
Dialogue: 0,1:06:00.77,1:06:02.47,yin,,0,0,0,,成为致命错误的情况\N{\fs12}It's only going to be fatal
Dialogue: 0,1:06:02.47,1:06:07.97,yin,,0,0,0,,只包括用户无法控制app能否找到其位置的情况\N{\fs12}if the user can't control whether my app can find its location.
Dialogue: 0,1:06:07.97,1:06:12.08,yin,,0,0,0,,用户无法设置这些 这就是致命错误\N{\fs12}All right, they can't go to settings and set it, so it's fatal.
Dialogue: 0,1:06:12.08,1:06:15.09,yin,,0,0,0,,后面我还会检查 用户是否只是拒绝\N{\fs12}Later I'll check to see if they've just denied it
Dialogue: 0,1:06:15.09,1:06:17.45,yin,,0,0,0,,我会建议用户回到设置\N{\fs12}and I'm going to suggest to them they go back to settings
Dialogue: 0,1:06:17.45,1:06:19.63,yin,,0,0,0,,取消拒绝 这样它就可以工作了\N{\fs12}and undeny it and then it'll work.
Dialogue: 0,1:06:19.63,1:06:21.84,yin,,0,0,0,,这并不是致命错误\N{\fs12}So it's not a fatal error in that case.
Dialogue: 0,1:06:21.84,1:06:24.82,yin,,0,0,0,,这就是这里只考虑受限这一状态的原因\N{\fs12}So that's the difference why we're doing restricted here, okay?
Dialogue: 0,1:06:24.82,1:06:27.64,yin,,0,0,0,,如果所有这些都没问题 那就很好了\N{\fs12}So if any, if all this is true, then we're good to go.
Dialogue: 0,1:06:27.64,1:06:28.93,yin,,0,0,0,,我们可以拍照\N{\fs12}We can take a photo.
Dialogue: 0,1:06:28.93,1:06:30.89,yin,,0,0,0,,否则我们就无法拍照\N{\fs12}Otherwise, we can't take a photo.
Dialogue: 0,1:06:30.89,1:06:34.65,yin,,0,0,0,,下面 在我们的viewDidAppear中\N{\fs12}So now let's, in our view will appear or view did appear--
Dialogue: 0,1:06:37.49,1:06:39.85,yin,,0,0,0,,super viewDidAppear\N{\fs12}super, view did appear--
Dialogue: 0,1:06:39.85,1:06:47.63,yin,,0,0,0,,我要说 if ([[self class] canAddPhoto])\N{\fs12}I'm going to say if self class can add photo--
Dialogue: 0,1:06:47.63,1:06:51.97,yin,,0,0,0,,这里应该是非 如果我不能添加照片\N{\fs12}actually I'm going to say if not-- if I can't add a photo,
Dialogue: 0,1:06:51.97,1:06:56.75,yin,,0,0,0,,那么 我就要self fatalAlert说\N{\fs12}then I'm going to self fatal alert
Dialogue: 0,1:06:56.75,1:07:01.70,yin,,0,0,0,,抱歉 本设备无法添加照片\N{\fs12}sorry this device cannot add a photo.
Dialogue: 0,1:07:01.70,1:07:04.98,yin,,0,0,0,,注意 我在致命错误中并没有说\N{\fs12}Notice I'm not saying anything in this fatal error like
Dialogue: 0,1:07:05.00,1:07:11.40,yin,,0,0,0,,你无权获得你的位置信息\N{\fs12}you are not authorized to do, get your location
Dialogue: 0,1:07:11.40,1:07:13.85,yin,,0,0,0,,因为用户对此无能为力\N{\fs12}because there's nothing they can do about it.
Dialogue: 0,1:07:13.85,1:07:16.49,yin,,0,0,0,,如果没有摄像头\N{\fs12}If they have no camera or they can't do it, they can't go
Dialogue: 0,1:07:16.49,1:07:19.90,yin,,0,0,0,,用户不能去找一个摄像头\N{\fs12}out of camera or, you know, do something
Dialogue: 0,1:07:19.90,1:07:21.86,yin,,0,0,0,,权限受限用户也没辙\N{\fs12}about their being restricted from doing the location.
Dialogue: 0,1:07:21.86,1:07:24.14,yin,,0,0,0,,所以这里我也不需要建议用户做任何事\N{\fs12}They can't do anything so I'm not going to suggest they do anything.
Dialogue: 0,1:07:24.14,1:07:26.94,yin,,0,0,0,,我只打算说 抱歉 你做不了这个\N{\fs12}I'm just going to say sorry, you can't do it.
Dialogue: 0,1:07:26.94,1:07:30.96,yin,,0,0,0,,当然 我也可以说 抱歉 本设备不能拍照\N{\fs12}I could imagine maybe saying here, sorry this device cannot have a photo
Dialogue: 0,1:07:30.96,1:07:33.80,yin,,0,0,0,,因为你没有摄像头\N{\fs12}because you have no camera.
Dialogue: 0,1:07:33.80,1:07:37.32,yin,,0,0,0,,但我肯定不打算说 因为你无法获得位置信息\N{\fs12}I definitely wouldn't want to say because you cannot get your location.
Dialogue: 0,1:07:37.32,1:07:38.79,yin,,0,0,0,,或者 如果我想说这个\N{\fs12}Or if I do say that, I want
Dialogue: 0,1:07:38.79,1:07:42.73,yin,,0,0,0,,我可以说 同系统管理员联系 尝试获得权限\N{\fs12}to say contact your system administrator or something like that to get yourself there.
Dialogue: 0,1:07:42.73,1:07:44.41,yin,,0,0,0,,你知道的 不过我只说\N{\fs12}It's, you know, but here I'm just going
Dialogue: 0,1:07:44.41,1:07:46.09,yin,,0,0,0,,抱歉 你无法拍照\N{\fs12}to say sorry you can't take a photo, and it's going
Dialogue: 0,1:07:46.09,1:07:48.87,yin,,0,0,0,,这是致命的 因此我会立刻取消\N{\fs12}to be fatal so I'm going to immediately drop out of there.
Dialogue: 0,1:07:48.87,1:07:51.03,yin,,0,0,0,,我们来看看这个\N{\fs12}So let's take a look at that.
Dialogue: 0,1:07:51.03,1:07:54.01,yin,,0,0,0,,进入照片 然后到这里\N{\fs12}All right there's photos, and I'm going to bring this up.
Dialogue: 0,1:07:54.01,1:07:57.08,yin,,0,0,0,,果然 这里显示出"本设备无法拍照"\N{\fs12}And sure enough sorry, this device cannot add a photo.
Dialogue: 0,1:07:57.08,1:07:59.22,yin,,0,0,0,,为什么 因为这是模拟器\N{\fs12}Why? Because it's the simulator.
Dialogue: 0,1:07:59.22,1:08:01.32,yin,,0,0,0,,模拟器无法添加照片\N{\fs12}The simulator cannot add a photo.
Dialogue: 0,1:08:01.32,1:08:03.99,yin,,0,0,0,,这很好地告诉了我 我无法拍照\N{\fs12}So it's properly telling me I can't add a photo
Dialogue: 0,1:08:03.99,1:08:08.14,yin,,0,0,0,,如果我点OK 它就会取消\N{\fs12}and if I click okay, cancel.
Dialogue: 0,1:08:08.14,1:08:10.33,yin,,0,0,0,,这是致命错误\N{\fs12}Okay so fatal error.
Dialogue: 0,1:08:10.33,1:08:13.34,yin,,0,0,0,,下面 我们将继续后面的内容\N{\fs12}Okay so now we're going to continue, we're going to switch
Dialogue: 0,1:08:13.34,1:08:16.89,yin,,0,0,0,,转到一个可以拍照的设备上\N{\fs12}over and do it on a device where we actually can do this stuff.
Dialogue: 0,1:08:16.89,1:08:21.33,yin,,0,0,0,,要做到这个 下面我们需要用到位置管理器\N{\fs12}But to do that, the next thing we want to do is location manager.
Dialogue: 0,1:08:21.33,1:08:24.75,yin,,0,0,0,,我从没演示过如何使用位置这些\N{\fs12}So I never showed you how to do the location stuff
Dialogue: 0,1:08:24.75,1:08:26.94,yin,,0,0,0,,这里是一个很好的例子\N{\fs12}and so this is a good example of how to show that.
Dialogue: 0,1:08:26.94,1:08:30.08,yin,,0,0,0,,我想把这个self.location设为某个东西\N{\fs12}So I want to set this self dot location to something.
Dialogue: 0,1:08:30.08,1:08:32.00,yin,,0,0,0,,因为现在 它是nil\N{\fs12}Because right now it's going to be nil, right?
Dialogue: 0,1:08:32.00,1:08:35.13,yin,,0,0,0,,因为我刚创建了这个属性 从未设置它\N{\fs12}Because I just created that property and I never set it,
Dialogue: 0,1:08:35.13,1:08:36.30,yin,,0,0,0,,而这里我在看它\N{\fs12}and then here I'm looking at it.
Dialogue: 0,1:08:36.30,1:08:38.05,yin,,0,0,0,,我们的经纬度都是0\N{\fs12}So our latitude and longitude would be zero so we're going
Dialogue: 0,1:08:38.05,1:08:41.93,yin,,0,0,0,,我们可能位于非洲西面的海洋中\N{\fs12}to be somewhere out in the ocean somewhere west of Africa or something.
Dialogue: 0,1:08:41.93,1:08:44.15,yin,,0,0,0,,或许还有海盗在追我们\N{\fs12}Probably have pirates after us over there.
Dialogue: 0,1:08:44.15,1:08:45.46,yin,,0,0,0,,我们不想这样\N{\fs12}So we don't want to do that.
Dialogue: 0,1:08:45.48,1:08:47.16,yin,,0,0,0,,我们要设置self.location\N{\fs12}We want to set this self.location.
Dialogue: 0,1:08:47.16,1:08:47.93,yin,,0,0,0,,怎么做呢\N{\fs12}So how are we going to do that?
Dialogue: 0,1:08:47.93,1:08:52.12,yin,,0,0,0,,要做到这个 我需要一个位置管理器\N{\fs12}Well, to do that I need a location manager.
Dialogue: 0,1:08:52.12,1:08:53.81,yin,,0,0,0,,找个地方放这些东西\N{\fs12}So let's find a good place to put all this.
Dialogue: 0,1:08:53.81,1:08:56.35,yin,,0,0,0,,放到下面这里\N{\fs12}Let's put it down here.
Dialogue: 0,1:08:56.35,1:08:58.84,yin,,0,0,0,,我需要一个位置管理器\N{\fs12}So I need a location manager and I,
Dialogue: 0,1:08:58.84,1:09:02.23,yin,,0,0,0,,为了提高速度 我准备了这些\N{\fs12}for speed here I have this to show you how to do that.
Dialogue: 0,1:09:02.25,1:09:06.46,yin,,0,0,0,,我只需要添加这个属性\N{\fs12}So I'm just going to add this property right?
Dialogue: 0,1:09:06.46,1:09:09.01,yin,,0,0,0,,CLLocationManager *locationManager\N{\fs12}CL location manager, location manager,
Dialogue: 0,1:09:09.01,1:09:10.91,yin,,0,0,0,,记得吧 我们会要求\N{\fs12}remember this is the thing we ask
Dialogue: 0,1:09:10.91,1:09:13.80,yin,,0,0,0,,这个东西开始给我们位置的更新\N{\fs12}to start giving us updates on the location.
Dialogue: 0,1:09:13.80,1:09:16.93,yin,,0,0,0,,然后我要惰性实例化它\N{\fs12}And then I'm going to lazily instantiate it.
Dialogue: 0,1:09:16.93,1:09:19.01,yin,,0,0,0,,这里 惰性实例化\N{\fs12}Here it is here, lazy instantiation.
Dialogue: 0,1:09:19.01,1:09:21.83,yin,,0,0,0,,如果没有创建 我将alloc init\N{\fs12}If we haven't created one, then I'm going to alloc init it.
Dialogue: 0,1:09:21.83,1:09:24.62,yin,,0,0,0,,我将把self设为委托\N{\fs12}I'm going to set myself as the delegate.
Dialogue: 0,1:09:24.62,1:09:27.54,yin,,0,0,0,,这里有警告 因为我还没有说我是哪类委托\N{\fs12}Obviously warning because I haven't said that I'm that kind of delegate yet.
Dialogue: 0,1:09:27.56,1:09:30.22,yin,,0,0,0,,然后我要把精度设为最佳\N{\fs12}And then I'm going to set my accuracy to best.
Dialogue: 0,1:09:30.22,1:09:31.61,yin,,0,0,0,,为什么设为最佳呢\N{\fs12}Why am I doing best?
Dialogue: 0,1:09:31.61,1:09:33.86,yin,,0,0,0,,因为我想准确知道这张照片拍自哪里\N{\fs12}Because I want to know exactly where this photo was taken?
Dialogue: 0,1:09:33.86,1:09:37.25,yin,,0,0,0,,我只是模态的 我只会在屏幕上待几秒钟\N{\fs12}And I'm modal anyway so I'm only going to be on screen for a few moments.
Dialogue: 0,1:09:37.25,1:09:40.24,yin,,0,0,0,,只是找到我在哪 并不会用掉很多电量\N{\fs12}I'm not going to use up the whole battery just finding out where I am.
Dialogue: 0,1:09:40.24,1:09:42.69,yin,,0,0,0,,然后这里 我们设置位置管理器\N{\fs12}And then here we set the location manager.
Dialogue: 0,1:09:42.69,1:09:45.52,yin,,0,0,0,,然后这是我要使用的委托方法\N{\fs12}And then here's the delegate method I'm going to use.
Dialogue: 0,1:09:45.52,1:09:48.30,yin,,0,0,0,,我是委托 我将获取委托方法\N{\fs12}I'm the delegate, so I'm going to get the delegate method.
Dialogue: 0,1:09:48.30,1:09:51.11,yin,,0,0,0,,它叫locationManager didUpdateLocations\N{\fs12}It's called location manager did update locations.
Dialogue: 0,1:09:51.11,1:09:53.71,yin,,0,0,0,,它会给我一个数组 其中是它找到的所有位置\N{\fs12}It gives me an array of all the locations it's found
Dialogue: 0,1:09:53.71,1:09:56.50,yin,,0,0,0,,自该方法上次调用这条消息以来\N{\fs12}since the last time it called this message, this method.
Dialogue: 0,1:09:56.50,1:09:58.45,yin,,0,0,0,,我将抓取最后一个\N{\fs12}And I'm just going to grab the last one.
Dialogue: 0,1:09:58.45,1:10:03.31,yin,,0,0,0,,最后一个总会是最新的一个 最准确的一个\N{\fs12}The last one is always the most current one, the most up to date, the most accurate.
Dialogue: 0,1:10:03.31,1:10:06.24,yin,,0,0,0,,这里我们要的总会是它\N{\fs12}That's the one you always want there.
Dialogue: 0,1:10:06.24,1:10:07.92,yin,,0,0,0,,想找当前位置就该这么做\N{\fs12}If you're just trying to get your current location.
Dialogue: 0,1:10:07.92,1:10:10.55,yin,,0,0,0,,我将把这个放到self.location\N{\fs12}And I'm just going to put that in self dot location so that
Dialogue: 0,1:10:10.55,1:10:15.08,yin,,0,0,0,,这样一来 到这里就会是正确的位置\N{\fs12}when I pop it in here it'll be the right location.
Dialogue: 0,1:10:15.08,1:10:17.50,yin,,0,0,0,,这还没完\N{\fs12}Now, we're not done here
Dialogue: 0,1:10:17.50,1:10:21.95,yin,,0,0,0,,因为这个位置管理器 我们需要开启它\N{\fs12}because this location manager, we have to start it up.
Dialogue: 0,1:10:21.95,1:10:24.05,yin,,0,0,0,,记得吧 创建一个位置管理器…\N{\fs12}Okay remember, just because you create a location manager--
Dialogue: 0,1:10:24.05,1:10:26.96,yin,,0,0,0,,让我先来处理这个委托\N{\fs12}let me go ahead and do this delegate thing first,
Dialogue: 0,1:10:26.96,1:10:33.09,yin,,0,0,0,,让我自己成为CLLocationManagerDelegate\N{\fs12}make myself be a CL location manager delegate.
Dialogue: 0,1:10:33.09,1:10:34.36,yin,,0,0,0,,我需要开启它\N{\fs12}I need to start it up.
Dialogue: 0,1:10:34.36,1:10:35.34,yin,,0,0,0,,在哪做呢\N{\fs12}And where am I going to start it up?
Dialogue: 0,1:10:35.34,1:10:37.51,yin,,0,0,0,,在viewDidAppear中\N{\fs12}I'm going to start it up in view did appear.
Dialogue: 0,1:10:37.51,1:10:42.03,yin,,0,0,0,,我要说 否则 因为这里是不能添加照片的情况\N{\fs12}So I'm going to say else-- okay this is I can't add a photo.
Dialogue: 0,1:10:42.03,1:10:45.69,yin,,0,0,0,,否则 我要说 self.locationManager\N{\fs12}So else, I'm going to say self dot location manager--
Dialogue: 0,1:10:45.69,1:10:49.93,yin,,0,0,0,,这会惰性实例化它 开始更新位置\N{\fs12}that's going to lazily instantiate it starts updating location.
Dialogue: 0,1:10:49.93,1:10:55.26,yin,,0,0,0,,这就会开始向我发送位置的委托方法\N{\fs12}And that's going to start sending me those delegate methods of my location, all right?
Dialogue: 0,1:10:55.26,1:10:58.43,yin,,0,0,0,,也许马上 它就会发送一个很不准确的给我\N{\fs12}It's probably going to send me one right away that's pretty inaccurate,
Dialogue: 0,1:10:58.43,1:11:00.23,yin,,0,0,0,,例如基于wifi的 或是别的什么\N{\fs12}like WiFi based or something,
Dialogue: 0,1:11:00.23,1:11:02.40,yin,,0,0,0,,然后它可能会发送另一个使用GPS的消息\N{\fs12}then it'll probably send me another one with GPS
Dialogue: 0,1:11:02.40,1:11:04.94,yin,,0,0,0,,如果我在外面 可以和卫星通讯的话\N{\fs12}if I'm outside or I can, you know, see the satellites.
Dialogue: 0,1:11:04.94,1:11:06.54,yin,,0,0,0,,这可能会多于一个 这没问题\N{\fs12}So it might send me more than one. That's okay.
Dialogue: 0,1:11:06.54,1:11:10.19,yin,,0,0,0,,随时间推移 我希望它持续发送越来越准确的信息\N{\fs12}I want it to keep sending me more and more accurate ones as time goes on.
Dialogue: 0,1:11:10.19,1:11:15.20,yin,,0,0,0,,这样做时 你几乎总要在viewWillDisappear中\N{\fs12}If you do this, you almost always, in view will disappear,
Dialogue: 0,1:11:15.20,1:11:17.52,yin,,0,0,0,,将这个关闭掉\N{\fs12}want to turn this back off.
Dialogue: 0,1:11:17.52,1:11:20.67,yin,,0,0,0,,这里问题其实并不大\N{\fs12}Now it's not that huge a deal here
Dialogue: 0,1:11:20.67,1:11:25.64,yin,,0,0,0,,因为这个是模态方式present的\N{\fs12}because this thing is presented modally.
Dialogue: 0,1:11:25.64,1:11:28.91,yin,,0,0,0,,这里是停止更新位置\N{\fs12}Oops, stop updating location.
Dialogue: 0,1:11:28.91,1:11:32.99,yin,,0,0,0,,这是模态方式present的 因此当这个unwind时\N{\fs12}This is presented modally and so when this thing unwinds,
Dialogue: 0,1:11:32.99,1:11:34.86,yin,,0,0,0,,它会从堆中被释放\N{\fs12}it's going to get released from the heap.
Dialogue: 0,1:11:34.86,1:11:36.33,yin,,0,0,0,,从堆中被释放时\N{\fs12}And when it gets released from the heap,
Dialogue: 0,1:11:36.33,1:11:39.66,yin,,0,0,0,,这个位置管理器也会被释放 并停止更新\N{\fs12}this location manager's going to get released and it's going to stop updating.
Dialogue: 0,1:11:39.66,1:11:41.41,yin,,0,0,0,,因此这里问题不大\N{\fs12}So it's really not that big a deal,
Dialogue: 0,1:11:41.41,1:11:43.63,yin,,0,0,0,,不过有些情况下\N{\fs12}but if for some reason we ever figured out how
Dialogue: 0,1:11:43.63,1:11:46.83,yin,,0,0,0,,这个会以非模态方式呈现出来\N{\fs12}to make this thing not be modal, put it up in a non modal way,
Dialogue: 0,1:11:46.83,1:11:48.30,yin,,0,0,0,,我们希望养成好习惯\N{\fs12}we just want to be in the good habit
Dialogue: 0,1:11:48.30,1:11:51.71,yin,,0,0,0,,每次开启这个时 都要再找地方将它关闭\N{\fs12}of every time we turn this thing on, turn it off somewhere.
Dialogue: 0,1:11:51.71,1:11:55.06,yin,,0,0,0,,哪怕它会自动被从堆中丢出来\N{\fs12}Even if it's, you know, turns it off right before it gets thrown out of the heap.
Dialogue: 0,1:11:55.06,1:11:57.23,yin,,0,0,0,,总记得关掉它\N{\fs12}Still, turn it off.
Dialogue: 0,1:11:57.23,1:11:59.66,yin,,0,0,0,,使用位置更新代价很大\N{\fs12}Using location updates is expensive.
Dialogue: 0,1:11:59.66,1:12:01.71,yin,,0,0,0,,这个还在时我们可以运行它\N{\fs12}Fine to run while this thing is up,
Dialogue: 0,1:12:01.71,1:12:06.17,yin,,0,0,0,,但最后 我们需要确保将它关闭了\N{\fs12}but we want to make sure we turn it off.
Dialogue: 0,1:12:06.17,1:12:13.96,yin,,0,0,0,,好 下面再来看还有什么要做\N{\fs12}Okay let's go ahead and, let's see what else can we do here?
Dialogue: 0,1:12:13.96,1:12:20.99,yin,,0,0,0,,好 让我们把这两个方法丢入到图像URL和缩略图URL\N{\fs12}Yeah, let's go ahead and throw these two methods into image URL and thumbnail URL.
Dialogue: 0,1:12:20.99,1:12:24.26,yin,,0,0,0,,这里对于图像URL和缩略图URL\N{\fs12}So all I need to do here with the image URL and thumbnail URL
Dialogue: 0,1:12:24.27,1:12:28.60,yin,,0,0,0,,我只需要把图像视图中的图像放到磁盘上\N{\fs12}is I'm just going to take the image that's in my image view, put it on disk,
Dialogue: 0,1:12:28.60,1:12:30.38,yin,,0,0,0,,然后返回URL\N{\fs12}and return the URL.
Dialogue: 0,1:12:30.38,1:12:31.94,yin,,0,0,0,,放到磁盘上的哪里呢\N{\fs12}Where am I going to put it on disk?
Dialogue: 0,1:12:31.94,1:12:35.07,yin,,0,0,0,,放到一个随机命名的文件中\N{\fs12}I'm just going to put it in a randomly named file.
Dialogue: 0,1:12:35.07,1:12:37.30,yin,,0,0,0,,随机取个名字\N{\fs12}I'm just going to pick a name, I'm going to pick,
Dialogue: 0,1:12:37.30,1:12:40.48,yin,,0,0,0,,名字将是某个参考日期之后的秒数\N{\fs12}the name is going to be the number of seconds since some reference date in
Dialogue: 0,1:12:40.48,1:12:42.48,yin,,0,0,0,,参考日期可以是2001这些\N{\fs12}2001 or something like that.
Dialogue: 0,1:12:42.48,1:12:43.79,yin,,0,0,0,,这是唯一的\N{\fs12}That's pretty unique.
Dialogue: 0,1:12:43.79,1:12:47.48,yin,,0,0,0,,除非两个设备完全同时使用\N{\fs12}It's not likely, I mean unless somehow you did two different
Dialogue: 0,1:12:47.48,1:12:49.45,yin,,0,0,0,,而这是在iCloud中\N{\fs12}devices identically and this was over iCloud,
Dialogue: 0,1:12:49.45,1:12:54.22,yin,,0,0,0,,这时就可能会有冲突 不过我们就这样做\N{\fs12}you could conceivably get a conflict there but we're just going to do that.
Dialogue: 0,1:12:54.22,1:12:56.91,yin,,0,0,0,,或许有更好的办法 反正这里\N{\fs12}Probably better ways but we're going
Dialogue: 0,1:12:56.91,1:13:02.88,yin,,0,0,0,,我们将创建图像URL和缩略图URL 放到下面这里\N{\fs12}to create both the image URL and the thumbnail URL. Let's put those down here.
Dialogue: 0,1:13:02.88,1:13:08.49,yin,,0,0,0,,图像URL NSURL imageURL是这样的\N{\fs12}So the image URL, NS URL, image URL looks like this.
Dialogue: 0,1:13:09.60,1:13:11.87,yin,,0,0,0,,这是方法的getter\N{\fs12}Okay so this is the getter for that method,
Dialogue: 0,1:13:11.87,1:13:14.04,yin,,0,0,0,,我将按惰性方式创建文件\N{\fs12}so I'm going lazily create that file.
Dialogue: 0,1:13:14.04,1:13:15.90,yin,,0,0,0,,一旦有人想要它的URL\N{\fs12}As soon as someone wants the URL for it,
Dialogue: 0,1:13:15.90,1:13:18.44,yin,,0,0,0,,我就会创建文件\N{\fs12}I'm going to go create the file.
Dialogue: 0,1:13:18.44,1:13:21.32,yin,,0,0,0,,换言之 如果!_imageURL\N{\fs12}So if not image URL-- in other words,
Dialogue: 0,1:13:21.32,1:13:22.93,yin,,0,0,0,,我就会惰性实例化它\N{\fs12}I'm going to lazily instantiate it.
Dialogue: 0,1:13:22.93,1:13:25.07,yin,,0,0,0,,且我们有图像\N{\fs12}And we have an image,
Dialogue: 0,1:13:25.07,1:13:27.62,yin,,0,0,0,,显然 没有图像 我们就无法创建文件\N{\fs12}okay because we can't create the file if we don't have an image,
Dialogue: 0,1:13:27.62,1:13:31.67,yin,,0,0,0,,不过如果有图像 我们就会这样做\N{\fs12}but if we do have the image then we'll do it.
Dialogue: 0,1:13:31.67,1:13:36.47,yin,,0,0,0,,让我们这样做 我们说NSURL\N{\fs12}Let's do this, let's say NS URL,
Dialogue: 0,1:13:36.49,1:13:42.53,yin,,0,0,0,,url = self uniqueDocumentURL\N{\fs12}URL equals self unique document URL.
Dialogue: 0,1:13:42.53,1:13:46.91,yin,,0,0,0,,这将是文档目录下唯一的URL\N{\fs12}Okay so this is just going to be a unique URL in my documents directory.
Dialogue: 0,1:13:46.91,1:13:50.20,yin,,0,0,0,,我写到了这里 你们有时间可以看\N{\fs12}I have that one here for you, you can look at it at your leisure.
Dialogue: 0,1:13:50.20,1:13:52.97,yin,,0,0,0,,你们已经知道如何做这些东西\N{\fs12}It just does, you know how to do all these things already
Dialogue: 0,1:13:52.97,1:13:54.98,yin,,0,0,0,,我没必要再讲一次\N{\fs12}so there's no use going over them again.
Dialogue: 0,1:13:54.98,1:13:57.62,yin,,0,0,0,,我有了这个唯一的URL\N{\fs12}So I got this unique URL.
Dialogue: 0,1:13:57.62,1:13:59.40,yin,,0,0,0,,如果这能成功\N{\fs12}If that was successful,
Dialogue: 0,1:13:59.40,1:14:04.01,yin,,0,0,0,,那么我就要从图像视图中获取图像数据\N{\fs12}then I'm going to get the image data out of my image view
Dialogue: 0,1:14:04.01,1:14:06.83,yin,,0,0,0,,我打算通过这个很酷的函数来做到这一点\N{\fs12}and I'm going to do that through this kind of cool function,
Dialogue: 0,1:14:06.83,1:14:09.51,yin,,0,0,0,,UIImageJPEGRepresentation\N{\fs12}UI image jpeg representation.
Dialogue: 0,1:14:09.51,1:14:11.63,yin,,0,0,0,,它的参数是一个UIImage\N{\fs12}It will take a UI image
Dialogue: 0,1:14:11.63,1:14:15.46,yin,,0,0,0,,返回的是NSData 带有它的JPEG\N{\fs12}and give you back an NS data with a Jpeg of that thing.
Dialogue: 0,1:14:15.47,1:14:16.89,yin,,0,0,0,,很酷 不是吗\N{\fs12}Pretty cool, huh?
Dialogue: 0,1:14:16.89,1:14:19.33,yin,,0,0,0,,不是所有图像都能这样做\N{\fs12}Not all images can do this but,
Dialogue: 0,1:14:19.33,1:14:22.36,yin,,0,0,0,,不过摄像头拍摄的图像都没问题\N{\fs12}you know, the kind of images that we load from the camera can, for example.
Dialogue: 0,1:14:22.36,1:14:24.52,yin,,0,0,0,,这将是self.image\N{\fs12}So this would be self dot image,
Dialogue: 0,1:14:24.52,1:14:26.80,yin,,0,0,0,,然后这是压缩程度\N{\fs12}and then this is how much you want to compress it,
Dialogue: 0,1:14:26.80,1:14:29.90,yin,,0,0,0,,我希望压缩尽可能少\N{\fs12}and I'm going to compress it as little as possible.
Dialogue: 0,1:14:29.90,1:14:33.75,yin,,0,0,0,,因为我希望照片跟刚拍的时候差别尽可能小\N{\fs12}Because I want the image to be as close to what you took of the camera as possible.
Dialogue: 0,1:14:33.75,1:14:35.96,yin,,0,0,0,,我不希望压缩毁掉图片的原样\N{\fs12}I don't want any compression artifacts or any of that stuff
Dialogue: 0,1:14:35.96,1:14:37.63,yin,,0,0,0,,因为这就是你实际拍的照片\N{\fs12}because this is the actual image you took.
Dialogue: 0,1:14:37.63,1:14:40.45,yin,,0,0,0,,有了这个以后 我想说\N{\fs12}So now that I have this, I'm going to say if I'm able
Dialogue: 0,1:14:40.45,1:14:43.45,yin,,0,0,0,,如果我能把这个写出 那就写到URL\N{\fs12}to write this thing out, write to URLs.
Dialogue: 0,1:14:43.45,1:14:47.87,yin,,0,0,0,,writeToURL是一个USData方法 我将指定URL\N{\fs12}So write to URL is an NS data method and I'm going to specify that URL,
Dialogue: 0,1:14:47.88,1:14:49.38,yin,,0,0,0,,YES 这里我要按原子方式来\N{\fs12}and yes I'm going to do it atomically
Dialogue: 0,1:14:49.38,1:14:51.38,yin,,0,0,0,,意味着会写入到一个临时文件\N{\fs12}which means it's going to write it to a temporary file,
Dialogue: 0,1:14:51.38,1:14:56.17,yin,,0,0,0,,删除已有的 在一个原子事务中移过来\N{\fs12}delete any existing one, move it over in one atomic transaction
Dialogue: 0,1:14:56.17,1:14:58.38,yin,,0,0,0,,如果手机在过程中崩溃\N{\fs12}so if the phone crashes in the middle, you won't get,
Dialogue: 0,1:14:58.38,1:15:01.36,yin,,0,0,0,,旧文件就还会在那里\N{\fs12}you'll still have an old file if it were still there.
Dialogue: 0,1:15:01.36,1:15:04.80,yin,,0,0,0,,如果它成功做到了 那么这就是图像URL\N{\fs12}If it successfully does that, then now this is the image URL.
Dialogue: 0,1:15:04.80,1:15:08.96,yin,,0,0,0,,记住 这是图像URL的getter 我在设置这个\N{\fs12}Remember this is the getter for image URL so I'm setting that.
Dialogue: 0,1:15:08.96,1:15:11.26,yin,,0,0,0,,现在 我们可以返回图像URL\N{\fs12}And now we can return our image URL.
Dialogue: 0,1:15:11.26,1:15:14.06,yin,,0,0,0,,每次你要图像URL时\N{\fs12}Now one thing is, every time you ask for the image URL,
Dialogue: 0,1:15:14.06,1:15:16.46,yin,,0,0,0,,我都会把它写出到磁盘\N{\fs12}I'm writing it out to disk.
Dialogue: 0,1:15:16.46,1:15:19.73,yin,,0,0,0,,不是每次 而是首次要的时候\N{\fs12}Well not every time but the first time you ask for it.
Dialogue: 0,1:15:19.73,1:15:23.23,yin,,0,0,0,,我需要小心 如果有人把照片换了\N{\fs12}I better be careful here if someone changes the image,
Dialogue: 0,1:15:23.23,1:15:25.31,yin,,0,0,0,,我就需要重新生成这个URL\N{\fs12}I'm going to have to regenerate this URL.
Dialogue: 0,1:15:25.31,1:15:28.78,yin,,0,0,0,,我还需要从磁盘上删除文件\N{\fs12}I also want to delete that file off of disk.
Dialogue: 0,1:15:28.78,1:15:31.17,yin,,0,0,0,,这里我要说 如果有人将图像\N{\fs12}So here I'm going to say, if anyone sets the image
Dialogue: 0,1:15:31.17,1:15:34.17,yin,,0,0,0,,设置为新图片 我要说NSFileManager\N{\fs12}to something new, I'm going to say NS file manager,
Dialogue: 0,1:15:34.17,1:15:35.61,yin,,0,0,0,,defaultManager\N{\fs12}default manager,
Dialogue: 0,1:15:35.61,1:15:38.87,yin,,0,0,0,,removeItemAtURL: 我们的imageURL\N{\fs12}remove item at URL our image URL.
Dialogue: 0,1:15:38.87,1:15:41.76,yin,,0,0,0,,注意这里我没有调用self.imageURL\N{\fs12}Notice I'm not calling self dot image URL here
Dialogue: 0,1:15:41.76,1:15:44.24,yin,,0,0,0,,因为那会创建文件\N{\fs12}because that would create the file.
Dialogue: 0,1:15:44.24,1:15:46.82,yin,,0,0,0,,这里有些奇特\N{\fs12}So this is a little bit weird.
Dialogue: 0,1:15:46.82,1:15:49.62,yin,,0,0,0,,我说过 除了setter和getter里面\N{\fs12}I told you never use underbar
Dialogue: 0,1:15:49.62,1:15:51.70,yin,,0,0,0,,都不要使用带下划线的\N{\fs12}in anything but a setter or a getter.
Dialogue: 0,1:15:51.70,1:15:56.30,yin,,0,0,0,,这里我违反了自己说的 不过这是出于性能考虑\N{\fs12}I'm violating that but it's, you know, kind of for performance reasons here
Dialogue: 0,1:15:56.30,1:15:57.98,yin,,0,0,0,,我们不关心这里有没有错误\N{\fs12}and we don't care if there's an error.
Dialogue: 0,1:15:57.98,1:16:00.35,yin,,0,0,0,,如果它不能删除 它就不能删除\N{\fs12}If it couldn't delete it, it couldn't delete it.
Dialogue: 0,1:16:00.35,1:16:04.00,yin,,0,0,0,,而且我还要将imageURL设为nil\N{\fs12}And also I'm going to set my image URL to nil
Dialogue: 0,1:16:04.00,1:16:05.86,yin,,0,0,0,,以后再有人问\N{\fs12}so that the next time someone asks,
Dialogue: 0,1:16:05.86,1:16:07.49,yin,,0,0,0,,因为我有一张新图片\N{\fs12}because I have a new image,
Dialogue: 0,1:16:07.49,1:16:09.77,yin,,0,0,0,,以后再有人问 它就会重新生成\N{\fs12}the next time someone asks, it'll regenerate.
Dialogue: 0,1:16:09.77,1:16:14.01,yin,,0,0,0,,我要对缩略图做完全相同的事情\N{\fs12}So I'm going to do the exact same thing for the thumbnail.
Dialogue: 0,1:16:14.01,1:16:16.30,yin,,0,0,0,,我创建了这个文件\N{\fs12}I created this file here.
Dialogue: 0,1:16:16.30,1:16:19.33,yin,,0,0,0,,我要拖入一点category\N{\fs12}I'm going to drag in a little category
Dialogue: 0,1:16:19.33,1:16:22.49,yin,,0,0,0,,这是我之前创建的\N{\fs12}that I created
Dialogue: 0,1:16:22.49,1:16:26.74,yin,,0,0,0,,使用了上周五辅导课上的一些代码\N{\fs12}using some of the code from last Friday's section
Dialogue: 0,1:16:26.74,1:16:31.25,yin,,0,0,0,,还有一些我写的代码 在这里\N{\fs12}and also some of the little code that I wrote. So here it is right here.
Dialogue: 0,1:16:31.25,1:16:32.46,yin,,0,0,0,,拖入这里\N{\fs12}Put it in here.
Dialogue: 0,1:16:32.46,1:16:34.54,yin,,0,0,0,,到这里来 这样你们就能看到我在做什么\N{\fs12}Oops, let's go here so you can see what I'm doing.
Dialogue: 0,1:16:34.54,1:16:37.00,yin,,0,0,0,,把这个放到这里\N{\fs12}Going to put this right here.
Dialogue: 0,1:16:37.00,1:16:39.37,yin,,0,0,0,,这段代码很简单\N{\fs12}This code is quite simple.
Dialogue: 0,1:16:39.37,1:16:40.74,yin,,0,0,0,,它只有两个方法\N{\fs12}It just has two methods.
Dialogue: 0,1:16:40.74,1:16:44.93,yin,,0,0,0,,一个是取图像 并获得调整尺寸后的新图像\N{\fs12}One takes the image and gets a new image by resizing it.
Dialogue: 0,1:16:44.93,1:16:46.18,yin,,0,0,0,,缩略图就是这个了\N{\fs12}That's what we want for a thumbnail.
Dialogue: 0,1:16:46.18,1:16:50.29,yin,,0,0,0,,而这个应用了一个过滤器 基于周五辅导课上的内容\N{\fs12}And this one applies a filter based on what we saw at Friday's section.
Dialogue: 0,1:16:50.29,1:16:52.48,yin,,0,0,0,,没上周五辅导课的人 可能看不懂这段代码\N{\fs12}So if you miss Friday's section you won't understand this code,
Dialogue: 0,1:16:52.48,1:16:53.84,yin,,0,0,0,,上了的人肯定知道\N{\fs12}but if you were there you will.
Dialogue: 0,1:16:53.84,1:16:56.42,yin,,0,0,0,,这段代码很简单 使用drawInRect\N{\fs12}And this is pretty straightforward code using draw in rect
Dialogue: 0,1:16:56.42,1:16:59.22,yin,,0,0,0,,还有这个GraphicsBeginImageContextWithOption\N{\fs12}and this nice graphics begin image context with option
Dialogue: 0,1:16:59.22,1:17:02.50,yin,,0,0,0,,你们可以离线看看这些\N{\fs12}so you can look at that offline as well.
Dialogue: 0,1:17:02.50,1:17:04.89,yin,,0,0,0,,下面回到这里\N{\fs12}And so now let's go back here,
Dialogue: 0,1:17:04.89,1:17:08.92,yin,,0,0,0,,有了这个以后… 我到哪里了\N{\fs12}and now that I have that, let u- where was I?
Dialogue: 0,1:17:08.92,1:17:10.05,yin,,0,0,0,,我来找找\N{\fs12}Let's find this thing.
Dialogue: 0,1:17:10.05,1:17:11.29,yin,,0,0,0,,下面吧\N{\fs12}It's way down here.
Dialogue: 0,1:17:11.29,1:17:11.92,yin,,0,0,0,,这里\N{\fs12}Here it is.
Dialogue: 0,1:17:11.92,1:17:15.73,yin,,0,0,0,,我们获得缩略图 缩略图使用图像相同的URL\N{\fs12}So we've got the thumbnail, so the thumbnail uses the same URL as the image
Dialogue: 0,1:17:15.73,1:17:17.74,yin,,0,0,0,,不过加上了.thumbnail\N{\fs12}but adds dot thumbnail to it
Dialogue: 0,1:17:17.74,1:17:20.42,yin,,0,0,0,,然后缩放了 其它都完全相同\N{\fs12}and then scales it and then does exactly the same thing.
Dialogue: 0,1:17:20.42,1:17:21.42,yin,,0,0,0,,这是缩略图\N{\fs12}So now thumbnail,
Dialogue: 0,1:17:21.42,1:17:23.50,yin,,0,0,0,,我们要对缩略图做相同的事\N{\fs12}so we want to do the same thing here for the thumbnail.
Dialogue: 0,1:17:23.50,1:17:28.83,yin,,0,0,0,,我们需要删除缩略图文件 我们还要self.thumbnail\N{\fs12}We better remove our thumbnail file and we want to self dot thumbnail.
Dialogue: 0,1:17:28.83,1:17:31.48,yin,,0,0,0,,严格来讲 这不是必需的 不过这里就这样\N{\fs12}That's not strictly necessary but we'll do it.
Dialogue: 0,1:17:31.48,1:17:35.60,yin,,0,0,0,,现在 我们有了缩略图URL和图像URL\N{\fs12}Okay, so now that we have thumbnail URL and image URL,
Dialogue: 0,1:17:35.60,1:17:40.92,yin,,0,0,0,,上面这个照片创建就能完整地创建照片了\N{\fs12}this photo creation up here will be able to fully create the photo.
Dialogue: 0,1:17:40.92,1:17:43.75,yin,,0,0,0,,我们还没有摄像头 不过最后\N{\fs12}Now we don't have the camera, but I want to end this thing
Dialogue: 0,1:17:43.75,1:17:46.07,yin,,0,0,0,,我打算演示一下目前的进展\N{\fs12}by showing you this working so far.
Dialogue: 0,1:17:46.07,1:17:49.62,yin,,0,0,0,,我打算拖入一个图像 一朵小花\N{\fs12}So I'm going to drag an image, a little flower--
Dialogue: 0,1:17:49.62,1:17:52.13,yin,,0,0,0,,这朵花我们之前就看到过\N{\fs12}this is the flower we saw earlier in the quarter--
Dialogue: 0,1:17:52.13,1:17:56.76,yin,,0,0,0,,我打算把这朵小花当成我们的照片\N{\fs12}and I'm going to make this little flower be our photo, okay?
Dialogue: 0,1:17:56.76,1:18:02.02,yin,,0,0,0,,我打算在viewDidLoad中这样做\N{\fs12}So I'm just going to do that right here in view did load of this guy.
Dialogue: 0,1:18:02.02,1:18:04.56,yin,,0,0,0,,viewDidLoad\N{\fs12}View did load.
Dialogue: 0,1:18:06.21,1:18:10.29,yin,,0,0,0,,super viewDidLoad\N{\fs12}Super view did load and I'm going
Dialogue: 0,1:18:10.29,1:18:16.28,yin,,0,0,0,,然后是self.image = UIImage imageNamed\N{\fs12}to say self dot image equals UI image image named
Dialogue: 0,1:18:16.28,1:18:18.39,yin,,0,0,0,,flower.jpeg\N{\fs12}flower dot jpeg.
Dialogue: 0,1:18:18.41,1:18:22.04,yin,,0,0,0,,这里我要讲讲我刚做的事 这很酷\N{\fs12}This is an opportunity to show you another cool thing that we, I just did.
Dialogue: 0,1:18:22.04,1:18:26.43,yin,,0,0,0,,你们看到 我将文件拖入到Photomania的顶层\N{\fs12}What you see, I dragged the file right into my top level of PhotoMania
Dialogue: 0,1:18:26.43,1:18:31.07,yin,,0,0,0,,然后我可以使用imageNamed这些直接访问它\N{\fs12}and then I can access it directly using something like image named.
Dialogue: 0,1:18:31.07,1:18:33.28,yin,,0,0,0,,你并不一定要把文件放到asset中\N{\fs12}So you don't actually have to put things in that asset,
Dialogue: 0,1:18:33.28,1:18:36.57,yin,,0,0,0,,你可以放到顶层 然后像这样访问它们\N{\fs12}so you can put them right in the top level if you want and access them that way.
Dialogue: 0,1:18:36.57,1:18:40.14,yin,,0,0,0,,好 但愿… 哦 这不行\N{\fs12}All right, so hopefully-- oops, this is not going to work
Dialogue: 0,1:18:40.14,1:18:43.03,yin,,0,0,0,,因为我们需要用真正的设备\N{\fs12}because we need to be on a real device.
Dialogue: 0,1:18:43.24,1:18:47.51,yin,,0,0,0,,这里是iPad和iPhone模拟模式\N{\fs12}There we go. I've got this iPad and iPhone simulation mode here.
Dialogue: 0,1:18:55.59,1:18:58.04,yin,,0,0,0,,好 到My Photos里面\N{\fs12}All right so we'll go to my photos.
Dialogue: 0,1:18:58.04,1:19:00.71,yin,,0,0,0,,这里显示了我的所有照片 我一张都没有\N{\fs12}Here's showing all my photos. I don't have any yet.
Dialogue: 0,1:19:00.71,1:19:02.35,yin,,0,0,0,,点相机按钮\N{\fs12}We'll press the little camera.
Dialogue: 0,1:19:02.35,1:19:04.56,yin,,0,0,0,,这是相机拍摄的照片\N{\fs12}Here's our photo that we took with our camera.
Dialogue: 0,1:19:04.56,1:19:08.36,yin,,0,0,0,,真正的拍照周三再讲 这里就用了一张图像\N{\fs12}We'll do that on Wednesday so for now we got photo.
Dialogue: 0,1:19:08.36,1:19:10.27,yin,,0,0,0,,我们可以按完成\N{\fs12}We could actually hit done here.
Dialogue: 0,1:19:10.27,1:19:11.39,yin,,0,0,0,,看看会怎样\N{\fs12}Watch what happened if we hit done.
Dialogue: 0,1:19:11.39,1:19:12.74,yin,,0,0,0,,它说 必需有标题\N{\fs12}It says title required.
Dialogue: 0,1:19:12.74,1:19:16.11,yin,,0,0,0,,记得shouldPerform方法吗 这很好 我们需要这个\N{\fs12}Remember we had that should perform so that's good that it requires that.
Dialogue: 0,1:19:16.11,1:19:20.25,yin,,0,0,0,,我们把这个称作Flower\N{\fs12}So we'll call this flower
Dialogue: 0,1:19:20.25,1:19:25.49,yin,,0,0,0,,然后是副标题 Pretty\N{\fs12}and then we'll have a little subtitle, pretty.
Dialogue: 0,1:19:25.49,1:19:26.65,yin,,0,0,0,,这就好了\N{\fs12}So we're ready to go.
Dialogue: 0,1:19:26.65,1:19:29.56,yin,,0,0,0,,点完成 它就会unwind 然后创建照片\N{\fs12}Now we hit done, it unwinds, it creates it.
Dialogue: 0,1:19:29.56,1:19:31.38,yin,,0,0,0,,它找到了我们的位置\N{\fs12}It found our location.
Dialogue: 0,1:19:31.38,1:19:33.84,yin,,0,0,0,,点它 我们会看到缩略图\N{\fs12}If we click on it, we see it's got a thumbnail.
Dialogue: 0,1:19:33.84,1:19:36.07,yin,,0,0,0,,我们可以点击查看照片\N{\fs12}We can click to see the photo.
Dialogue: 0,1:19:36.07,1:19:38.61,yin,,0,0,0,,这就是我们的照片\N{\fs12}Here's our photo, etcetera.
Dialogue: 0,1:19:39.73,1:19:41.54,yin,,0,0,0,,明白了吗\N{\fs12}Got all that?
Dialogue: 0,1:19:41.54,1:19:45.87,yin,,0,0,0,,好 周三 我们将继续这个 讲解实际拍照\N{\fs12}Okay, so on Wednesday we will continue by actually getting the photo in here.
Dialogue: 0,1:19:45.87,1:19:47.41,yin,,0,0,0,,我还会演示动作表单\N{\fs12}I'll also show you an action sheet.
Dialogue: 0,1:19:47.41,1:19:49.15,yin,,0,0,0,,我们将使用过滤那些\N{\fs12}We'll use that filtering thing
Dialogue: 0,1:19:49.15,1:19:52.57,yin,,0,0,0,,创建出过滤照片用的动作表单\N{\fs12}to put an action sheet up that filters our photo.
Dialogue: 0,1:19:52.57,1:19:55.30,yin,,0,0,0,,有问题的可以来提\N{\fs12}If you have questions I'm here.
Dialogue: 0,1:19:56.80,1:20:00.28,yin,,0,0,0,,更多内容 请访问我校官网stanford.edu\N{\fs12}> For more, please visit us at Stanford.edu.
